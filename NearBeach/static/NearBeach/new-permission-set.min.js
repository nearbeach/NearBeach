"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[7937],{7045:(o,e,i)=>{i.d(e,{Z:()=>_});var a=i(6252),n=i(3577);const t=["src"],s={class:"organisation-name"},r=["href"],l={class:"organisation-link"},d=["href"],c={class:"organisation-email"},g=["href"];var m=i(989),u=i(6542),h=i(5808);const p={name:"ListOrganisations",components:{Icon:u.JO},props:{organisationResults:{type:Array,default:()=>[]}},computed:{...(0,m.Se)({rootUrl:"getRootUrl",staticUrl:"getStaticUrl"})},mixins:[h.Z],methods:{getProfilePicture(o){const e=o.fields.organisation_profile_picture;return""===e||null===e?`${this.staticUrl}NearBeach/images/placeholder/product_tour.svg`:`${this.rootUrl}private/${e}`}}},_=(0,i(3744).Z)(p,[["render",function(o,e,i,m,u,h){const p=(0,a.up)("Icon");return(0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.organisationResults,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"organisation-details"},[(0,a._)("img",{src:h.getProfilePicture(e),alt:"Stakeholder Logo",class:"organisation-image"},null,8,t),(0,a._)("div",s,[(0,a._)("a",{href:`${o.rootUrl}organisation_information/${e.pk}/`},(0,n.toDisplayString)(e.fields.organisation_name),9,r)]),(0,a._)("div",l,[(0,a.Wm)(p,{icon:o.icons.linkOut},null,8,["icon"]),(0,a.Uk)(" Website: "),(0,a._)("a",{href:e.fields.organisation_website,target:"_blank",rel:"noopener noreferrer"},(0,n.toDisplayString)(e.fields.organisation_website),9,d)]),(0,a._)("div",c,[(0,a.Wm)(p,{icon:o.icons.mailIcon},null,8,["icon"]),(0,a.Uk)(" Email: "),(0,a._)("a",{href:`mailto:${e.fields.organisation_email}`},(0,n.toDisplayString)(e.fields.organisation_email),9,g)])])))),128)}]])},9137:(o,e,i)=>{i.r(e),i.d(e,{default:()=>C});var a=i(6252),n=i(9963);const t={class:"card"},s={class:"card-body"},r=(0,a._)("h1",null,"New Organisation",-1),l=(0,a._)("hr",null,null,-1),d={class:"row"},c=(0,a._)("div",{class:"col-md-4"},[(0,a._)("strong",null,"Description"),(0,a._)("p",{class:"text-instructions"}," Please fill out all the required fields. Please only use a generic email for the organisation email field. e.g. support@companyxyz.com ")],-1),g={class:"col-md-8"},m={class:"form-group"},u={for:"id_organisation_name"},h=(0,a._)("br",null,null,-1),p={class:"row"},_={class:"form-group col-md-6"},f={for:"id_organisation_website"},v={class:"form-group col-md-6"},w={for:"id_organisation_email"},M=(0,a._)("hr",null,null,-1),S={key:0,class:"row submit-row"},y={class:"col-md-12"},b={key:1},I={key:2,class:"row"},k=(0,a._)("div",{class:"col-md-4"},[(0,a._)("strong",null,"Please Read"),(0,a._)("p",{class:"text-instructions"},' The server has found potential duplications. Please review the following Organisations. If you would like to create the organisation, please scroll to the bottom of the page and hit "Submit Organisation". If the organisation you are looking for is already created. Click on the name and you will be taken to the Organisation\'s Information page. '),(0,a._)("strong",null,"Alternatively"),(0,a._)("p",{class:"text-instructions"}," You can also change the information above and resubmit. ")],-1),O={class:"col-md-8"},Z={key:3,class:"row submit-row"},E={class:"col-md-12"};i(3138);var N=i(7045),T=i(5705),U=i(760),$=i(7939),D=i(3058),P=i(8416);const A=i(9669),L={name:"NewOrganisation",setup:()=>({v$:(0,T.ZP)()}),components:{ListOrganisations:N.Z,ValidationRendering:$.Z},props:{rootUrl:{type:String,default:"/"}},mixins:[D.Z,P.Z],data:()=>({duplicateOrganisations:[],organisationNameModel:"",organisationWebsiteModel:"",organisationEmailModel:""}),watch:{organisationNameModel(){this.duplicateOrganisations=[]},organisationWebsiteModel(){this.duplicateOrganisations=[]},organisationEmailModel(){this.duplicateOrganisations=[]}},methods:{addOrganisation(){this.v$.$touch(),this.v$.$invalid?this.showValidationErrorModal():A.post(`${this.rootUrl}organisation_duplicates/`,this.dataToSend()).then((o=>{0===o.data.length&&this.uploadOrganisationData(),this.duplicateOrganisations=o.data})).catch((o=>{this.showErrorModal(o,"organisation","")}))},dataToSend(){const o=new FormData;return o.set("organisation_name",this.organisationNameModel),o.set("organisation_website",this.organisationWebsiteModel),o.set("organisation_email",this.organisationEmailModel),o},uploadOrganisationData(){A.post("save/",this.dataToSend()).then((o=>{window.location.href=`${this.rootUrl}organisation_information/${o.data[0].pk}/`})).catch((o=>{}))}},validations:{organisationNameModel:{required:U.C1,maxLength:(0,U.BS)(255)},organisationWebsiteModel:{required:U.C1,url:U.HQ},organisationEmailModel:{required:U.C1,email:U.Do}}},C=(0,i(3744).Z)(L,[["render",function(o,e,i,N,T,U){const $=(0,a.up)("validation-rendering"),D=(0,a.up)("list-organisations");return(0,a.wg)(),(0,a.iD)("div",t,[(0,a._)("div",s,[(0,a.kq)(" TITLE "),r,l,(0,a.kq)(" FIELDS SECTION "),(0,a._)("div",d,[c,(0,a._)("div",g,[(0,a.kq)(" ORGANISATION NAME "),(0,a._)("div",m,[(0,a._)("label",u,[(0,a.Uk)(" Organisation Name: "),(0,a.Wm)($,{"error-list":N.v$.organisationNameModel.$errors},null,8,["error-list"])]),(0,a.wy)((0,a._)("input",{id:"id_organisation_name",name:"organisation_name",type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=o=>T.organisationNameModel=o)},null,512),[[n.vModelText,T.organisationNameModel]])]),h,(0,a._)("div",p,[(0,a.kq)(" ORGANISATION WEBSITE "),(0,a._)("div",_,[(0,a._)("label",f,[(0,a.Uk)(" Organisation Website: "),(0,a.Wm)($,{"error-list":N.v$.organisationWebsiteModel.$errors},null,8,["error-list"])]),(0,a.wy)((0,a._)("input",{id:"id_organisation_website",name:"organisation_website",type:"url",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=o=>T.organisationWebsiteModel=o)},null,512),[[n.vModelText,T.organisationWebsiteModel]])]),(0,a.kq)(" ORGANISATION EMAIL "),(0,a._)("div",v,[(0,a._)("label",w,[(0,a.Uk)(" Organisation Email: "),(0,a.Wm)($,{"error-list":N.v$.organisationEmailModel.$errors},null,8,["error-list"])]),(0,a.wy)((0,a._)("input",{id:"id_organisation_email",name:"organisation_email",type:"email",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=o=>T.organisationEmailModel=o)},null,512),[[n.vModelText,T.organisationEmailModel]])])])])]),M,(0,a.kq)(" SUBMIT ORGANISATION BUTTON "),0==T.duplicateOrganisations.length?((0,a.wg)(),(0,a.iD)("div",S,[(0,a._)("div",y,[(0,a._)("button",{class:"btn btn-primary save-changes",onClick:e[3]||(e[3]=(...o)=>U.addOrganisation&&U.addOrganisation(...o))}," Add Organisation ")])])):(0,a.kq)("v-if",!0),T.duplicateOrganisations.length>0?((0,a.wg)(),(0,a.iD)("h2",b," Potential Duplication ")):(0,a.kq)("v-if",!0),T.duplicateOrganisations.length>0?((0,a.wg)(),(0,a.iD)("div",I,[(0,a.kq)(" PLEASE READ "),k,(0,a.kq)(" DUPLICATE ORGANISATION LIST "),(0,a._)("div",O,[(0,a.Wm)(D,{"organisation-results":T.duplicateOrganisations,"root-url":i.rootUrl},null,8,["organisation-results","root-url"])])])):(0,a.kq)("v-if",!0),(0,a.kq)(" STILL SUBMIT ORGANISATION "),T.duplicateOrganisations.length>0?((0,a.wg)(),(0,a.iD)("div",Z,[(0,a._)("div",E,[(0,a._)("button",{class:"btn btn-primary save-changes",onClick:e[4]||(e[4]=(...o)=>U.uploadOrganisationData&&U.uploadOrganisationData(...o))}," Submit Organisation ")])])):(0,a.kq)("v-if",!0)])])}]])},4468:(o,e,i)=>{i.r(e),i.d(e,{default:()=>M});var a=i(6252),n=i(9963);const t={class:"card"},s={class:"card-body"},r=(0,a._)("h1",null,"New Permission Set",-1),l=(0,a._)("hr",null,null,-1),d={class:"row"},c=(0,a._)("div",{class:"col-md-4"},[(0,a._)("strong",null,"New Permission Set"),(0,a._)("p",{class:"text-instructions"}," Please enter in a unique permission set name. Please note - all values are default permission level of 0. ")],-1),g={class:"col-md-8"},m=(0,a._)("label",null,"Permission Set Name",-1),u=(0,a._)("hr",null,null,-1),h={class:"row submit-row"},p={class:"col-md-12"};var _=i(3058),f=i(624);const v=i(9669),w={name:"NewPermissionSet",props:{rootUrl:{type:String,default:"/"},theme:{type:String,default:""}},data:()=>({permissionSetNameModel:""}),mixins:[_.Z,f.Z],methods:{addNewPermissionSet(){const o=new FormData;o.set("permission_set_name",this.permissionSetNameModel),v.post(`${this.rootUrl}new_permission_set/save/`,o).then((o=>{window.location.href=o.data})).catch((o=>{this.showErrorModal(o,"New Permission Set","")}))}}},M=(0,i(3744).Z)(w,[["render",function(o,e,i,_,f,v){const w=(0,a.up)("n-config-provider");return(0,a.wg)(),(0,a.j4)(w,{theme:o.getTheme(i.theme)},{default:(0,a.w5)((()=>[(0,a._)("div",t,[(0,a._)("div",s,[r,l,(0,a._)("div",d,[c,(0,a._)("div",g,[m,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>f.permissionSetNameModel=o),class:"form-control"},null,512),[[n.vModelText,f.permissionSetNameModel]])])]),(0,a.kq)(" Submit Button "),u,(0,a._)("div",h,[(0,a._)("div",p,[(0,a._)("a",{href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:e[1]||(e[1]=(...o)=>v.addNewPermissionSet&&v.addNewPermissionSet(...o))},"Create new Permission Set")])])])])])),_:1},8,["theme"])}]])},7939:(o,e,i)=>{i.d(e,{Z:()=>s});var a=i(6252),n=i(3577);const t={name:"ValidationRendering",props:{errorList:{type:Array,default:()=>[]}}},s=(0,i(3744).Z)(t,[["render",function(o,e,i,t,s,r){return(0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.errorList,(o=>((0,a.wg)(),(0,a.iD)("span",{class:"error",key:o.$uid},(0,n.toDisplayString)(o.$message),1)))),128)}]])},3058:(o,e,i)=>{i.d(e,{Z:()=>n});var a=i(3138);const n={methods:{showErrorModal(o,e,i){const n=document.getElementById("loadingModal");if(null===n)return;new a.u_(n).hide();const t=document.getElementById("errorModalContent");if(void 0===t)return;if(t.innerHTML=`<strong>HTML ISSUE:</strong> We could not save the new ${e}-${i}<hr>${o}`,null===document.getElementById("errorModal"))return;const s=new a.u_(s);s.show()},showValidationErrorModal(){document.getElementById("errorModalContent").innerHTML="<strong>FORM ISSUE:</strong> Sorry, but can you please fill out the form completely.",new a.u_(document.getElementById("errorModal")).show()}}}},624:(o,e,i)=>{i.d(e,{Z:()=>n});var a=i(8458);const n={data:()=>({darkTheme:a.$}),methods:{getTheme:o=>"dark"===o?a.$:null}}},5808:(o,e,i)=>{i.d(e,{Z:()=>E});var a=i(3985),n=i(5555),t=i(1826),s=i(6443),r=i(1327),l=i(8521),d=i(1056),c=i(4324),g=i(9672),m=i(9867),u=i(1239),h=i(5004),p=i(1321),_=i(1216),f=i(5550),v=i(7702),w=i(7903),M=i(2606),S=i(3843),y=i(2393),b=i(3360),I=i(9714),k=i(1323),O=i(2610),Z=i(5968);const E={data:()=>({icons:{arrowUp:a.Z,bugIcon:n.Z,bxBriefcase:t.Z,cardChecklist:s.Z,clipboardIcon:r.Z,documentPdf:l.Z,documentText:d.Z,folderIcon:c.Z,groupPresentation:g.Z,imageIcon:m.Z,infoCircle:u.Z,linkIcon:h.Z,linkIcon2:p.Z,linkOut:_.Z,mailIcon:f.Z,microsoftExcel:v.Z,microsoftPowerpoint:w.Z,microsoftWord:M.Z,noteAdd:S.Z,objectStorage:y.Z,passwordIcon:b.Z,trashCan:I.Z,userIcon:k.Z,usersIcon:O.Z,xCircle:Z.Z}})}},8416:(o,e,i)=>{i.d(e,{Z:()=>n});var a=i(3138);const n={methods:{closeLoadingModal(){const o=new a.u_(document.getElementById("loadingModal"));document.getElementById("loadingModalContent").innerHTML="UPDATED SUCCESSFULLY",setTimeout((()=>{o.hide()}),1e3)},showLoadingModal(o){new a.u_(document.getElementById("loadingModal")).show(),document.getElementById("loadingModalContent").innerHTML=`Updating your ${o} details`}}}}}]);