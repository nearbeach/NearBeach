"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[971],{1794:(e,a,t)=>{t.r(a),t.d(a,{default:()=>as});var s=t(641),n=t(33);const l={class:"kanban-header"},o={key:0,class:"kanban-closed"},r={key:0,class:"btn-group kanban-menu"},d={class:"dropdown-menu"},i={key:0},c={class:"dropdown-item",href:"#"},u={key:1},b={key:0,class:"dropdown-divider"},m={key:2},k={key:3},h={key:4},p={key:0,class:"dropdown-divider"},v=["href"],g={key:1,style:{height:"31px",width:"100%"}};var C=t(9336),L=t(2124),_=t(4991),y=t(1614),f=t(9981),w=t(6191),I=t(310),E=t(7954),U=t(2899),M=t(2787),S=t(6434),D=t(1367);const $={class:"modal fade",id:"addUserModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},x={class:"modal-dialog modal-lg"},A={class:"modal-content"},N={class:"modal-body"},R={key:0,class:"row"},F={class:"col-md-8"},T={key:1,class:"row"},B={class:"col-md-6 no-search"},X=["src"],j={class:"modal-footer"},P=["disabled"];var O=t(1080);const K={name:"AddUserToCard",components:{NSelect:O.A},computed:{...(0,L.L8)({cardId:"getCardId",potentialUserList:"getPotentialUserList",rootUrl:"getRootUrl",staticURL:"getStaticUrl",userLevel:"getUserLevel"})},data:()=>({userFixList:[],userModel:[]}),watch:{potentialUserList(e){void 0!==e&&(this.userFixList=e.map((e=>({value:e.id,label:`${e.username}: ${e.first_name} ${e.last_name}`}))))}},methods:{addUser(){const e=new FormData;this.userModel.forEach((a=>{e.append("user_list",a)})),this.axios.post(`${this.rootUrl}object_data/kanban_card/${this.cardId}/add_user/`,e).then((e=>{document.getElementById("addUserCloseButton").click(),this.userModel=[],this.$store.commit("updateGroupsAndUsers",{objectGroupList:e.data.object_group_list,objectUserList:e.data.object_user_list,potentialGroupList:e.data.potential_group_list,potentialUserList:e.data.potential_user_list,userGroupList:e.data.user_group_list}),new C.aF(document.getElementById("cardInformationModal")).show()})).catch((e=>{this.$store.dispatch("newToast",{header:"Error adding user to kanban card",message:`Sorry, we could not add the user to the kanban card. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},closeModal(){document.getElementById("addUserCloseButton").click(),new C.aF(document.getElementById("cardInformationModal")).show()}}};var Q=t(6262);const z=(0,Q.A)(K,[["render",function(e,a,t,n,l,o){const r=(0,s.g2)("n-select");return(0,s.uX)(),(0,s.CE)("div",$,[(0,s.Lk)("div",x,[(0,s.Lk)("div",A,[a[5]||(a[5]=(0,s.Lk)("div",{class:"modal-header"},[(0,s.Lk)("h2",null," Add User To Card "),(0,s.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"addUserCloseButton"},[(0,s.Lk)("span",{"aria-hidden":"true"})])],-1)),(0,s.Lk)("div",N,[l.userFixList.length>0?((0,s.uX)(),(0,s.CE)("div",R,[a[3]||(a[3]=(0,s.Lk)("div",{class:"col-md-4"},[(0,s.Lk)("strong",null,"Add Users"),(0,s.Lk)("p",{class:"text-instructions"}," Use the following multiple select to select which users you want to add to this kanban card. "),(0,s.Lk)("p",{class:"text-instructions"}," Please note: A user's group has to be added to the kanban card before the user can be added. ")],-1)),(0,s.Lk)("div",F,[(0,s.bF)(r,{options:l.userFixList,value:l.userModel,"onUpdate:value":a[0]||(a[0]=e=>l.userModel=e),multiple:""},null,8,["options","value"])])])):((0,s.uX)(),(0,s.CE)("div",T,[a[4]||(a[4]=(0,s.Lk)("div",{class:"col-md-6"},[(0,s.Lk)("strong",null,"Sorry - no results"),(0,s.Lk)("p",{class:"text-instructions"}," This could be because "),(0,s.Lk)("ul",{class:"text-instructions"},[(0,s.Lk)("li",null,"There are no more users left to add"),(0,s.Lk)("li",null," The user you are after is in a group not current added to this kanban card ")])],-1)),(0,s.Lk)("div",B,[(0,s.Lk)("img",{src:`${e.staticURL}NearBeach/images/placeholder/questions.svg`,alt:"Sorry - there are no results"},null,8,X)])]))]),(0,s.Lk)("div",j,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[1]||(a[1]=(...e)=>o.closeModal&&o.closeModal(...e))}," Close "),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",disabled:0===l.userModel.length,onClick:a[2]||(a[2]=(...e)=>o.addUser&&o.addUser(...e))}," Add User(s) ",8,P)])])])])}]]),W={class:"modal fade",id:"archiveCardsModal",tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},q={class:"modal-dialog"},V={class:"modal-content"},H={class:"modal-header"},G={class:"modal-footer"},Y={name:"ArchiveCards",data:()=>({archiveCardsModal:{}}),computed:{...(0,L.L8)({allCards:"getCards",archiveDestination:"getArchiveDestination",archiveDestinationString:"getArchiveDestinationString",rootUrl:"getRootUrl"})},watch:{archiveDestinationString(e){void 0!==e&&(this.archiveCardsModal=new C.aF("#archiveCardsModal"),this.archiveCardsModal.show())}},methods:{archiveCards(){const e=this.archiveDestination.column,a=this.archiveDestination.level,t=new FormData;this.allCards.filter((t=>parseInt(t.kanban_column)===e&&parseInt(t.kanban_level)===a)).forEach((e=>{t.append("kanban_card_id",e.kanban_card_id)})),this.$store.commit({type:"archiveCards",column:e,level:a}),this.archiveCardsModal.hide(),this.$store.commit({type:"updateArchiveDestination",column:"",level:""}),this.axios.post(`${this.rootUrl}kanban_information/archive_kanban_cards/`,t).catch((()=>{}))},closeModal(){this.archiveCardsModal.hide(),this.$store.commit({type:"updateArchiveDestination",column:"",level:""})}}},J=(0,Q.A)(Y,[["render",function(e,a,t,n,l,o){return(0,s.uX)(),(0,s.CE)("div",W,[(0,s.Lk)("div",q,[(0,s.Lk)("div",V,[(0,s.Lk)("div",H,[a[3]||(a[3]=(0,s.Lk)("h5",{class:"modal-title",id:"exampleModalLabel"}," Are you sure? ",-1)),(0,s.Lk)("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:a[0]||(a[0]=(...e)=>o.closeModal&&o.closeModal(...e))})]),a[4]||(a[4]=(0,s.Lk)("div",{class:"modal-body"}," Are you sure you want to archive the cards? This can not be undone. ",-1)),(0,s.Lk)("div",G,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[1]||(a[1]=(...e)=>o.closeModal&&o.closeModal(...e))}," No "),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[2]||(a[2]=(...e)=>o.archiveCards&&o.archiveCards(...e))}," Yes ")])])])])}]]),Z={class:"modal fade",id:"blockedNotesModal",tabindex:"-1","aria-labelledby":"blockedNotesModal","aria-hidden":"true"},ee={class:"modal-dialog modal-lg modal-fullscreen-lg-down"},ae={class:"modal-content"},te={class:"modal-body"},se={class:"row"},ne={class:"col-md-8"},le={class:"modal-footer"},oe=["disabled"];var re=t(8838);const de={name:"BlockedNotesModal",components:{editor:re.A},props:{},data:()=>({noteModal:""}),computed:{...(0,L.L8)({cardId:"getCardId",contentCss:"getContentCss",rootUrl:"getRootUrl",skin:"getSkin"})},methods:{addNote(){const e=new FormData;e.set("note",this.noteModal),this.axios.post(`${this.rootUrl}object_data/kanban_card/${this.cardId}/add_notes/`,e).then((()=>{this.closeModal()}))},closeModal(){this.noteModal="",document.getElementById("blockedNotesModalButton").click()}}},ie=(0,Q.A)(de,[["render",function(e,a,t,n,l,o){const r=(0,s.g2)("editor");return(0,s.uX)(),(0,s.CE)("div",Z,[(0,s.Lk)("div",ee,[(0,s.Lk)("div",ae,[a[4]||(a[4]=(0,s.Lk)("div",{class:"modal-header"},[(0,s.Lk)("h2",null,"Blocked Card Notes"),(0,s.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"blockedNotesModalButton"},[(0,s.Lk)("span",{"aria-hidden":"true"})])],-1)),(0,s.Lk)("div",te,[(0,s.Lk)("div",se,[a[3]||(a[3]=(0,s.Lk)("div",{class:"col-md-4"},[(0,s.Lk)("strong",null,"Blocked Card Notes"),(0,s.Lk)("p",{class:"text-instructions"}," Please write a reason why this particular card is blocked at the moment. ")],-1)),(0,s.Lk)("div",ne,[(0,s.bF)(r,{"license-key":"gpl",init:{license_key:"gpl",file_picker_types:"image",height:250,menubar:!1,plugins:["lists","image","codesample","table"],toolbar:"undo redo | blocks | bold italic strikethrough underline backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | table image codesample",skin:`${this.skin}`,content_css:`${this.contentCss}`,relative_urls:!1},modelValue:l.noteModal,"onUpdate:modelValue":a[0]||(a[0]=e=>l.noteModal=e)},null,8,["init","modelValue"])])])]),(0,s.Lk)("div",le,[(0,s.Lk)("button",{class:"btn btn-secondary",onClick:a[1]||(a[1]=(...e)=>o.closeModal&&o.closeModal(...e))}," Close "),(0,s.Lk)("button",{class:"btn btn-primary save-changes",onClick:a[2]||(a[2]=(...e)=>o.addNote&&o.addNote(...e)),disabled:""===l.noteModal}," Add Note ",8,oe)])])])])}]]),ce={class:"kanban-header-row"},ue={class:"kanban-header-row kanban-sticky-row",style:{display:"none"}},be=["onClick"],me={key:0,class:"kanban-row"},ke={key:1,class:"kanban-row"},he=["id","data-level","data-column"],pe=["id","data-sort-number","data-card-id"],ve={key:1,class:"tag-list"};var ge=t(7520),Ce=t(2094);const Le={name:"KanbanColumn",components:{CarbonInformation:ge.default,CarbonLink:Ce.default},props:{columnId:{type:Number,default:0},levelId:{type:Number,default:0},newCardInfo:{type:Array,default:()=>[]}},data:()=>({drag:!1,priorityList:["highest","high","normal","low","lowest"]}),computed:{...(0,L.L8)({allCards:"getCards",kanbanStatus:"getKanbanStatus",openCardOnLoad:"getOpenCardOnLoad",rootUrl:"getRootUrl"}),masterList(){let e=this.allCards.filter((e=>parseInt(e.kanban_column)===this.columnId&&parseInt(e.kanban_level)===this.levelId));return e=e.sort(((e,a)=>e.kanban_card_sort_number-a.kanban_card_sort_number)),e}},methods:{checkCardOrder(){if(0===this.masterList.length)return;const e=this.masterList.map((e=>e.kanban_card_sort_number)),a=Math.min.apply(null,e),t=Math.max.apply(null,e);0===a&&t===this.masterList.length-1||(document.getElementById("sort_error").style.display="flex",this.masterList.forEach(((e,a)=>{const t=new FormData;t.set("new_card_column",this.columnId.toString()),t.set("new_card_level",this.levelId.toString()),t.set("new_card_sort_number",a.toString()),t.set("old_card_column",e.kanban_column),t.set("old_card_level",e.kanban_level),t.set("old_card_sort_number",e.kanban_card_sort_number),t.set("card_id",e.kanban_card_id),this.$store.commit({type:"updateKanbanCard",card_id:e.kanban_card_id,kanban_column:this.columnId,kanban_level:this.levelId,kanban_card_sort_number:a}),this.axios.post(`${this.rootUrl}kanban_information/${e.kanban_card_id}/move_card/`,t)})),document.getElementById("sort_error").style.display="")},doubleClickCard(e){const a=this.getCardIdFromObject(e.target);if(0===a)return;const t=this.masterList.filter((e=>parseInt(e.kanban_card_id)===parseInt(a)))[0];void 0!==t&&this.sendDataUpstream(t)},getCardIdFromObject(e){const a=e.dataset.cardId;return void 0!==a?a:"kanban_container"===e.id||void 0===e.parentElement||null===e.parentElement?0:this.getCardIdFromObject(e.parentElement)},isLinkedObject(e){let a="";return null!==e.project&&void 0!==e.project&&(a="project"),null!==e.requirement&&void 0!==e.requirement&&(a="requirement"),null!==e.task&&void 0!==e.requirement&&(a="task"),a},sendDataUpstream(e){const a=this.isLinkedObject(e);if(a.length>0){const t=`${this.rootUrl}${a}_information/${e[a]}/`;window.open(t,"_blank").focus()}else this.$store.dispatch({type:"updateCard",cardId:e.kanban_card_id,cardTitle:e.kanban_card_text,cardDescription:e.kanban_card_description,cardColumn:e.kanban_column,cardLevel:e.kanban_level,cardLink:{},cardPriority:e.kanban_card_priority,dateCreated:e.date_created,dateModified:e.date_modified}),new C.aF(document.getElementById("cardInformationModal")).show()},singleClickCard(e){const a=this.masterList.filter((a=>a.kanban_card_id===e))[0];this.sendDataUpstream(a)}},watch:{newCardInfo(){this.columnId===this.newCardInfo[0].kanban_column&&this.levelId===this.newCardInfo[0].kanban_level&&this.masterList.push(this.newCardInfo[0])}},mounted(){this.masterList.filter((e=>{const a=e.kanban_card_id===this.openCardOnLoad,t=0===this.isLinkedObject(e).length;return a&&t})).length>0&&this.singleClickCard(this.openCardOnLoad)}},_e=(0,Q.A)(Le,[["render",function(e,a,t,l,o,r){const d=(0,s.g2)("carbon-link"),i=(0,s.g2)("carbon-information");return(0,s.uX)(),(0,s.CE)("div",{class:"list-group kanban-cell",id:`kanban_cell_${t.levelId}_${t.columnId}`,"data-level":t.levelId,"data-column":t.columnId},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.masterList,(e=>((0,s.uX)(),(0,s.CE)("div",{class:"list-group-item",key:e.kanban_card_id,id:e.kanban_card_id,"data-sort-number":e.kanban_card_sort_number,"data-card-id":e.kanban_card_id,onDblclick:a[0]||(a[0]=e=>r.doubleClickCard(e))},[(0,s.Lk)("div",{class:(0,n.normalizeClass)(`card-priority-line priority-${o.priorityList[e.kanban_card_priority]}`)},null,2),r.isLinkedObject(e)?((0,s.uX)(),(0,s.Wv)(d,{key:0,class:"card-external-link"})):(0,s.Q3)("v-if",!0),(0,s.Lk)("b",null,"#"+(0,n.toDisplayString)(e.kanban_card_id),1),a[1]||(a[1]=(0,s.Lk)("br",null,null,-1)),(0,s.eW)(" "+(0,n.toDisplayString)(e.kanban_card_text)+" ",1),e.tag_list.length>0?((0,s.uX)(),(0,s.CE)("div",ve,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.tag_list,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.tag_assignment_id,style:(0,n.normalizeStyle)(`background-color:${e.tag_colour};color:${e.tag_text_colour};`),class:"single-tag-thin"},(0,n.toDisplayString)(e.tag_name),5)))),128))])):(0,s.Q3)("v-if",!0),(0,s.bF)(i,{class:"kanban-card-info-icon",width:"25px",height:"25px",onClick:a=>r.singleClickCard(e.kanban_card_id),onDblclick:a=>r.singleClickCard(e.kanban_card_id)},null,8,["onClick","onDblclick"])],40,pe)))),128))],8,he)}]]),ye=["id","data-sort-number","data-card-id","data-card-priority"],fe={class:"text-instructions"},we={key:1,class:"tag-list"},Ie={key:2,style:{"font-weight":"lighter"}},Ee={key:3,style:{"font-weight":"lighter"}},Ue={class:"kanban-add-new-cards"};var Me=t(432),Se=t.n(Me),De=t(3980),$e=t(246);const xe={name:"kanbanColumnDraggable",components:{CarbonInformation:De.G5,CarbonLink:De.wX,draggable:Se()},props:{columnId:{type:Number,default:0},columnProperty:{type:String,default:"Normal"},levelId:{type:Number,default:0},newCardInfo:{type:Array,default:()=>[]}},data:()=>({drag:!1,priorityList:["highest","high","normal","low","lowest"]}),computed:{...(0,L.L8)({allCards:"getCards",canDragCards:"getCanDragCards",kanbanStatus:"getKanbanStatus",levelCollapseStatus:"getLevelCollapseStatus",openCardOnLoad:"getOpenCardOnLoad",rootUrl:"getRootUrl"}),dragOptions:()=>({animation:200,group:"description",disabled:!1,ghostClass:"ghost"}),masterList(){return this.$store.getters.getCardsOrder(this.columnId,this.levelId)}},methods:{addNewKanbanCard(){this.$store.commit({type:"updateNewCardLocation",columnId:this.columnId,levelId:this.levelId,userCanSelectLocation:!1}),new C.aF(document.getElementById("addKanbanCardModal")).show(),setTimeout((()=>{document.getElementById("kanbanCardText").focus()}),250)},addNewLink(){this.$store.commit({type:"updateNewCardLocation",columnId:this.columnId,levelId:this.levelId,userCanSelectLocation:!1}),new C.aF(document.getElementById("newLinkModal")).show()},archiveCards(){this.$store.commit({type:"updateArchiveDestination",column:this.columnId,level:this.levelId})},checkCardOrder(){if(0===this.masterList.length)return;const e=this.masterList.map((e=>e.kanban_card_sort_number)),a=Math.min.apply(null,e),t=Math.max.apply(null,e);if(0===a&&t===this.masterList.length-1)return;document.getElementById("sort_error").style.display="flex";const s=new FormData;this.masterList.forEach(((e,a)=>{s.append("kanban_cards",e.kanban_card_id),this.$store.commit({type:"updateKanbanCard",card_id:e.kanban_card_id,kanban_card_sort_number:a})})),this.axios.post(`${this.rootUrl}kanban_information/fix_card_ordering/`,s).catch((e=>{this.$store.dispatch("newToast",{header:"Failed to move card",message:`Sorry, we could not move your card. Error -> ${e}`,extra_classes:"bg-danger",delay:0})})),document.getElementById("sort_error").style.display=""},doubleClickCard(e){const a=this.getCardIdFromObject(e.target);if(0===a)return;const t=this.masterList.filter((e=>parseInt(e.kanban_card_id)===parseInt(a)))[0];void 0!==t&&this.sendDataUpstream(t)},getCardIdFromObject(e){const a=e.dataset.cardId;return void 0!==a?a:"kanban_container"===e.id||void 0===e.parentElement||null===e.parentElement?0:this.getCardIdFromObject(e.parentElement)},isLinkedObject(e){let a="";return null!==e.project&&void 0!==e.project&&(a="project"),null!==e.requirement&&void 0!==e.requirement&&(a="requirement"),null!==e.requirement_item&&void 0!==e.requirement_item&&(a="requirement_item"),null!==e.task&&void 0!==e.task&&(a="task"),a},async onEnd(e){await this.$store.dispatch("kanbanCardMoved",{event:e});const a=e.to,t=e.from,s=e.item.dataset.cardId,n=a.dataset.column,l=a.dataset.level,o=t.dataset.column,r=t.dataset.level,d=a.dataset.columnProperty,i=new FormData;i.set("new_card_column",n),i.set("new_card_level",l),this.$store.getters.getCardsOrder(n,l).forEach((e=>{i.append("new_destination",e.kanban_card_id)})),this.$store.getters.getCardsOrder(o,r).forEach((e=>{i.append("old_destination",e.kanban_card_id)})),this.axios.post(`${this.rootUrl}kanban_information/${s}/move_card/`,i).then((()=>{"Blocked"===d&&(this.$store.commit({type:"updateValue",field:"cardId",value:parseInt(s)}),new C.aF(document.getElementById("blockedNotesModal")).show())})).catch((e=>{this.$store.dispatch("newToast",{header:"Can not update Card",message:`Sorry, moving the card had an error. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},sendDataUpstream(e){const a=this.isLinkedObject(e);if(a.length>0){const t=`${this.rootUrl}${a}_information/${e[a]}/`;window.open(t,"_blank").focus()}else this.$store.dispatch({type:"updateCard",cardId:e.kanban_card_id,cardTitle:e.kanban_card_text,cardDescription:e.kanban_card_description,cardColumn:e.kanban_column,cardLevel:e.kanban_level,cardLink:{},cardPriority:e.kanban_card_priority,dateCreated:e.date_created,dateModified:e.date_modified}),new C.aF(document.getElementById("cardInformationModal")).show()},singleClickCard(e){const a=this.masterList.filter((a=>a.kanban_card_id===e))[0];this.sendDataUpstream(a)},useNiceDatetime:$e.y},watch:{newCardInfo(){this.columnId===this.newCardInfo[0].kanban_column&&this.levelId===this.newCardInfo[0].kanban_level&&this.masterList.push(this.newCardInfo[0])}},mounted(){this.checkCardOrder(),this.masterList.filter((e=>{const a=e.kanban_card_id===this.openCardOnLoad,t=0===this.isLinkedObject(e).length;return a&&t})).length>0&&this.singleClickCard(this.openCardOnLoad)}},Ae={name:"KanbanRow",components:{KanbanColumn:_e,KanbanColumnDraggable:(0,Q.A)(xe,[["render",function(e,a,t,l,o,r){const d=(0,s.g2)("carbon-link"),i=(0,s.g2)("carbon-information"),c=(0,s.g2)("draggable");return e.levelCollapseStatus(t.levelId)?(0,s.Q3)("v-if",!0):((0,s.uX)(),(0,s.Wv)(c,{key:0,class:"list-group kanban-cell",id:`kanban_cell_${t.levelId}_${t.columnId}`,"data-level":t.levelId,"data-column":t.columnId,"data-column-property":t.columnProperty,animation:200,disabled:"Closed"===e.kanbanStatus||!e.canDragCards,group:"tasks","ghost-class":"ghost",onEnd:a[4]||(a[4]=e=>r.onEnd(e)),modelValue:r.masterList,"onUpdate:modelValue":a[5]||(a[5]=e=>r.masterList=e),"item-key":"kanban_card_id"},(0,s.eX)({item:(0,s.k6)((({element:t})=>[((0,s.uX)(),(0,s.CE)("div",{class:"list-group-item",key:t.kanban_card_id,id:t.kanban_card_id,"data-sort-number":t.kanban_card_sort_number,"data-card-id":t.kanban_card_id,"data-card-priority":t.kanban_card_priority,onDblclick:a[0]||(a[0]=e=>r.doubleClickCard(e))},[(0,s.Lk)("div",{class:(0,n.normalizeClass)(`card-priority-line priority-${o.priorityList[t.kanban_card_priority]}`)},null,2),r.isLinkedObject(t).length>0?((0,s.uX)(),(0,s.Wv)(d,{key:0,class:"card-external-link"})):(0,s.Q3)("v-if",!0),(0,s.Lk)("b",null,"#"+(0,n.toDisplayString)(t.kanban_card_id),1),a[7]||(a[7]=(0,s.Lk)("br",null,null,-1)),(0,s.eW)(" "+(0,n.toDisplayString)(t.kanban_card_text)+" ",1),a[8]||(a[8]=(0,s.Lk)("br",null,null,-1)),(0,s.Lk)("div",null,[a[6]||(a[6]=(0,s.eW)(" Created Date: ")),(0,s.Lk)("span",fe,(0,n.toDisplayString)(r.useNiceDatetime(t.date_created)),1)]),t.tag_list.length>0?((0,s.uX)(),(0,s.CE)("div",we,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.tag_list,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.tag_assignment_id,style:(0,n.normalizeStyle)(`background-color:${e.tag_colour};color:${e.tag_text_colour};`),class:"single-tag-thin"},(0,n.toDisplayString)(e.tag_name),5)))),128))])):(0,s.Q3)("v-if",!0),e.canDragCards?((0,s.uX)(),(0,s.CE)("span",Ee,"   ")):((0,s.uX)(),(0,s.CE)("span",Ie,"- Movement Locked!")),(0,s.bF)(i,{class:"kanban-card-info-icon",width:"25px",height:"25px",onClick:e=>r.singleClickCard(t.kanban_card_id),onDblclick:e=>r.singleClickCard(t.kanban_card_id)},null,8,["onClick","onDblclick"])],40,ye))])),_:2},["Closed"!==e.kanbanStatus?{name:"footer",fn:(0,s.k6)((()=>[(0,s.Lk)("div",Ue,["Closed"!==t.columnProperty?((0,s.uX)(),(0,s.CE)("a",{key:0,class:"kanban-link btn btn-primary",href:"javascript:void(0)",onClick:a[1]||(a[1]=(...e)=>r.addNewKanbanCard&&r.addNewKanbanCard(...e))}," New Card ")):(0,s.Q3)("v-if",!0),"Closed"!==t.columnProperty?((0,s.uX)(),(0,s.CE)("a",{key:1,class:"kanban-link btn btn-warning",href:"javascript:void(0)",onClick:a[2]||(a[2]=(...e)=>r.addNewLink&&r.addNewLink(...e))}," Link Object ")):(0,s.Q3)("v-if",!0),r.masterList.length>0?((0,s.uX)(),(0,s.CE)("a",{key:2,class:"kanban-link btn btn-danger",href:"javascript:void(0)",onClick:a[3]||(a[3]=(...e)=>r.archiveCards&&r.archiveCards(...e))}," Archive Cards ")):(0,s.Q3)("v-if",!0)])])),key:"0"}:void 0]),1032,["id","data-level","data-column","data-column-property","disabled","modelValue"]))}]])},emits:["double_clicked_card"],props:{levelId:{type:Number,default:0},newCardInfo:{type:Array,default:()=>[]}},computed:{...(0,L.L8)({columnResults:"getColumnResults",userLevel:"getUserLevel"})},methods:{doubleClickedCard(e){this.$emit("double_clicked_card",e)}}},Ne={name:"KanbanBoard",components:{KanbanRow:(0,Q.A)(Ae,[["render",function(e,a,t,n,l,o){const r=(0,s.g2)("kanban-column-draggable"),d=(0,s.g2)("kanban-column");return e.userLevel>1?((0,s.uX)(),(0,s.CE)("div",me,[(0,s.Q3)(" Users can edit kanban board - can drag "),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.columnResults,(e=>((0,s.uX)(),(0,s.Wv)(r,{key:e.pk,"level-id":t.levelId,"column-id":e.pk,"column-property":e.fields.kanban_column_property,"new-card-info":t.newCardInfo,onDouble_clicked_card:a[0]||(a[0]=e=>o.doubleClickedCard(e))},null,8,["level-id","column-id","column-property","new-card-info"])))),128))])):((0,s.uX)(),(0,s.CE)("div",ke,[(0,s.Q3)(" Read Only Users "),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.columnResults,(e=>((0,s.uX)(),(0,s.Wv)(d,{key:e.pk,"level-id":t.levelId,"column-id":e.pk,"new-card-info":t.newCardInfo,onDouble_clicked_card:a[1]||(a[1]=e=>o.doubleClickedCard(e))},null,8,["level-id","column-id","new-card-info"])))),128))]))}]])},emits:["double_clicked_card"],props:{kanbanBoardResults:{type:Array,default:()=>[]},newCardInfo:{type:Array,default:()=>[]}},computed:{...(0,L.L8)({columnResults:"getColumnResults",levelCardCount:"getLevelCardCount",levelResults:"getLevelResults"})},data:()=>({}),created(){window.addEventListener("resize",this.resizeProcedure),window.addEventListener("scroll",this.scrollProcedure)},unmounted(){window.removeEventListener("resize",this.resizeProcedure),window.removeEventListener("scroll",this.scrollProcedure)},methods:{doubleClickedCard(e){this.$emit("double_clicked_card",e)},expandLevel(e){this.$store.dispatch("updateLevelCollapse",{level_id:e})},getColumnCount(e){return this.$store.getters.getColumnCount(e)},getExpandClass(e){return this.$store.getters.getLevelCollapseStatus(e)?"kanban-expand collapsed":"kanban-expand expanded"},resizeProcedure(){const e=2*(this.columnResults.length-1),a=400*this.columnResults.length+e,t=document.getElementsByClassName("kanban-container")[0];if(void 0===t)return;const s=t.clientWidth;if(a<s){const e=document.getElementsByClassName("kanban-level-div");Array.from(e).forEach((e=>{e.style=`max-width: ${a}px;`}))}else{const e=t.scrollWidth,a=document.getElementsByClassName("kanban-level-div");Array.from(a).forEach((a=>{a.style=`width: ${e}px;`}))}},scrollProcedure(){const e=document.getElementsByClassName("kanban-sticky-row")[0],a=document.getElementsByClassName("kanban-container")[0];e.scrollLeft=a.scrollLeft;const t=document.getElementById("kanban_container").scrollTop;e.style.display=t<90?"none":""}},mounted(){this.$nextTick((()=>{this.resizeProcedure()})),this.$store.commit({type:"updateKanbanStatus",kanbanStatus:this.kanbanBoardResults[0].fields.kanban_board_status})}},Re=(0,Q.A)(Ne,[["render",function(e,a,t,l,o,r){const d=(0,s.g2)("kanban-row");return(0,s.uX)(),(0,s.CE)("div",{id:"kanban_container",class:"kanban-container",onScroll:a[1]||(a[1]=(...e)=>r.scrollProcedure&&r.scrollProcedure(...e))},[(0,s.Q3)(" Render out the header "),(0,s.Lk)("div",ce,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.columnResults,(e=>((0,s.uX)(),(0,s.CE)("div",{class:"kanban-column-header",key:e.pk},(0,n.toDisplayString)(e.fields.kanban_column_name)+" - ["+(0,n.toDisplayString)(r.getColumnCount(e.pk))+"] ",1)))),128))]),(0,s.Q3)(" Render out the STICKY header "),(0,s.Lk)("div",ue,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.columnResults,(e=>((0,s.uX)(),(0,s.CE)("div",{class:"kanban-column-header",key:e.pk},(0,n.toDisplayString)(e.fields.kanban_column_name)+" - ["+(0,n.toDisplayString)(r.getColumnCount(e.pk))+"] ",1)))),128))]),(0,s.Q3)(" Render each row "),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.levelResults,(l=>((0,s.uX)(),(0,s.CE)("div",{key:l.pk},[(0,s.Q3)(" CREATE THE LEVEL HEADER "),(0,s.Lk)("div",{class:"kanban-level-div",onClick:e=>r.expandLevel(l.pk)},[(0,s.Lk)("span",{class:(0,n.normalizeClass)(r.getExpandClass(l.pk))},null,2),(0,s.Lk)("span",null,(0,n.toDisplayString)(l.fields.kanban_level_name)+" - ["+(0,n.toDisplayString)(e.levelCardCount(l.pk))+"] ",1)],8,be),(0,s.Q3)(" RENDER THE CELLS "),(0,s.bF)(d,{"level-id":l.pk,"new-card-info":t.newCardInfo,onDouble_clicked_card:a[0]||(a[0]=e=>r.doubleClickedCard(e))},null,8,["level-id","new-card-info"])])))),128))],32)}]]);var Fe=t(3751);const Te={class:"modal fade",id:"addKanbanCardModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"addKanbanCardModalLabel","aria-hidden":"true"},Be={class:"modal-dialog modal-xl modal-fullscreen-xl-down"},Xe={class:"modal-content"},je={class:"modal-body"},Pe={class:"row"},Oe={class:"col-md-8"},Ke={key:0,class:"error"},Qe={class:"row"},ze={class:"col-md-8"},We={class:"row"},qe={class:"col-md-8"},Ve={key:0},He={key:1,class:"row"},Ge={class:"col-md-8"},Ye={class:"row"},Je={class:"col-md-6 mt-4"},Ze={class:"col-md-6 mt-4"},ea={class:"modal-footer"},aa=["disabled"];var ta=t(2595);const sa={name:"NewKanbanCard",components:{editor:re.A,NSelect:O.A},emits:["new_card"],props:{columnResults:{type:Array,default:()=>[]},levelResults:{type:Array,default:()=>[]},kanbanBoardResults:{type:Array,default:()=>[]}},data:()=>({disableAddButton:!0,kanbanCardDescriptionModel:"",kanbanCardTextModel:"",kanbanCardPriorityModal:2,listPriority:[{label:"Highest",value:0},{label:"High",value:1},{label:"Normal",value:2},{label:"Low",value:3},{label:"Lowest",value:4}],localColumnId:0,localLevelId:0}),computed:{...(0,L.L8)({contentCss:"getContentCss",kanbanCardResults:"getKanbanCardResults",listColumns:"getListColumns",listLevels:"getListLevels",newCardLocation:"getNewCardLocation",rootUrl:"getRootUrl",skin:"getSkin"})},methods:{useUploadImage:ta.A,addKanbanCard(){this.disableAddButton=!0,this.$store.dispatch("newToast",{header:"Creating new card",message:"Please wait as we create the new card",extra_classes:"bg-warning",delay:0,unique_type:"new_card"});const e=new FormData;e.set("kanban_card_text",this.kanbanCardTextModel),e.set("kanban_card_description",this.kanbanCardDescriptionModel),e.set("kanban_level",this.localLevelId),e.set("kanban_column",this.localColumnId),e.set("kanban_card_priority",this.kanbanCardPriorityModal),this.axios.post(`${this.rootUrl}kanban_information/${this.kanbanBoardResults[0].pk}/new_card/`,e).then((e=>{const a=e.data[0];a.tag_list=[],this.$emit("new_card",a),this.kanbanCardTextModel="",this.kanbanCardDescriptionModel="",document.getElementById("addKanbanCardCloseButton").click(),this.$store.dispatch("newToast",{header:"Card created successfully",message:"Card created successfully",extra_classes:"bg-success",unique_type:"new_card"})})).catch((e=>{this.$store.dispatch("newToast",{header:"Error creating card",message:`Error creating card: Error -> ${e}`,extra_classes:"bg-danger",delay:0,unique_type:"new_card"})}))}},watch:{kanbanCardTextModel(){this.disableAddButton=!1,0===this.kanbanCardTextModel.length&&(this.disableAddButton=!0),this.kanbanCardResults.filter((e=>e.kanban_card_text===this.kanbanCardTextModel)).length>0&&(this.disableAddButton=!0),0!==this.columnResults.length&&0!==this.levelResults.length||(this.disableAddButton=!0)},newCardLocation:{handler(e){this.localColumnId=e.columnId,this.localLevelId=e.levelId},deep:!0,immediate:!0}}},na=(0,Q.A)(sa,[["render",function(e,a,t,n,l,o){const r=(0,s.g2)("n-select"),d=(0,s.g2)("editor");return(0,s.uX)(),(0,s.CE)("div",Te,[(0,s.Lk)("div",Be,[(0,s.Lk)("div",Xe,[a[18]||(a[18]=(0,s.Lk)("div",{class:"modal-header"},[(0,s.Lk)("h2",null," Add Kanban Card Wizard "),(0,s.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"addKanbanCardCloseButton"})],-1)),(0,s.Lk)("div",je,[(0,s.Lk)("div",Pe,[a[8]||(a[8]=(0,s.Lk)("div",{class:"col-md-4"},[(0,s.Lk)("strong",null,"Please note"),(0,s.Lk)("p",{class:"text-instructions"}," The card names can not be the same as something that already exists on the board. ")],-1)),(0,s.Lk)("div",Oe,[(0,s.Lk)("label",null,[a[7]||(a[7]=(0,s.eW)(" Kanban Card Text ")),l.disableAddButton?((0,s.uX)(),(0,s.CE)("span",Ke," Please supply a unique card name ")):(0,s.Q3)("v-if",!0)]),(0,s.bo)((0,s.Lk)("input",{id:"kanbanCardText","onUpdate:modelValue":a[0]||(a[0]=e=>l.kanbanCardTextModel=e),onKeydown:a[1]||(a[1]=(0,Fe.withKeys)(((...e)=>o.addKanbanCard&&o.addKanbanCard(...e)),["enter"])),class:"form-control"},null,544),[[Fe.vModelText,l.kanbanCardTextModel]])])]),a[15]||(a[15]=(0,s.Lk)("hr",null,null,-1)),(0,s.Q3)(" CARD PRIORITY "),(0,s.Lk)("div",Qe,[a[10]||(a[10]=(0,s.Lk)("div",{class:"col-md-4"},[(0,s.Lk)("strong",null,"Card Priority"),(0,s.Lk)("p",{class:"text-instructions"}," Please select the apprioriate card priority. ")],-1)),(0,s.Lk)("div",ze,[a[9]||(a[9]=(0,s.Lk)("label",null,"Card Priority",-1)),(0,s.bF)(r,{options:l.listPriority,value:l.kanbanCardPriorityModal,"onUpdate:value":a[2]||(a[2]=e=>l.kanbanCardPriorityModal=e)},null,8,["options","value"])])]),a[16]||(a[16]=(0,s.Lk)("hr",null,null,-1)),(0,s.Q3)(" CARD DESCRIPTION "),(0,s.Lk)("div",We,[a[11]||(a[11]=(0,s.Lk)("div",{class:"col-md-4"},[(0,s.Lk)("strong",null,"Card Description"),(0,s.Lk)("p",{class:"text-instructions"},' Fill out a detailed description for the card, then click on the "Update Card" button to update the card. ')],-1)),(0,s.Lk)("div",qe,[(0,s.bF)(d,{"license-key":"gpl",init:{license_key:"gpl",file_picker_types:"image",height:300,images_upload_handler:o.useUploadImage,menubar:!1,paste_data_images:!0,plugins:["lists","image","codesample","table"],toolbar:"undo redo | blocks | bold italic strikethrough underline backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | table image codesample",skin:`${this.skin}`,content_css:`${this.contentCss}`,relative_urls:!1},modelValue:l.kanbanCardDescriptionModel,"onUpdate:modelValue":a[3]||(a[3]=e=>l.kanbanCardDescriptionModel=e)},null,8,["init","modelValue"])])]),(0,s.Q3)(" CARD LOCATION "),e.newCardLocation.userCanSelectLocation?((0,s.uX)(),(0,s.CE)("hr",Ve)):(0,s.Q3)("v-if",!0),e.newCardLocation.userCanSelectLocation?((0,s.uX)(),(0,s.CE)("div",He,[a[14]||(a[14]=(0,s.Lk)("div",{class:"col-md-4"},[(0,s.Lk)("strong",null,"Card Location"),(0,s.Lk)("p",{class:"text-instructions"}," Select the appropriate location for this card. ")],-1)),(0,s.Lk)("div",Ge,[(0,s.Lk)("div",Ye,[(0,s.Lk)("div",Je,[a[12]||(a[12]=(0,s.Lk)("label",null,"Card Column",-1)),(0,s.bF)(r,{options:e.listColumns,label:"column",value:l.localColumnId,"onUpdate:value":a[4]||(a[4]=e=>l.localColumnId=e)},null,8,["options","value"])]),(0,s.Lk)("div",Ze,[a[13]||(a[13]=(0,s.Lk)("label",null,"Card Level",-1)),(0,s.bF)(r,{options:e.listLevels,label:"level",value:l.localLevelId,"onUpdate:value":a[5]||(a[5]=e=>l.localLevelId=e)},null,8,["options","value"])])])])])):(0,s.Q3)("v-if",!0)]),(0,s.Lk)("div",ea,[a[17]||(a[17]=(0,s.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1)),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[6]||(a[6]=(...e)=>o.addKanbanCard&&o.addKanbanCard(...e)),disabled:l.disableAddButton}," Add Card ",8,aa)])])])])}]]),la={class:"modal fade",id:"cardInformationModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},oa={class:"modal-dialog modal-xl modal-fullscreen-xl-down"},ra={class:"modal-content"},da={class:"modal-header"},ia={class:"modal-body mt-4"},ca={class:"tab-content",id:"myTabContent"},ua={class:"tab-pane fade show active",id:"card_details",role:"tabpanel","aria-labelledby":"details-tab"},ba={class:"tab-pane fade",id:"card_description",role:"tabpanel","aria-labelledby":"description-tab"},ma={class:"tab-pane fade",id:"card_notes",role:"tabpanel","aria-labelledby":"notes-tab"},ka={class:"tab-pane fade",id:"user_permissions",role:"tabpanel","aria-labelledby":"user-tab"},ha={class:"tab-pane fade",id:"downloads",role:"tabpanel","aria-labelledby":"user-tab"},pa={class:"tab-pane fade",id:"misc",role:"tabpanel","aria-labelledby":"user-tab"},va={key:0,class:"row link-to-object"},ga=["href"],Ca={key:1},La={class:"row"},_a={class:"col-md-8"},ya=["disabled"],fa={class:"row"},wa={class:"col-md-4"},Ia={class:"row"},Ea={class:"col-md-8"},Ua={class:"row"},Ma={class:"col-md-6 mt-4"},Sa={class:"col-md-6 mt-4"},Da={class:"row"},$a={class:"col-md-8"},xa={class:"row"},Aa={class:"col-md-6"},Na={class:"text-instructions"},Ra={class:"col-md-6"},Fa={class:"text-instructions"},Ta={key:2},Ba={key:3,class:"row"},Xa={class:"col-md-12 card-detail--buttons"},ja={name:"CardDetails",components:{NSelect:O.A},emits:["update_card"],data:()=>({listPriority:[{label:"Highest",value:0},{label:"High",value:1},{label:"Normal",value:2},{label:"Low",value:3},{label:"Lowest",value:4}],tempModel:""}),computed:{...(0,L.L8)({cardId:"getCardId",cardLink:"getCardLink",dateCreated:"getDateCreated",dateModified:"getDateModified",kanbanStatus:"getKanbanStatus",listColumns:"getListColumns",listLevels:"getListLevels",userLevel:"getUserLevel"}),cardColumn:{get(){return this.$store.state.card.cardColumn},set(e){this.$store.commit({type:"updateValue",field:"cardColumn",value:e})}},cardLevel:{get(){return this.$store.state.card.cardLevel},set(e){this.$store.commit({type:"updateValue",field:"cardLevel",value:e})}},cardPriority:{get(){return this.$store.state.card.cardPriority},set(e){this.$store.commit({type:"updateValue",field:"cardPriority",value:e})}},cardTitle:{get(){return this.$store.state.card.cardTitle},set(e){this.$store.commit({type:"updateValue",field:"cardTitle",value:e})}}},methods:{archiveCard(){document.getElementById("cardInformationModalCloseButton").click(),new C.aF("#confirmCardArchiveModal").show()},closeModal(){document.getElementById("cardInformationModalCloseButton").click()},async differentDestination(e,a){const t=this.$store.getters.getCardsOrder(this.cardColumn,this.cardLevel).length,s={to:{dataset:{column:this.cardColumn,level:this.cardLevel}},from:{dataset:{column:a.kanban_column,level:a.kanban_level}},item:{dataset:{cardId:this.cardId,cardPriority:this.cardPriority}},newIndex:t};await this.$store.dispatch("kanbanCardMoved",{event:s});const n=this.$store.getters.getCardsOrder(this.cardColumn,this.cardLevel),l=this.$store.getters.getCardsOrder(a.kanban_column,a.kanban_level).filter((e=>parseInt(e.pk)!==parseInt(this.cardId)));this.$emit("update_card",{close_modal:e,new_destination:n,old_destination:l})},sameDestination(e){this.$store.commit({type:"updateKanbanCard",card_id:this.cardId,kanban_card_text:this.cardTitle,kanban_card_priority:this.cardPriority}),this.$emit("update_card",{close_modal:e})},updateCard(e){const a=this.$store.getters.getCard(this.cardId),t=parseInt(this.cardColumn)===parseInt(a.kanban_column),s=parseInt(this.cardLevel)===parseInt(a.kanban_level);t&&s?this.sameDestination(e):this.differentDestination(e,a)},useNiceDatetime:$e.y}},Pa=(0,Q.A)(ja,[["render",function(e,a,t,l,o,r){const d=(0,s.g2)("n-select");return(0,s.uX)(),(0,s.CE)("div",null,[void 0!==e.cardLink.id&&null!==e.cardLink.id?((0,s.uX)(),(0,s.CE)("div",va,[a[8]||(a[8]=(0,s.Lk)("strong",null,"Object Link: ",-1)),(0,s.Lk)("a",{href:e.cardLink.hyperlink,target:"_blank",rel:"noopener noreferrer"},(0,n.toDisplayString)(e.cardLink.type)+" - "+(0,n.toDisplayString)(e.cardLink.id),9,ga)])):(0,s.Q3)("v-if",!0),void 0!==e.cardLink.id&&null!==e.cardLink.id?((0,s.uX)(),(0,s.CE)("hr",Ca)):(0,s.Q3)("v-if",!0),(0,s.Q3)(" Card Text "),(0,s.Lk)("div",La,[a[10]||(a[10]=(0,s.Lk)("div",{class:"col-md-4"},[(0,s.Lk)("strong",null,"Card Title"),(0,s.Lk)("p",{class:"text-instructions"},' Write an appropriate name for the kanban card. To update click on the "Update" button. ')],-1)),(0,s.Lk)("div",_a,[a[9]||(a[9]=(0,s.Lk)("label",null,"Card Title",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>r.cardTitle=e),class:"form-control",disabled:e.userLevel<=1},null,8,ya),[[Fe.vModelText,r.cardTitle]])])]),a[19]||(a[19]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",fa,[a[12]||(a[12]=(0,s.Lk)("div",{class:"col-md-4"},[(0,s.Lk)("strong",null,"Card Priority"),(0,s.Lk)("p",{class:"text-instructions"}," Define what the priority of the card is. ")],-1)),(0,s.Lk)("div",wa,[a[11]||(a[11]=(0,s.Lk)("label",null,"Card Priority",-1)),(0,s.bF)(d,{options:o.listPriority,value:r.cardPriority,"onUpdate:value":a[1]||(a[1]=e=>r.cardPriority=e),disabled:"Closed"===e.kanbanStatus||e.userLevel<=1},null,8,["options","value","disabled"])])]),a[20]||(a[20]=(0,s.Lk)("hr",null,null,-1)),(0,s.Q3)(" CARD LOCATION "),(0,s.Lk)("div",Ia,[a[15]||(a[15]=(0,s.Lk)("div",{class:"col-md-4"},[(0,s.Lk)("strong",null,"Card Location"),(0,s.Lk)("p",{class:"text-instructions"}," Select the appropriate location for this card. ")],-1)),(0,s.Lk)("div",Ea,[(0,s.Lk)("div",Ua,[(0,s.Lk)("div",Ma,[a[13]||(a[13]=(0,s.Lk)("label",null,"Card Column",-1)),(0,s.bF)(d,{options:e.listColumns,label:"column",value:r.cardColumn,"onUpdate:value":a[2]||(a[2]=e=>r.cardColumn=e),disabled:"Closed"===e.kanbanStatus||e.userLevel<=1},null,8,["options","value","disabled"])]),(0,s.Lk)("div",Sa,[a[14]||(a[14]=(0,s.Lk)("label",null,"Card Level",-1)),(0,s.bF)(d,{options:e.listLevels,label:"level",value:r.cardLevel,"onUpdate:value":a[3]||(a[3]=e=>r.cardLevel=e),disabled:"Closed"===e.kanbanStatus||e.userLevel<=1},null,8,["options","value","disabled"])])])])]),a[21]||(a[21]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",Da,[a[18]||(a[18]=(0,s.Lk)("div",{class:"col-md-4"},[(0,s.Lk)("strong",null,"Card Dates")],-1)),(0,s.Lk)("div",$a,[(0,s.Lk)("div",xa,[(0,s.Lk)("div",Aa,[a[16]||(a[16]=(0,s.eW)(" Creation Date ")),(0,s.Lk)("p",Na,(0,n.toDisplayString)(r.useNiceDatetime(e.dateCreated)),1)]),(0,s.Lk)("div",Ra,[a[17]||(a[17]=(0,s.eW)(" Last Modified Date ")),(0,s.Lk)("p",Fa,(0,n.toDisplayString)(r.useNiceDatetime(e.dateModified)),1)])])])]),e.userLevel>1?((0,s.uX)(),(0,s.CE)("hr",Ta)):(0,s.Q3)("v-if",!0),e.userLevel>1?((0,s.uX)(),(0,s.CE)("div",Ba,[(0,s.Lk)("div",Xa,[(0,s.Lk)("button",{class:"btn btn-warning",onClick:a[4]||(a[4]=(...e)=>r.closeModal&&r.closeModal(...e))}," Close & Discard Changes "),"Closed"!==e.kanbanStatus?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"btn btn-danger archive-card",onClick:a[5]||(a[5]=(...e)=>r.archiveCard&&r.archiveCard(...e))}," Archive Card ")):(0,s.Q3)("v-if",!0),"Closed"!==e.kanbanStatus?((0,s.uX)(),(0,s.CE)("button",{key:1,class:"btn btn-primary save-changes",onClick:a[6]||(a[6]=e=>r.updateCard(!0))}," Save & Close ")):(0,s.Q3)("v-if",!0),"Closed"!==e.kanbanStatus?((0,s.uX)(),(0,s.CE)("button",{key:2,class:"btn btn-success save-changes",onClick:a[7]||(a[7]=e=>r.updateCard(!1))}," Save & Continue ")):(0,s.Q3)("v-if",!0)])])):(0,s.Q3)("v-if",!0)])}]]),Oa={key:0,class:"row"},Ka={class:"col-md-8"},Qa={key:1},za={key:2,class:"row"},Wa={class:"col-md-12"},qa=["disabled"],Va={key:3};var Ha=t(5665);const Ga={name:"CardNotes",components:{editor:re.A,ListNotes:Ha.A},props:{},data:()=>({cardNoteModel:""}),computed:{...(0,L.L8)({cardNotes:"getCardNotes",contentCss:"getContentCss",kanbanStatus:"getKanbanStatus",rootUrl:"getRootUrl",skin:"getSkin",userLevel:"getUserLevel"}),...(0,L.L8)(["getUserExtraPermission"]),hasNotePermission(){return this.getUserExtraPermission("kanban_note")}},methods:{addNote(){const e=new FormData;e.set("note",this.cardNoteModel),this.$store.dispatch("newToast",{header:"Adding Note",message:"Currently adding note to object",extra_classes:"bg-warning",delay:0,unique_type:"adding_note"}),this.axios.post(`${this.rootUrl}object_data/kanban_card/${this.$store.state.card.cardId}/add_notes/`,e).then((e=>{this.$store.commit({type:"addNote",newNote:e.data[0]}),this.cardNoteModel="",this.$store.dispatch("newToast",{header:"Successfully Added Note",message:"Successfully Added Note to Object",extra_classes:"bg-success",unique_type:"adding_note"})})).catch((e=>{this.$store.dispatch("newToast",{header:"Can't add Note",message:`Sorry, we could not add a note for you. Error -> ${e}`,extra_classes:"bg-danger",delay:0,unique_type:"adding_note"})}))},closeModal(){document.getElementById("cardInformationModalCloseButton").click()}}},Ya=(0,Q.A)(Ga,[["render",function(e,a,t,n,l,o){const r=(0,s.g2)("editor"),d=(0,s.g2)("list-notes");return(0,s.uX)(),(0,s.CE)("div",null,[e.userLevel>1||o.hasNotePermission?((0,s.uX)(),(0,s.CE)("div",Oa,[a[4]||(a[4]=(0,s.Lk)("div",{class:"col-md-4"},[(0,s.Lk)("strong",null,"Notes"),(0,s.Lk)("p",{class:"text-instructions"},' To add a note - type your note in the Note Box and hit the "Submit Note" button. ')],-1)),(0,s.Lk)("div",Ka,[a[3]||(a[3]=(0,s.Lk)("label",null,"Note Box",-1)),(0,s.bF)(r,{"license-key":"gpl",init:{license_key:"gpl",height:250,menubar:!1,plugins:["lists","codesample","table"],toolbar:"undo redo | blocks | bold italic strikethrough underline backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | table image codesample",skin:`${this.skin}`,content_css:`${this.contentCss}`,relative_urls:!1},modelValue:l.cardNoteModel,"onUpdate:modelValue":a[0]||(a[0]=e=>l.cardNoteModel=e),disabled:"Closed"===e.kanbanStatus},null,8,["init","modelValue","disabled"])])])):(0,s.Q3)("v-if",!0),e.userLevel>1||o.hasNotePermission?((0,s.uX)(),(0,s.CE)("hr",Qa)):(0,s.Q3)("v-if",!0),e.userLevel>1||o.hasNotePermission?((0,s.uX)(),(0,s.CE)("div",za,[(0,s.Lk)("div",Wa,[(0,s.Lk)("button",{class:"btn btn-secondary",onClick:a[1]||(a[1]=(...e)=>o.closeModal&&o.closeModal(...e))}," Close "),(0,s.Lk)("button",{class:"btn btn-primary save-changes",onClick:a[2]||(a[2]=(...e)=>o.addNote&&o.addNote(...e)),disabled:""===l.cardNoteModel}," Add Note ",8,qa)])])):(0,s.Q3)("v-if",!0),e.userLevel>1||o.hasNotePermission?((0,s.uX)(),(0,s.CE)("hr",Va)):(0,s.Q3)("v-if",!0),(0,s.Q3)(" NOTE HISTORY "),(0,s.bF)(d,{"note-history-results":e.cardNotes,destination:"card"},null,8,["note-history-results"])])}]]),Ja={class:"row"},Za={class:"col-md-8"},et={key:0,class:"row"},at={class:"col-md-12"},tt={name:"CardDescription",components:{editor:re.A},emits:["update_card"],props:{},data:()=>({editorIsDisabled:!1}),computed:{...(0,L.L8)({contentCss:"getContentCss",kanbanStatus:"getKanbanStatus",skin:"getSkin",userLevel:"getUserLevel"}),cardDescription:{get(){return this.$store.state.card.cardDescription},set(e){this.$store.commit("updateValue",{field:"cardDescription",value:e})}}},methods:{useUploadImage:ta.A,closeModal(){document.getElementById("cardInformationModalCloseButton").click()},updateCard(e){this.$emit("update_card",{close_modal:e})}},mounted(){setTimeout((()=>{this.editorIsDisabled="Closed"===this.kanbanStatus||this.userLevel<=1}),500)}},st=(0,Q.A)(tt,[["render",function(e,a,t,n,l,o){const r=(0,s.g2)("editor");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",Ja,[a[4]||(a[4]=(0,s.Lk)("div",{class:"col-md-4"},[(0,s.Lk)("strong",null,"Card Description"),(0,s.Lk)("p",{class:"text-instructions"},' Fill out a detailed description for the card, then click on the "Update Card" button to update the card. ')],-1)),(0,s.Lk)("div",Za,[(0,s.bF)(r,{"license-key":"gpl",init:{license_key:"gpl",file_picker_types:"image",height:300,images_upload_handler:o.useUploadImage,menubar:!1,paste_data_images:!0,plugins:["lists","image","codesample","table"],toolbar:"undo redo | blocks | bold italic strikethrough underline backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | table image codesample",skin:`${this.skin}`,content_css:`${this.contentCss}`,relative_urls:!1},modelValue:o.cardDescription,"onUpdate:modelValue":a[0]||(a[0]=e=>o.cardDescription=e),disabled:l.editorIsDisabled},null,8,["init","modelValue","disabled"])])]),a[5]||(a[5]=(0,s.Lk)("hr",null,null,-1)),e.userLevel>1?((0,s.uX)(),(0,s.CE)("div",et,[(0,s.Lk)("div",at,[(0,s.Lk)("button",{class:"btn btn-warning",onClick:a[1]||(a[1]=(...e)=>o.closeModal&&o.closeModal(...e))}," Close & Discard Changes "),"Closed"!==e.kanbanStatus?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"btn btn-primary save-changes",onClick:a[2]||(a[2]=e=>o.updateCard(!0))}," Save & Close ")):(0,s.Q3)("v-if",!0),"Closed"!==e.kanbanStatus?((0,s.uX)(),(0,s.CE)("button",{key:1,class:"btn btn-success save-changes",onClick:a[3]||(a[3]=e=>o.updateCard(!1))}," Save & Continue ")):(0,s.Q3)("v-if",!0)])])):(0,s.Q3)("v-if",!0)])}]]),nt={key:0,class:"row mt-3"},lt={class:"col-md-12"},ot={name:"CardUsers",components:{RenderUserCardList:t(9727).A},computed:{...(0,L.L8)({cardId:"getCardId",kanbanBoardStatus:"getKanbanStatus",locationId:"getLocationId",rootUrl:"getRootUrl",staticUrl:"getStaticUrl",userLevel:"getUserLevel",objectUserList:"getObjectUserList"})},methods:{addUser(){document.getElementById("cardInformationModalCloseButton").click(),new C.aF("#addUserModal").show()},profilePicture(e){return null!==e&&""!==e?`${this.rootUrl}private/${e}/`:`${this.staticUrl}NearBeach/images/placeholder/people_tax.svg`},removeUser(e){const a=new FormData;a.set("username",e),this.axios.post(`${this.rootUrl}object_data/kanban_card/${this.cardId}/remove_user/`,a).then((e=>{this.$store.commit("updateGroupsAndUsers",{objectGroupList:e.data.object_group_list,objectUserList:e.data.object_user_list,potentialGroupList:e.data.potential_group_list,potentialUserList:e.data.potential_user_list,userGroupList:e.data.user_group_list})}))}}},rt=(0,Q.A)(ot,[["render",function(e,a,t,n,l,o){const r=(0,s.g2)("render-user-card-list");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(r,{"object-user-list":e.objectUserList,onRemove_user:o.removeUser},null,8,["object-user-list","onRemove_user"]),e.userLevel>1&&"Closed"!==e.kanbanBoardStatus?((0,s.uX)(),(0,s.CE)("div",nt,[(0,s.Lk)("div",lt,[(0,s.Lk)("button",{class:"btn btn-primary",onClick:a[0]||(a[0]=(...e)=>o.addUser&&o.addUser(...e))}," Add User ")])])):(0,s.Q3)("v-if",!0)],64)}]]);var dt=t(1031),it=t(384);const ct={name:"CardInformation",components:{ListTagsModule:t(9142).A,CardDescription:st,CardDetails:Pa,CardNotes:Ya,CardUsers:rt,DocumentsModule:dt.A,ListPublicLinks:it.A},emits:["update_card"],data:()=>({cardDescriptionModel:"",cardNoteModel:"",cardTitleModel:"",noteHistoryResults:[]}),computed:{...(0,L.L8)({cardId:"getCardId",kanbanStatus:"getKanbanStatus",rootUrl:"getRootUrl"})},methods:{updateCard(e){this.$store.dispatch("newToast",{header:"Updating Current Card",message:"Please wait - we are updating the card's information",extra_classes:"bg-warning text-dark",unique_type:"update-card",delay:0});const a=this.$store.getters.getAllCardData,t=new FormData;t.set("kanban_card_text",a.cardTitle),t.set("kanban_card_description",a.cardDescription),t.set("kanban_level",a.cardLevel),t.set("kanban_column",a.cardColumn),t.set("kanban_card_id",a.cardId),t.set("kanban_card_priority",a.cardPriority),void 0!==e.new_destination&&e.new_destination.forEach((e=>{t.append("new_destination",e.kanban_card_id)})),void 0!==e.old_destination&&e.old_destination.forEach((e=>{t.append("old_destination",e.kanban_card_id)})),this.axios.post(`${this.rootUrl}kanban_information/update_card/`,t).then((()=>{this.$emit("update_card",{kanban_card_id:a.cardId,kanban_card_text:a.cardTitle,kanban_card_description:a.cardDescription}),this.$store.dispatch("newToast",{header:"Card successfully updated",message:"Your card has successfully update",extra_classes:"bg-success",unique_type:"update-card"}),e.close_modal&&document.getElementById("cardInformationModalCloseButton").click()})).catch((e=>{this.$store.dispatch("newToast",{header:"Card failed to updated",message:`Sorry your card failed to update - error -> ${e}`,extra_classes:"bg-danger",delay:0,unique_type:"update-card"})}))}}},ut=(0,Q.A)(ct,[["render",function(e,a,t,l,o,r){const d=(0,s.g2)("card-details"),i=(0,s.g2)("card-description"),c=(0,s.g2)("card-notes"),u=(0,s.g2)("card-users"),b=(0,s.g2)("documents-module"),m=(0,s.g2)("list-tags-module"),k=(0,s.g2)("list-public-links");return(0,s.uX)(),(0,s.CE)("div",la,[(0,s.Lk)("div",oa,[(0,s.Lk)("div",ra,[(0,s.Lk)("div",da,[(0,s.Lk)("h2",null," Card Information - "+(0,n.toDisplayString)(e.cardId),1),a[2]||(a[2]=(0,s.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"cardInformationModalCloseButton"},[(0,s.Lk)("span",{"aria-hidden":"true"})],-1))]),(0,s.Lk)("div",ia,[(0,s.Q3)(" TAB MENU "),a[3]||(a[3]=(0,s.Lk)("ul",{id:"card_information_tabs",class:"nav nav-tabs",role:"tablist"},[(0,s.Lk)("li",{class:"nav-item",role:"presentation"},[(0,s.Lk)("button",{class:"nav-link active",id:"details-tab","data-bs-toggle":"tab","data-bs-target":"#card_details",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"}," Details ")]),(0,s.Lk)("li",{class:"nav-item",role:"presentation"},[(0,s.Lk)("button",{class:"nav-link",id:"description-tab","data-bs-toggle":"tab","data-bs-target":"#card_description",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false"}," Description ")]),(0,s.Lk)("li",{class:"nav-item",role:"presentation"},[(0,s.Lk)("button",{class:"nav-link",id:"notes-tab","data-bs-toggle":"tab","data-bs-target":"#card_notes",type:"button",role:"tab","aria-controls":"contact","aria-selected":"false"}," Notes ")]),(0,s.Lk)("li",{class:"nav-item",role:"presentation"},[(0,s.Lk)("button",{class:"nav-link",id:"users-tab","data-bs-toggle":"tab","data-bs-target":"#user_permissions",type:"button",role:"tab","aria-controls":"contact","aria-selected":"false"}," Users ")]),(0,s.Lk)("li",{class:"nav-item",role:"presentation"},[(0,s.Lk)("button",{class:"nav-link",id:"downloads-tab","data-bs-toggle":"tab","data-bs-target":"#downloads",type:"button",role:"tab","aria-controls":"contact","aria-selected":"false"}," Downloads ")]),(0,s.Lk)("li",{class:"nav-item",role:"presentation"},[(0,s.Lk)("button",{class:"nav-link",id:"misc-tab","data-bs-toggle":"tab","data-bs-target":"#misc",type:"button",role:"tab","aria-controls":"contact","aria-selected":"false"}," Misc ")])],-1)),a[4]||(a[4]=(0,s.Lk)("hr",null,null,-1)),(0,s.Q3)(" CONTENT OF TABS "),(0,s.Lk)("div",ca,[(0,s.Lk)("div",ua,[(0,s.bF)(d,{onUpdate_card:a[0]||(a[0]=e=>r.updateCard(e))})]),(0,s.Lk)("div",ba,[(0,s.bF)(i,{onUpdate_card:a[1]||(a[1]=e=>r.updateCard(e))})]),(0,s.Lk)("div",ma,[(0,s.bF)(c)]),(0,s.Lk)("div",ka,[(0,s.bF)(u)]),(0,s.Lk)("div",ha,[(0,s.bF)(b,{"override-destination":"kanban_card","override-location-id":e.cardId,"read-only":"Closed"===e.kanbanStatus},null,8,["override-location-id","read-only"])]),(0,s.Lk)("div",pa,[(0,s.bF)(m,{"override-destination":"kanban_card","close-modal-before":"cardInformationModalCloseButton","override-location-id":e.cardId},null,8,["override-location-id"]),(0,s.bF)(k,{"override-destination":"kanban_card","override-location-id":e.cardId,"is-read-only":"Closed"===e.kanbanStatus},null,8,["override-location-id","is-read-only"])])])])])])])}]]),bt={class:"modal fade",id:"newLinkModal",tabindex:"-1","aria-labelledby":"kanbanLinkModal","aria-hidden":"true"},mt={class:"modal-dialog modal-lg modal-fullscreen-lg-down"},kt={class:"modal-content"},ht={class:"modal-body"},pt={class:"row"},vt={class:"col-md-8"},gt={key:1,class:"alert alert-success"},Ct={key:0},Lt={key:1,class:"row"},_t={class:"col-md-8"},yt={class:"row"},ft={class:"col-md-6 mt-4"},wt={class:"col-md-6 mt-4"},It={class:"col-md-8"},Et={class:"form-group"},Ut={key:0,class:"alert alert-warning"},Mt={key:1,class:"wizard-results"},St={class:"wizard-results--card--tick"},Dt=["value","id"],$t={class:"wizard-results--card--content"},xt={class:"text-instructions"},At={class:"text-instructions"},Nt={key:0,"aria-label":"Pagination for New Link Wizard"},Rt={class:"pagination justify-content-center"},Ft=["onClick"],Tt={key:1,class:"page-link"},Bt={class:"modal-footer"},Xt=["disabled"],jt={name:"NewKanbanLinkWizard",components:{NSelect:O.A},emits:["new_card"],props:{locationId:{type:Number,default:0}},computed:{...(0,L.L8)({listColumns:"getListColumns",listLevels:"getListLevels",newCardLocation:"getNewCardLocation",rootUrl:"getRootUrl",staticUrl:"getStaticUrl"})},data:()=>({currentPage:1,isSearching:!1,linkModel:[],localColumnId:0,localLevelId:0,numberOfPages:1,objectModel:null,objectResults:[],objectSelection:[{value:"Project",label:"Project"},{value:"Requirement",label:"Requirement"},{value:"Requirement_Item",label:"Requirement Item"},{value:"Task",label:"Task"}],searchModel:"",searchTimeout:"",styleHeight:"height: 90px"}),watch:{newCardLocation:{handler(e){this.localColumnId=e.columnId,this.localLevelId=e.levelId},deep:!0,immediate:!0},objectModel(){this.currentPage=1,this.getObjects()},searchModel(){""!==this.searchTimeout&&clearTimeout(this.searchTimeout),(this.searchModel.length>=3||0===this.searchModel.length||Number.isInteger(parseInt(this.searchModel)))&&(this.searchTimeout=setTimeout((()=>{this.changePage(1)}),500))}},methods:{changePage(e){this.currentPage=e,this.getObjects()},getClasses(e){return parseInt(e)===this.currentPage?"page-item active":"page-item"},getObjects(){if(this.linkModel=[],null===this.objectModel)return void(this.isSearching=!1);const e=new FormData;e.append("array_of_objects",this.objectModel.toLowerCase()),e.set("destination_page",this.currentPage),e.set("exclude_destination","kanban_board"),e.set("exclude_location_id",this.locationId),e.set("search",this.searchModel),this.isSearching=!0,this.axios.post(`${this.rootUrl}kanban_information/${this.locationId}/link_list/`,e).then((e=>{this.objectResults=e.data[this.objectModel.toLowerCase()],this.numberOfPages=e.data[`${this.objectModel.toLowerCase()}_number_of_pages`],this.currentPage=e.data[`${this.objectModel.toLowerCase()}_current_page`],this.isSearching=!1,this.searchTermModel="",this.styleHeight="",this.$nextTick((()=>{const e=document.getElementById("select_links");void 0!==e&&(this.styleHeight=`height: ${e.clientHeight}px`)}))})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Getting Link List",message:`We had an issue getting Link List. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},saveLinks(){const e=new FormData;e.set(`${this.objectModel.toLowerCase()}`,this.linkModel),e.set("kanban_level",this.localLevelId),e.set("kanban_column",this.localColumnId),this.axios.post(`${this.rootUrl}kanban_information/${this.locationId}/${this.objectModel.toLowerCase()}/add_link/`,e).then((e=>{const a=e.data[0];a.tag_list=[],this.$emit("new_card",a),this.objectModel=null,document.getElementById("requirementLinkCloseButton").click(),this.styleHeight="height: 90px"}))}}},Pt=(0,Q.A)(jt,[["render",function(e,a,t,l,o,r){const d=(0,s.g2)("n-select");return(0,s.uX)(),(0,s.CE)("div",bt,[(0,s.Lk)("div",mt,[(0,s.Lk)("div",kt,[a[16]||(a[16]=(0,s.Lk)("div",{class:"modal-header"},[(0,s.Lk)("h2",null," New Kanban Link Wizard "),(0,s.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"requirementLinkCloseButton"},[(0,s.Lk)("span",{"aria-hidden":"true"})])],-1)),(0,s.Lk)("div",ht,[(0,s.Q3)(" CHOOSING A OBJECT TYPE "),(0,s.Lk)("div",pt,[a[6]||(a[6]=(0,s.Lk)("div",{class:"col-md-4"},[(0,s.Lk)("strong",null,"Object Selector"),(0,s.Lk)("p",{class:"text-instructions"}," Please select which object you would like to link to this requirement. ")],-1)),(0,s.Lk)("div",vt,[o.isSearching?((0,s.uX)(),(0,s.CE)("div",gt," Searching for "+(0,n.toDisplayString)(o.objectModel)+"s ",1)):((0,s.uX)(),(0,s.Wv)(d,{key:0,options:o.objectSelection,value:o.objectModel,"onUpdate:value":a[0]||(a[0]=e=>o.objectModel=e),class:"object-selection"},null,8,["options","value"]))])]),(0,s.Q3)(" CARD LOCATION "),e.newCardLocation.userCanSelectLocation?((0,s.uX)(),(0,s.CE)("hr",Ct)):(0,s.Q3)("v-if",!0),e.newCardLocation.userCanSelectLocation?((0,s.uX)(),(0,s.CE)("div",Lt,[a[9]||(a[9]=(0,s.Lk)("div",{class:"col-md-4"},[(0,s.Lk)("strong",null,"Card Location"),(0,s.Lk)("p",{class:"text-instructions"}," Select the appropriate location for this card. ")],-1)),(0,s.Lk)("div",_t,[(0,s.Lk)("div",yt,[(0,s.Lk)("div",ft,[a[7]||(a[7]=(0,s.Lk)("label",null,"Card Column",-1)),(0,s.bF)(d,{options:e.listColumns,label:"column",value:o.localColumnId,"onUpdate:value":a[1]||(a[1]=e=>o.localColumnId=e)},null,8,["options","value"])]),(0,s.Lk)("div",wt,[a[8]||(a[8]=(0,s.Lk)("label",null,"Card Level",-1)),(0,s.bF)(d,{options:e.listLevels,label:"level",value:o.localLevelId,"onUpdate:value":a[2]||(a[2]=e=>o.localLevelId=e)},null,8,["options","value"])])])])])):(0,s.Q3)("v-if",!0),(0,s.Q3)(" SELECTING WHICH OBJECTS TO LINK TO "),a[14]||(a[14]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",{id:"select_links",class:"row",style:(0,n.normalizeStyle)(o.styleHeight)},[a[13]||(a[13]=(0,s.Lk)("div",{class:"col-md-4"},[(0,s.Lk)("strong",null,"Select Links"),(0,s.Lk)("p",{class:"text-instructions"}," Please select which of the objects you want to connect to this requirement. ")],-1)),(0,s.Lk)("div",It,[(0,s.Q3)(" SEARCH RESULTS "),(0,s.Lk)("div",Et,[a[10]||(a[10]=(0,s.Lk)("label",null,"Search Terms",-1)),(0,s.bo)((0,s.Lk)("input",{id:"search_terms",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=e=>o.searchModel=e),type:"text"},null,512),[[Fe.vModelText,o.searchModel]])]),a[12]||(a[12]=(0,s.Lk)("br",null,null,-1)),0===o.objectResults.length&&null!=o.objectModel?((0,s.uX)(),(0,s.CE)("div",Ut," Sorry - there are no results. ")):(0,s.Q3)("v-if",!0),(0,s.Q3)(" ADD CODE "),!o.isSearching&&o.objectResults.length>0&&null!=o.objectModel?((0,s.uX)(),(0,s.CE)("div",Mt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.objectResults,(e=>((0,s.uX)(),(0,s.CE)("div",{class:"wizard-results--card",key:e.id},[(0,s.Lk)("div",St,[(0,s.bo)((0,s.Lk)("input",{class:"form-check-input",type:"radio",name:"link-option",value:e.id,id:`checkbox_${o.objectModel.toLowerCase()}_${e.pk}`,"onUpdate:modelValue":a[4]||(a[4]=e=>o.linkModel=e)},null,8,Dt),[[Fe.vModelRadio,o.linkModel]])]),(0,s.Lk)("div",$t,[(0,s.Lk)("div",xt,(0,n.toDisplayString)(o.objectModel)+" "+(0,n.toDisplayString)(e.id),1),(0,s.Lk)("div",null,[(0,s.Lk)("strong",null,(0,n.toDisplayString)(e.title),1)]),(0,s.Lk)("div",null,[a[11]||(a[11]=(0,s.eW)(" Status: ")),(0,s.Lk)("span",At,(0,n.toDisplayString)(e.status),1)])])])))),128)),o.numberOfPages>1?((0,s.uX)(),(0,s.CE)("nav",Nt,[(0,s.Lk)("ul",Rt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.numberOfPages,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e,class:(0,n.normalizeClass)(r.getClasses(e))},[parseInt(e)!==parseInt(o.currentPage)?((0,s.uX)(),(0,s.CE)("a",{key:0,class:"page-link",href:"javascript:void(0)",onClick:a=>r.changePage(e)},(0,n.toDisplayString)(e),9,Ft)):((0,s.uX)(),(0,s.CE)("span",Tt,(0,n.toDisplayString)(e),1))],2)))),128))])])):(0,s.Q3)("v-if",!0)])):(0,s.Q3)("v-if",!0)])],4)]),(0,s.Lk)("div",Bt,[a[15]||(a[15]=(0,s.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1)),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",disabled:0===o.linkModel.length,onClick:a[5]||(a[5]=(...e)=>r.saveLinks&&r.saveLinks(...e))}," Save changes ",8,Xt)])])])])}]]),Ot={class:"modal fade",id:"confirmCardArchiveModal",tabindex:"-1","aria-labelledby":"confirmCardArchiveModalLabel","aria-hidden":"true"},Kt={class:"modal-dialog modal-lg"},Qt={class:"modal-content"},zt={class:"modal-body"},Wt={class:"row"},qt={class:"col"},Vt={class:"row"},Ht={class:"col"},Gt={class:"modal-footer"},Yt={name:"ConfirmCardArchive",computed:{...(0,L.L8)({cardId:"getCardId",cardTitle:"getCardTitle",rootUrl:"getRootUrl"})},methods:{archiveCard(){const e=new FormData;e.append("kanban_card_id",this.cardId),this.$store.commit({type:"archiveCard",cardId:this.cardId}),document.getElementById("confirmCardArchiveModalCloseButton").click(),this.axios.post(`${this.rootUrl}kanban_information/archive_kanban_cards/`,e).catch((()=>{}))},goBack(){document.getElementById("confirmCardArchiveModalCloseButton").click(),new C.aF("#cardInformationModal").show()}}},Jt=(0,Q.A)(Yt,[["render",function(e,a,t,l,o,r){return(0,s.uX)(),(0,s.CE)("div",Ot,[(0,s.Lk)("div",Kt,[(0,s.Lk)("div",Qt,[a[5]||(a[5]=(0,s.Lk)("div",{class:"modal-header"},[(0,s.Lk)("h2",null,"Card Information"),(0,s.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"confirmCardArchiveModalCloseButton"},[(0,s.Lk)("span",{"aria-hidden":"true"})])],-1)),(0,s.Lk)("div",zt,[a[2]||(a[2]=(0,s.Lk)("div",{class:"alert alert-danger"}," Please note - archiving the card can not be undone. ",-1)),a[3]||(a[3]=(0,s.Lk)("h3",null," Are you sure you want to archive the following card? ",-1)),(0,s.Lk)("div",Wt,[(0,s.Lk)("div",qt,"Card No. - "+(0,n.toDisplayString)(e.cardId),1)]),a[4]||(a[4]=(0,s.Lk)("br",null,null,-1)),(0,s.Lk)("div",Vt,[(0,s.Lk)("div",Ht,"Card Title - "+(0,n.toDisplayString)(e.cardTitle),1)])]),(0,s.Lk)("div",Gt,[(0,s.Lk)("button",{type:"button",class:"btn btn-danger",onClick:a[0]||(a[0]=(...e)=>r.archiveCard&&r.archiveCard(...e))}," Yes Archive Card "),(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[1]||(a[1]=(...e)=>r.goBack&&r.goBack(...e))}," No go back ")])])])])}]]);var Zt=t(9581);const es={name:"KanbanInformation",components:{ConfirmPublicLinkDelete:t(4077).A,AddTagWizard:D.A,ConfirmNoteDelete:S.A,NewHistoryNoteWizard:M.A,EditHistoryNoteWizard:U.A,ConfirmFolderDelete:E.A,ConfirmFileDeleteVue:I.A,AddLinkWizard:w.A,AddFolderWizard:f.A,UploadDocumentWizard:y.A,AddUserToCard:z,ArchiveCards:J,BlockedNotesModal:ie,CardInformation:ut,ConfirmCardArchive:Jt,KanbanBoard:Re,NewKanbanCard:na,NewKanbanLinkWizard:Pt,NSwitch:_.A},props:{columnResults:{type:Array,default:()=>[]},kanbanBoardResults:{type:Array,default:()=>[]},kanbanCardResults:{type:Array,default:()=>[]},kanbanSettings:{type:Object,default:()=>({setting_data:{canDragCards:!0,levels:[]}})},levelResults:{type:Array,default:()=>[]},locationId:{type:Number,default:0},openCardOnLoad:{type:Number,default:0},potentialUserList:{type:Array,default:()=>[]},rootUrl:{type:String,default:"/"},staticUrl:{type:String,default:"/"},tagResults:{type:Array,default:()=>[]},theme:{type:String,default:""},userExtraPermissions:{type:Array,default:()=>[]},userLevel:{type:Number,default:0}},computed:{...(0,L.L8)({cardId:"getCardId"}),canRenderDropdown(){const e=this.userLevel>=3,a="closed"!==this.kanbanBoardResults[0].fields.kanban_board_status.toLowerCase()&&2===this.userLevel;return e||a}},watch:{cardId(){this.refreshUserList=!0}},data(){return{canDragCards:!0,cardInformation:{},kanbanStatus:this.kanbanBoardResults[0].fields.kanban_board_status,localKanbanCardResults:this.kanbanCardResults,refreshUserList:!1,newCardInfo:[]}},methods:{useNBTheme:Zt.p,addNewKanbanCard(){this.$store.commit({type:"updateNewCardLocation",columnId:this.columnResults[0].pk,levelId:this.levelResults[0].pk,userCanSelectLocation:!0}),new C.aF(document.getElementById("addKanbanCardModal")).show(),setTimeout((()=>{document.getElementById("kanbanCardText").focus()}),250)},addNewLink(){this.$store.commit({type:"updateNewCardLocation",columnId:this.columnResults[0].pk,levelId:this.levelResults[0].pk,userCanSelectLocation:!0}),new C.aF(document.getElementById("newLinkModal")).show()},doubleClickedCard(e){this.cardInformation=e},newCard(e){this.$store.commit({type:"addCard",newCard:e})},resetRefreshUserList(){this.refreshUserList=!1},updateCanDragCards(e){this.$store.dispatch({type:"updateCanDragCards",canDragCards:e})},updateCard(e){this.localKanbanCardResults.forEach(((a,t)=>{a.kanban_card_id===e.kanban_card_id&&(this.localKanbanCardResults[t].kanban_card_text=e.kanban_card_text,this.localKanbanCardResults[t].kanban_card_description=e.kanban_card_description)}))},updateKanbanSettings(){if(void 0===this.kanbanSettings.setting_data)return void this.$store.commit({type:"initKanbanSettings",canDragCards:!0,levels:this.levelResults.map((e=>({level_id:e.pk,is_collapsed:!1})))});let e=this.kanbanSettings.setting_data.canDragCards;void 0===e&&(e=!0),this.canDragCards=e;let a=this.kanbanSettings.setting_data.levels;void 0===a&&(a=[]);const t=a.map((e=>e.level_id));this.levelResults.filter((e=>-1===t.indexOf(e.pk))).forEach((e=>{a.push({level_id:e.pk,is_collapsed:!1})}));const s=this.levelResults.map((e=>e.pk));a=a.filter((e=>s.indexOf(e.level_id)>=0)),this.$store.commit({type:"initKanbanSettings",canDragCards:e,levels:a})}},async beforeMount(){await this.$store.dispatch("processThemeUpdate",{theme:this.theme})},mounted(){this.updateKanbanSettings();const e=this.kanbanCardResults.map((e=>(e.tag_list=this.tagResults.filter((a=>parseInt(a.kanban_card_id)===parseInt(e.kanban_card_id))),e)));this.$store.commit({type:"initPayload",kanbanCardResults:e,levelResults:this.levelResults,columnResults:this.columnResults,openCardOnLoad:this.openCardOnLoad}),this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl,staticUrl:this.staticUrl}),this.$store.commit({type:"updateDestination",destination:"kanban_board",locationId:this.locationId}),this.$store.commit({type:"updateLists",columnResults:this.columnResults,levelResults:this.levelResults}),this.$store.commit({type:"updateUserLevel",userLevel:this.userLevel}),this.$store.commit({type:"updateUserExtraPermissions",userExtraPermissions:this.userExtraPermissions}),this.$store.commit({type:"updateGroupsAndUsers",potentialUserList:this.potentialUserList})}},as=(0,Q.A)(es,[["render",function(e,a,t,C,L,_){const y=(0,s.g2)("n-switch"),f=(0,s.g2)("kanban-board"),w=(0,s.g2)("add-user-to-card"),I=(0,s.g2)("archive-cards"),E=(0,s.g2)("blocked-notes-modal"),U=(0,s.g2)("confirm-card-archive"),M=(0,s.g2)("new-kanban-card"),S=(0,s.g2)("card-information"),D=(0,s.g2)("upload-document-wizard"),$=(0,s.g2)("edit-history-note-wizard"),x=(0,s.g2)("new-history-note-wizard"),A=(0,s.g2)("confirm-note-delete"),N=(0,s.g2)("add-folder-wizard"),R=(0,s.g2)("add-link-wizard"),F=(0,s.g2)("confirm-file-delete-vue"),T=(0,s.g2)("confirm-folder-delete"),B=(0,s.g2)("confirm-public-link-delete"),X=(0,s.g2)("new-kanban-link-wizard"),j=(0,s.g2)("add-tag-wizard"),P=(0,s.g2)("n-config-provider");return(0,s.uX)(),(0,s.Wv)(P,{theme:_.useNBTheme(t.theme)},{default:(0,s.k6)((()=>[(0,s.Lk)("div",null,[(0,s.Lk)("h1",l,["closed"===L.kanbanStatus.toLowerCase()?((0,s.uX)(),(0,s.CE)("span",o," CLOSED: ")):(0,s.Q3)("v-if",!0),(0,s.eW)(" "+(0,n.toDisplayString)(t.kanbanBoardResults[0].fields.kanban_board_name),1)]),_.canRenderDropdown?((0,s.uX)(),(0,s.CE)("div",r,[a[9]||(a[9]=(0,s.Lk)("button",{class:"btn btn-secondary btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Kanban Menu ",-1)),(0,s.Lk)("ul",d,["closed"!==L.kanbanStatus.toLowerCase()?((0,s.uX)(),(0,s.CE)("li",i,[(0,s.Lk)("a",c,["Closed"!==t.kanbanBoardResults[0].fields.kanban_board_status&&t.userLevel>=2?((0,s.uX)(),(0,s.Wv)(y,{key:0,value:L.canDragCards,"onUpdate:value":[a[0]||(a[0]=e=>L.canDragCards=e),_.updateCanDragCards]},{checked:(0,s.k6)((()=>a[7]||(a[7]=[(0,s.eW)(" Can Drag Cards ")]))),unchecked:(0,s.k6)((()=>a[8]||(a[8]=[(0,s.eW)(" Card Position Locked ")]))),_:1},8,["value","onUpdate:value"])):(0,s.Q3)("v-if",!0)])])):(0,s.Q3)("v-if",!0),"closed"!==L.kanbanStatus.toLowerCase()?((0,s.uX)(),(0,s.CE)("li",u,[t.userLevel>=3?((0,s.uX)(),(0,s.CE)("hr",b)):(0,s.Q3)("v-if",!0)])):(0,s.Q3)("v-if",!0),"closed"!==L.kanbanStatus.toLowerCase()?((0,s.uX)(),(0,s.CE)("li",m,[(0,s.Lk)("a",{class:"dropdown-item",href:"#",onClick:a[1]||(a[1]=e=>_.addNewKanbanCard())}," Add New Card ")])):(0,s.Q3)("v-if",!0),"closed"!==L.kanbanStatus.toLowerCase()?((0,s.uX)(),(0,s.CE)("li",k,[(0,s.Lk)("a",{class:"dropdown-item",href:"#",onClick:a[2]||(a[2]=e=>_.addNewLink())}," Add New Link to Object ")])):(0,s.Q3)("v-if",!0),"closed"!==L.kanbanStatus.toLowerCase()?((0,s.uX)(),(0,s.CE)("li",h,[t.userLevel>=3?((0,s.uX)(),(0,s.CE)("hr",p)):(0,s.Q3)("v-if",!0)])):(0,s.Q3)("v-if",!0),(0,s.Lk)("li",null,[t.userLevel>=3?((0,s.uX)(),(0,s.CE)("a",{key:0,class:"dropdown-item",href:`${t.rootUrl}kanban_information/${t.kanbanBoardResults[0].pk}/edit_board/`}," Edit Kanban ",8,v)):(0,s.Q3)("v-if",!0)])])])):((0,s.uX)(),(0,s.CE)("div",g)),(0,s.Q3)(" Rendering the Kanban Container "),(0,s.bF)(f,{"kanban-board-results":t.kanbanBoardResults,"new-card-info":L.newCardInfo,onDouble_clicked_card:a[3]||(a[3]=e=>_.doubleClickedCard(e))},null,8,["kanban-board-results","new-card-info"]),(0,s.Q3)(" MODALS "),(0,s.bF)(w,{"location-id":e.cardId,"refresh-user-list":L.refreshUserList,destination:"kanban_card",onReset_refresh_user_list:_.resetRefreshUserList},null,8,["location-id","refresh-user-list","onReset_refresh_user_list"]),(0,s.bF)(I),(0,s.bF)(E),(0,s.bF)(U,{"card-information":L.cardInformation},null,8,["card-information"]),(0,s.bF)(M,{"column-results":t.columnResults,"level-results":t.levelResults,"kanban-board-results":t.kanbanBoardResults,onNew_card:a[4]||(a[4]=e=>_.newCard(e))},null,8,["column-results","level-results","kanban-board-results"]),(0,s.bF)(S,{"card-information":L.cardInformation,onUpdate_card:a[5]||(a[5]=e=>_.updateCard(e))},null,8,["card-information"]),(0,s.bF)(D,{"override-destination":"kanban_card","override-location-id":e.cardId},null,8,["override-location-id"]),(0,s.bF)($),(0,s.bF)(x,{"location-id":e.cardId,destination:"kanban_card"},null,8,["location-id"]),(0,s.bF)(A),(0,s.bF)(N,{"location-id":t.locationId,destination:"kanban_card"},null,8,["location-id"]),(0,s.bF)(R,{"location-id":t.locationId,destination:"kanban_card"},null,8,["location-id"]),(0,s.Q3)(" CONFIRM DOCUMENT DELETE "),(0,s.bF)(F),(0,s.bF)(T),(0,s.Q3)(" CONFIRM PUBLIC LINK DELETE "),(0,s.bF)(B,{"override-location-id":e.cardId,"override-destination":"kanban_card"},null,8,["override-location-id"]),(0,s.bF)(X,{"location-id":t.locationId,"column-results":t.columnResults,"level-results":t.levelResults,onNew_card:a[6]||(a[6]=e=>_.newCard(e))},null,8,["location-id","column-results","level-results"]),(0,s.bF)(j,{"override-destination":"kanban_card","reopen-modal":"cardInformationModal","override-location-id":e.cardId},null,8,["override-location-id"])])])),_:1},8,["theme"])}]])},2094:(e,a,t)=>{t.r(a),t.d(a,{default:()=>r});var s=t(641);const n={class:"icon"},l=["width","height"],o={name:"CarbonLink",props:{height:{type:String,default:"20px"},width:{type:String,default:"20px"}}},r=(0,t(6262).A)(o,[["render",function(e,a,t,o,r,d){return(0,s.uX)(),(0,s.CE)("span",n,[((0,s.uX)(),(0,s.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t.width,height:t.height,viewBox:"0 0 32 32"},a[0]||(a[0]=[(0,s.Lk)("path",{fill:"currentColor",d:"M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42l-1.41-1.42l-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48"},null,-1),(0,s.Lk)("path",{fill:"currentColor",d:"M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42l2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0"},null,-1)]),8,l))])}]])},2595:(e,a,t)=>{t.d(a,{A:()=>n});var s=t(953);function n(e,a){const t=(0,s.BA)(e),n=this.$store.getters.getRootUrl;let l=this.$store.getters.getDestination,o=this.$store.getters.getLocationId;"kanban_board"===l&&(l="kanban_card",o=this.$store.getters.getCardId);const r=new FormData;r.set("document",t.blob(),t.filename()),r.set("document_description",t.filename());const d={onUploadProgress:e=>{a(parseFloat(e.loaded)/parseFloat(e.total))}};return this.axios.post(`${n}documentation/${l}/${o}/upload/`,r,d).then((e=>`/private/${e.data[0].document_key_id}`)).catch((e=>(this.$store.dispatch("newToast",{header:"Failed to upload image",message:`Sorry, could not upload image. Error -> ${e}`,extra_classes:"bg-danger",delay:0}),"")))}},7520:(e,a,t)=>{t.r(a),t.d(a,{default:()=>r});var s=t(641);const n={class:"icon"},l=["width","height"],o={name:"CarbonInformation",props:{height:{type:String,default:"20px"},width:{type:String,default:"20px"}}},r=(0,t(6262).A)(o,[["render",function(e,a,t,o,r,d){return(0,s.uX)(),(0,s.CE)("span",n,[((0,s.uX)(),(0,s.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t.width,height:t.height,viewBox:"0 0 32 32"},a[0]||(a[0]=[(0,s.Lk)("path",{fill:"currentColor",d:"M17 22v-8h-4v2h2v6h-3v2h8v-2zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8"},null,-1),(0,s.Lk)("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14m0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4"},null,-1)]),8,l))])}]])},9727:(e,a,t)=>{t.d(a,{A:()=>p});var s=t(641),n=t(33);const l={key:0,class:"alert alert-info"},o={key:1,class:"alert alert-dark"},r={key:2,class:"user-card-list"},d=["src"],i={class:"user-card--details"},c={class:"user-card--name"},u={class:"user-card--email"},b={key:0,class:"user-card--remove"},m={key:0,class:"user-card"};var k=t(2124);const h={name:"RenderUserCardList",components:{CarbonTrashCan:t(3980).dA},emits:["remove_user"],props:{addingUserStatus:{type:Boolean,default:!1},loadingData:{type:Boolean,default:!1},objectUserList:{type:Array,default:()=>[]}},computed:{...(0,k.L8)({rootUrl:"getRootUrl",staticUrl:"getStaticUrl",userLevel:"getUserLevel"})},methods:{profilePicture(e){return null!==e&&""!==e?`${this.rootUrl}private/${e}/`:`${this.staticUrl}NearBeach/images/placeholder/people_tax.svg`},removeUser(e){this.$emit("remove_user",e)}}},p=(0,t(6262).A)(h,[["render",function(e,a,t,k,h,p){const v=(0,s.g2)("carbon-trash-can");return t.loadingData?((0,s.uX)(),(0,s.CE)("div",l," Currently loading User Data. ")):0!==t.objectUserList.length||t.addingUserStatus?((0,s.uX)(),(0,s.CE)("div",r,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.objectUserList,(a=>((0,s.uX)(),(0,s.CE)("div",{key:a.username,class:"user-card"},[(0,s.Lk)("img",{src:p.profilePicture(a.profile_picture),alt:"default profile",class:"user-card--profile"},null,8,d),(0,s.Lk)("div",i,[(0,s.Lk)("div",c,(0,n.toDisplayString)(a.first_name)+" "+(0,n.toDisplayString)(a.last_name),1),(0,s.Lk)("div",u,(0,n.toDisplayString)(a.email),1)]),e.userLevel>=2?((0,s.uX)(),(0,s.CE)("div",b,[(0,s.bF)(v,{onClick:e=>p.removeUser(a.username)},null,8,["onClick"])])):(0,s.Q3)("v-if",!0)])))),128)),t.addingUserStatus?((0,s.uX)(),(0,s.CE)("div",m,a[0]||(a[0]=[(0,s.Lk)("div",{class:"user-card--details"},"++ Adding User(s) ++",-1)]))):(0,s.Q3)("v-if",!0)])):((0,s.uX)(),(0,s.CE)("div",o," Sorry, there are no users currently assigned to this object. "))}]])}}]);