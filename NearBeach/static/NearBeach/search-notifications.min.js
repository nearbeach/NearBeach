"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[8960],{6262:(t,e)=>{e.A=(t,e)=>{const s=t.__vccOpts||t;for(const[t,a]of e)s[t]=a;return s}},8657:(t,e,s)=>{s.r(e),s.d(e,{default:()=>L});var a=s(641),o=s(3751),r=s(33);const i={class:"card"},l={class:"card-body"},n={class:"form-row"},c={class:"form-group"},h={key:0,class:"list-group"},u=["href"],d={class:"small-text"},f={key:1,class:"alert alert-warning"},k={class:"row submit-row"},p={class:"col-md-12"},g=["href"],m={name:"SearchNotifications",props:{notificationResults:{type:Array,default:()=>[]},rootUrl:{type:String,default:"/"}},data(){return{localNotificationResults:this.notificationResults,searchModel:"",searchTimeout:""}},methods:{getSearchResults(){const t=new FormData;t.set("search",this.searchModel),this.axios.post(`${this.rootUrl}search/notification/data/`,t).then((t=>{this.localNotificationResults=t.data})).catch((t=>{this.$store.dispatch("newToast",{header:"Error getting search results",message:`Sorry, we could not retrieve the search results. Error -> ${t}`,extra_classes:"bg-danger",delay:0})}))}},watch:{searchModel(){""!==this.searchTimeout&&clearTimeout(this.searchTimeout),(this.searchModel.length>=3||0===this.searchModel.length)&&(this.searchTimeout=setTimeout((()=>{this.getSearchResults()}),500))}}},L=(0,s(6262).A)(m,[["render",function(t,e,s,m,L,y){return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",l,[e[3]||(e[3]=(0,a.Lk)("h1",null,"Search Notifications",-1)),e[4]||(e[4]=(0,a.Lk)("hr",null,null,-1)),(0,a.Q3)(" SEARCH FIELD"),(0,a.Lk)("div",n,[(0,a.Lk)("div",c,[e[1]||(e[1]=(0,a.Lk)("label",null,"Search:",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",class:"form-control search-organisation","onUpdate:modelValue":e[0]||(e[0]=t=>L.searchModel=t),maxlength:"250"},null,512),[[o.vModelText,L.searchModel]])])]),e[5]||(e[5]=(0,a.Lk)("hr",null,null,-1)),(0,a.Q3)(" Search Results "),L.localNotificationResults.length>0?((0,a.uX)(),(0,a.CE)("div",h,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(L.localNotificationResults,(t=>((0,a.uX)(),(0,a.CE)("a",{class:"list-group-item list-group-item-action",key:t.pk,href:`/notification_information/${t.pk}/`},[(0,a.Lk)("strong",null,(0,r.toDisplayString)(t.fields.notification_header),1),e[2]||(e[2]=(0,a.Lk)("br",null,null,-1)),(0,a.Lk)("p",d,(0,r.toDisplayString)(t.fields.notification_message),1)],8,u)))),128))])):((0,a.uX)(),(0,a.CE)("div",f," Sorry, there are no notifications ")),e[6]||(e[6]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",k,[(0,a.Lk)("div",p,[(0,a.Lk)("a",{href:`${s.rootUrl}new_notification/`,class:"btn btn-primary save-changes"}," Add new Notification ",8,g)])])])])}]])}}]);