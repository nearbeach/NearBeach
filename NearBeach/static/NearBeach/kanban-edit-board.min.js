"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[720],{4991:(e,n,t)=>{t.d(n,{A:()=>B});var a=t(4041),o=t(5562),r=t(641),i=t(953),l=t(9819),s=t(2778),d=t(9359),c=t(922),u=t(3370),h=t(4019),b=t(6680),p=t(7872),v=t(9521),m=t(4484),g=t(8880),k=t(8090);const f={name:"Switch",common:g.A,self:function(e){const{primaryColor:n,opacityDisabled:t,borderRadius:a,textColor3:o}=e;return Object.assign(Object.assign({},k.A),{iconColor:o,textColor:"white",loadingColor:n,opacityDisabled:t,railColor:"rgba(0, 0, 0, .14)",railColorActive:n,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:a,railBorderRadiusMedium:a,railBorderRadiusLarge:a,buttonBorderRadiusSmall:a,buttonBorderRadiusMedium:a,buttonBorderRadiusLarge:a,boxShadowFocus:`0 0 0 2px ${(0,m.QX)(n,{alpha:.2})}`})}};var y=t(8454);const w=(0,p.cB)("switch","\n height: var(--n-height);\n min-width: var(--n-width);\n vertical-align: middle;\n user-select: none;\n -webkit-user-select: none;\n display: inline-flex;\n outline: none;\n justify-content: center;\n align-items: center;\n",[(0,p.cE)("children-placeholder","\n height: var(--n-rail-height);\n display: flex;\n flex-direction: column;\n overflow: hidden;\n pointer-events: none;\n visibility: hidden;\n "),(0,p.cE)("rail-placeholder","\n display: flex;\n flex-wrap: none;\n "),(0,p.cE)("button-placeholder","\n width: calc(1.75 * var(--n-rail-height));\n height: var(--n-rail-height);\n "),(0,p.cB)("base-loading","\n position: absolute;\n top: 50%;\n left: 50%;\n transform: translateX(-50%) translateY(-50%);\n font-size: calc(var(--n-button-width) - 4px);\n color: var(--n-loading-color);\n transition: color .3s var(--n-bezier);\n ",[(0,y.N)({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),(0,p.cE)("checked, unchecked","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n box-sizing: border-box;\n position: absolute;\n white-space: nowrap;\n top: 0;\n bottom: 0;\n display: flex;\n align-items: center;\n line-height: 1;\n "),(0,p.cE)("checked","\n right: 0;\n padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n "),(0,p.cE)("unchecked","\n left: 0;\n justify-content: flex-end;\n padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n "),(0,p.c)("&:focus",[(0,p.cE)("rail","\n box-shadow: var(--n-box-shadow-focus);\n ")]),(0,p.cM)("round",[(0,p.cE)("rail","border-radius: calc(var(--n-rail-height) / 2);",[(0,p.cE)("button","border-radius: calc(var(--n-button-height) / 2);")])]),(0,p.C5)("disabled",[(0,p.C5)("icon",[(0,p.cM)("rubber-band",[(0,p.cM)("pressed",[(0,p.cE)("rail",[(0,p.cE)("button","max-width: var(--n-button-width-pressed);")])]),(0,p.cE)("rail",[(0,p.c)("&:active",[(0,p.cE)("button","max-width: var(--n-button-width-pressed);")])]),(0,p.cM)("active",[(0,p.cM)("pressed",[(0,p.cE)("rail",[(0,p.cE)("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),(0,p.cE)("rail",[(0,p.c)("&:active",[(0,p.cE)("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),(0,p.cM)("active",[(0,p.cE)("rail",[(0,p.cE)("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),(0,p.cE)("rail","\n overflow: hidden;\n height: var(--n-rail-height);\n min-width: var(--n-rail-width);\n border-radius: var(--n-rail-border-radius);\n cursor: pointer;\n position: relative;\n transition:\n opacity .3s var(--n-bezier),\n background .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-rail-color);\n ",[(0,p.cE)("button-icon","\n color: var(--n-icon-color);\n transition: color .3s var(--n-bezier);\n font-size: calc(var(--n-button-height) - 4px);\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n justify-content: center;\n align-items: center;\n line-height: 1;\n ",[(0,y.N)()]),(0,p.cE)("button",'\n align-items: center; \n top: var(--n-offset);\n left: var(--n-offset);\n height: var(--n-button-height);\n width: var(--n-button-width-pressed);\n max-width: var(--n-button-width);\n border-radius: var(--n-button-border-radius);\n background-color: var(--n-button-color);\n box-shadow: var(--n-button-box-shadow);\n box-sizing: border-box;\n cursor: inherit;\n content: "";\n position: absolute;\n transition:\n background-color .3s var(--n-bezier),\n left .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n max-width .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n ')]),(0,p.cM)("active",[(0,p.cE)("rail","background-color: var(--n-rail-color-active);")]),(0,p.cM)("loading",[(0,p.cE)("rail","\n cursor: wait;\n ")]),(0,p.cM)("disabled",[(0,p.cE)("rail","\n cursor: not-allowed;\n opacity: .5;\n ")])]),C=Object.assign(Object.assign({},d.A.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let x;const B=(0,r.pM)({name:"Switch",props:C,slots:Object,setup(e){void 0===x&&(x="undefined"==typeof CSS||void 0!==CSS.supports&&CSS.supports("width","max(1px)"));const{mergedClsPrefixRef:n,inlineThemeDisabled:t}=(0,c.Ay)(e),l=(0,d.A)("Switch","-switch",w,f,e,n),s=(0,u.A)(e),{mergedSizeRef:v,mergedDisabledRef:m}=s,g=(0,i.KR)(e.defaultValue),k=(0,i.lW)(e,"value"),y=(0,o.A)(k,g),C=(0,r.EW)((()=>y.value===e.checkedValue)),B=(0,i.KR)(!1),$=(0,i.KR)(!1),_=(0,r.EW)((()=>{const{railStyle:n}=e;if(n)return n({focused:$.value,checked:C.value})}));function R(n){const{"onUpdate:value":t,onChange:a,onUpdateValue:o}=e,{nTriggerFormInput:r,nTriggerFormChange:i}=s;t&&(0,b.T)(t,n),o&&(0,b.T)(o,n),a&&(0,b.T)(a,n),g.value=n,r(),i()}const E=(0,r.EW)((()=>{const{value:e}=v,{self:{opacityDisabled:n,railColor:t,railColorActive:o,buttonBoxShadow:r,buttonColor:i,boxShadowFocus:s,loadingColor:d,textColor:c,iconColor:u,[(0,p.cF)("buttonHeight",e)]:h,[(0,p.cF)("buttonWidth",e)]:b,[(0,p.cF)("buttonWidthPressed",e)]:m,[(0,p.cF)("railHeight",e)]:g,[(0,p.cF)("railWidth",e)]:k,[(0,p.cF)("railBorderRadius",e)]:f,[(0,p.cF)("buttonBorderRadius",e)]:y},common:{cubicBezierEaseInOut:w}}=l.value;let C,B,$;return x?(C=`calc((${g} - ${h}) / 2)`,B=`max(${g}, ${h})`,$=`max(${k}, calc(${k} + ${h} - ${g}))`):(C=(0,a.Cw)(((0,a.eV)(g)-(0,a.eV)(h))/2),B=(0,a.Cw)(Math.max((0,a.eV)(g),(0,a.eV)(h))),$=(0,a.eV)(g)>(0,a.eV)(h)?k:(0,a.Cw)((0,a.eV)(k)+(0,a.eV)(h)-(0,a.eV)(g))),{"--n-bezier":w,"--n-button-border-radius":y,"--n-button-box-shadow":r,"--n-button-color":i,"--n-button-width":b,"--n-button-width-pressed":m,"--n-button-height":h,"--n-height":B,"--n-offset":C,"--n-opacity-disabled":n,"--n-rail-border-radius":f,"--n-rail-color":t,"--n-rail-color-active":o,"--n-rail-height":g,"--n-rail-width":k,"--n-width":$,"--n-box-shadow-focus":s,"--n-loading-color":d,"--n-text-color":c,"--n-icon-color":u}})),S=t?(0,h.R)("switch",(0,r.EW)((()=>v.value[0])),E,e):void 0;return{handleClick:function(){e.loading||m.value||(y.value!==e.checkedValue?R(e.checkedValue):R(e.uncheckedValue))},handleBlur:function(){$.value=!1,function(){const{nTriggerFormBlur:e}=s;e()}(),B.value=!1},handleFocus:function(){$.value=!0,function(){const{nTriggerFormFocus:e}=s;e()}()},handleKeyup:function(n){e.loading||m.value||" "===n.key&&(y.value!==e.checkedValue?R(e.checkedValue):R(e.uncheckedValue),B.value=!1)},handleKeydown:function(n){e.loading||m.value||" "===n.key&&(n.preventDefault(),B.value=!0)},mergedRailStyle:_,pressed:B,mergedClsPrefix:n,mergedValue:y,checked:C,mergedDisabled:m,cssVars:t?void 0:E,themeClass:null==S?void 0:S.themeClass,onRender:null==S?void 0:S.onRender}},render(){const{mergedClsPrefix:e,mergedDisabled:n,checked:t,mergedRailStyle:a,onRender:o,$slots:i}=this;null==o||o();const{checked:d,unchecked:c,icon:u,"checked-icon":h,"unchecked-icon":b}=i,p=!((0,v.yr)(u)&&(0,v.yr)(h)&&(0,v.yr)(b));return(0,r.h)("div",{role:"switch","aria-checked":t,class:[`${e}-switch`,this.themeClass,p&&`${e}-switch--icon`,t&&`${e}-switch--active`,n&&`${e}-switch--disabled`,this.round&&`${e}-switch--round`,this.loading&&`${e}-switch--loading`,this.pressed&&`${e}-switch--pressed`,this.rubberBand&&`${e}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},(0,r.h)("div",{class:`${e}-switch__rail`,"aria-hidden":"true",style:a},(0,v.iQ)(d,(n=>(0,v.iQ)(c,(t=>n||t?(0,r.h)("div",{"aria-hidden":!0,class:`${e}-switch__children-placeholder`},(0,r.h)("div",{class:`${e}-switch__rail-placeholder`},(0,r.h)("div",{class:`${e}-switch__button-placeholder`}),n),(0,r.h)("div",{class:`${e}-switch__rail-placeholder`},(0,r.h)("div",{class:`${e}-switch__button-placeholder`}),t)):null)))),(0,r.h)("div",{class:`${e}-switch__button`},(0,v.iQ)(u,(n=>(0,v.iQ)(h,(t=>(0,v.iQ)(b,(a=>(0,r.h)(l.A,null,{default:()=>this.loading?(0,r.h)(s.A,{key:"loading",clsPrefix:e,strokeWidth:20}):this.checked&&(t||n)?(0,r.h)("div",{class:`${e}-switch__button-icon`,key:t?"checked-icon":"icon"},t||n):this.checked||!a&&!n?null:(0,r.h)("div",{class:`${e}-switch__button-icon`,key:a?"unchecked-icon":"icon"},a||n)}))))))),(0,v.iQ)(d,(n=>n&&(0,r.h)("div",{key:"checked",class:`${e}-switch__checked`},n))),(0,v.iQ)(c,(n=>n&&(0,r.h)("div",{key:"unchecked",class:`${e}-switch__unchecked`},n))))))}})},9526:(e,n,t)=>{t.r(n),t.d(n,{default:()=>y});var a=t(641),o=t(33);const r={class:"card"},i={class:"card-body"},l=["href"],s={class:"row"},d={class:"col-md-4"},c={class:"col-md-4"},u={class:"col-md-4"},h={class:"row submit-row"},b={class:"col-md-12"};var p=t(4991),v=t(3068),m=t(9639),g=t(3855),k=t(9581);const f={name:"KanbanEditBoard",setup:()=>({v$:(0,m.Ay)()}),components:{KanbanPropertyOrder:v.A,NSwitch:p.A},props:{isReadOnly:{type:Boolean,default:!1},columnResults:{type:Array,default:()=>[]},kanbanBoardResults:{type:Array,default:()=>[]},levelResults:{type:Array,default:()=>[]},locationId:{type:Number,default:0},rootUrl:{type:String,default:"/"},staticUrl:{type:String,default:"/"},theme:{type:String,default:""},userLevel:{type:Number,default:0}},data:()=>({canDragCards:!1,columnModel:[],levelModel:[]}),validations:{columnModel:{required:g.mw},levelModel:{required:g.mw}},methods:{useNBTheme:k.p,backToBoard(){window.location.href=`${this.rootUrl}kanban_information/${this.kanbanBoardResults[0].pk}/`},updateCanDragCards(e){this.$store.commit({type:"updateCanDragCards",canDragCards:e})},updatePropertyList(e){this[e.source]=e.data}},mounted(){this.$store.commit({type:"updateDestination",destination:"kanban_board",locationId:this.locationId}),this.$store.commit({type:"updateTitle",title:this.kanbanBoardResults[0].fields.kanban_board_name}),this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl,staticUrl:this.staticUrl}),this.$store.commit({type:"updateUserLevel",userLevel:this.userLevel}),this.columnModel=this.columnResults.map((e=>({id:e.pk,property:e.fields.kanban_column_property,title:e.fields.kanban_column_name}))),this.levelModel=this.levelResults.map((e=>({id:e.pk,property:"",title:e.fields.kanban_level_name}))),this.updateCanDragCards(!1)}},y=(0,t(6262).A)(f,[["render",function(e,n,t,p,v,m){const g=(0,a.g2)("n-switch"),k=(0,a.g2)("kanban-property-order"),f=(0,a.g2)("n-config-provider");return(0,a.uX)(),(0,a.Wv)(f,{theme:m.useNBTheme(t.theme)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",r,[(0,a.Lk)("div",i,[(0,a.Lk)("h1",null,(0,o.toDisplayString)(t.kanbanBoardResults[0].fields.kanban_board_name),1),(0,a.Lk)("a",{href:`${this.rootUrl}kanban_information/${this.kanbanBoardResults[0].pk}/`}," Go back to kanban board ",8,l),n[10]||(n[10]=(0,a.Lk)("hr",null,null,-1)),(0,a.Q3)(" Properties for the drag and drop coloumns/levels "),(0,a.Lk)("div",s,[(0,a.Lk)("div",d,[n[6]||(n[6]=(0,a.Lk)("h2",null,"Columns & Levels",-1)),n[7]||(n[7]=(0,a.Lk)("p",{class:"text-instructions"}," Drag the cards around to sort out the columns how you want them. ",-1)),n[8]||(n[8]=(0,a.Lk)("strong",null,"Rename Columns & Levels",-1)),n[9]||(n[9]=(0,a.Lk)("p",{class:"text-instructions"}," To rename any level or object, double click on the card. This will bring up the card's properties. ",-1)),(0,a.bF)(g,{value:v.canDragCards,"onUpdate:value":[n[0]||(n[0]=e=>v.canDragCards=e),m.updateCanDragCards]},{checked:(0,a.k6)((()=>n[4]||(n[4]=[(0,a.eW)(" Can Drag Cards ")]))),unchecked:(0,a.k6)((()=>n[5]||(n[5]=[(0,a.eW)(" Card Position Locked ")]))),_:1},8,["value","onUpdate:value"])]),(0,a.Lk)("div",c,[(0,a.bF)(k,{"is-read-only":t.isReadOnly,"property-list":v.columnModel,"is-dirty":p.v$.columnModel.$dirty,"is-new-mode":!1,"kanban-board-id":t.kanbanBoardResults[0].pk,"property-name":"Column",source:"columnModel",onUpdate_property_list:n[1]||(n[1]=e=>m.updatePropertyList(e))},null,8,["is-read-only","property-list","is-dirty","kanban-board-id"])]),(0,a.Lk)("div",u,[(0,a.bF)(k,{"is-read-only":t.isReadOnly,"property-list":v.levelModel,"is-dirty":p.v$.columnModel.$dirty,"is-new-mode":!1,"kanban-board-id":t.kanbanBoardResults[0].pk,"property-name":"Level",source:"levelModel",onUpdate_propety_list:n[2]||(n[2]=n=>e.udatePropertyList(n))},null,8,["is-read-only","property-list","is-dirty","kanban-board-id"])])]),(0,a.Q3)(" SAVE "),n[11]||(n[11]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",h,[(0,a.Lk)("div",b,[(0,a.Lk)("button",{class:"btn btn-primary save-changes",onClick:n[3]||(n[3]=(...e)=>m.backToBoard&&m.backToBoard(...e))}," Back to Kanban Board ")])])])])])),_:1},8,["theme"])}]])}}]);