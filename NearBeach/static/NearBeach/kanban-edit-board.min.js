"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[720],{9943:(e,n,t)=>{t.r(n),t.d(n,{default:()=>B});var a=t(641),o=t(33);const r={class:"card"},i={class:"card-body"},l=(0,a.Lk)("hr",null,null,-1),s={class:"row"},d={class:"col-md-4"},c=(0,a.Lk)("h2",null,"Columns & Levels",-1),u=(0,a.Lk)("p",{class:"text-instructions"}," Drag the cards around to sort out the columns how you want them. ",-1),h=(0,a.Lk)("strong",null,"Rename Columns & Levels",-1),b=(0,a.Lk)("p",{class:"text-instructions"}," To rename any level or object, double click on the card. This will bring up the card's properties. ",-1),p={class:"col-md-4"},v={class:"col-md-4"},g=(0,a.Lk)("hr",null,null,-1),m={class:"row submit-row"},y={class:"col-md-12"};var f=t(4991),k=t(5009),w=t(9639),C=t(3855),x=t(9827);const $={name:"KanbanEditBoard",setup:()=>({v$:(0,w.Ay)()}),components:{KanbanPropertyOrder:k.A,NSwitch:f.A},props:{isReadOnly:{type:Boolean,default:!1},columnResults:{type:Array,default:()=>[]},kanbanBoardResults:{type:Array,default:()=>[]},levelResults:{type:Array,default:()=>[]},locationId:{type:Number,default:0},rootUrl:{type:String,default:"/"},staticUrl:{type:String,default:"/"},theme:{type:String,default:""},userLevel:{type:Number,default:0}},mixins:[x.A],data:()=>({canDragCards:!1,columnModel:[],levelModel:[]}),validations:{columnModel:{required:C.mw},levelModel:{required:C.mw}},methods:{backToBoard(){window.location.href=`${this.rootUrl}kanban_information/${this.kanbanBoardResults[0].pk}/`},updateCanDragCards(e){this.$store.commit({type:"updateCanDragCards",canDragCards:e})},updatePropertyList(e){this[e.source]=e.data}},mounted(){this.$store.commit({type:"updateDestination",destination:"kanban_board",locationId:this.locationId}),this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl,staticUrl:this.staticUrl}),this.$store.commit({type:"updateUserLevel",userLevel:this.userLevel}),this.columnModel=this.columnResults.map((e=>({id:e.pk,property:e.fields.kanban_column_property,title:e.fields.kanban_column_name}))),this.levelModel=this.levelResults.map((e=>({id:e.pk,property:"",title:e.fields.kanban_level_name}))),this.updateCanDragCards(!1)}},B=(0,t(6262).A)($,[["render",function(e,n,t,f,k,w){const C=(0,a.g2)("n-switch"),x=(0,a.g2)("kanban-property-order"),$=(0,a.g2)("n-config-provider");return(0,a.uX)(),(0,a.Wv)($,{theme:e.getTheme(t.theme)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",r,[(0,a.Lk)("div",i,[(0,a.Lk)("h1",null,(0,o.toDisplayString)(t.kanbanBoardResults[0].fields.kanban_board_name),1),l,(0,a.Q3)(" Properties for the drag and drop coloumns/levels "),(0,a.Lk)("div",s,[(0,a.Lk)("div",d,[c,u,h,b,(0,a.bF)(C,{value:k.canDragCards,"onUpdate:value":[n[0]||(n[0]=e=>k.canDragCards=e),w.updateCanDragCards]},{checked:(0,a.k6)((()=>[(0,a.eW)(" Can Drag Cards ")])),unchecked:(0,a.k6)((()=>[(0,a.eW)(" Card Position Locked ")])),_:1},8,["value","onUpdate:value"])]),(0,a.Lk)("div",p,[(0,a.bF)(x,{"is-read-only":t.isReadOnly,"property-name":"Column","property-list":k.columnModel,source:"columnModel","is-dirty":f.v$.columnModel.$dirty,"is-new-mode":!1,"kanban-board-id":t.kanbanBoardResults[0].pk,onUpdate_property_list:n[1]||(n[1]=e=>w.updatePropertyList(e))},null,8,["is-read-only","property-list","is-dirty","kanban-board-id"])]),(0,a.Lk)("div",v,[(0,a.bF)(x,{"is-read-only":t.isReadOnly,"property-name":"Level","property-list":k.levelModel,source:"levelModel","is-dirty":f.v$.columnModel.$dirty,"is-new-mode":!1,"kanban-board-id":t.kanbanBoardResults[0].pk,onUpdate_property_list:n[2]||(n[2]=e=>w.updatePropertyList(e))},null,8,["is-read-only","property-list","is-dirty","kanban-board-id"])])]),(0,a.Q3)(" SAVE "),g,(0,a.Lk)("div",m,[(0,a.Lk)("div",y,[(0,a.Lk)("button",{class:"btn btn-primary save-changes",onClick:n[3]||(n[3]=(...e)=>w.backToBoard&&w.backToBoard(...e))}," Back to Kanban Board ")])])])])])),_:1},8,["theme"])}]])},4991:(e,n,t)=>{t.d(n,{A:()=>x});var a=t(641),o=t(953),r=t(4041),i=t(5562),l=t(9359),s=t(922),d=t(3370),c=t(4019),u=t(9819),h=t(2778),b=t(6680),p=t(7872),v=t(9521),g=t(4484),m=t(8090);const y={name:"Switch",common:t(8880).A,self:e=>{const{primaryColor:n,opacityDisabled:t,borderRadius:a,textColor3:o}=e;return Object.assign(Object.assign({},m.A),{iconColor:o,textColor:"white",loadingColor:n,opacityDisabled:t,railColor:"rgba(0, 0, 0, .14)",railColorActive:n,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:a,railBorderRadiusMedium:a,railBorderRadiusLarge:a,buttonBorderRadiusSmall:a,buttonBorderRadiusMedium:a,buttonBorderRadiusLarge:a,boxShadowFocus:`0 0 0 2px ${(0,g.QX)(n,{alpha:.2})}`})}};var f=t(8454);const k=(0,p.cB)("switch","\n height: var(--n-height);\n min-width: var(--n-width);\n vertical-align: middle;\n user-select: none;\n -webkit-user-select: none;\n display: inline-flex;\n outline: none;\n justify-content: center;\n align-items: center;\n",[(0,p.cE)("children-placeholder","\n height: var(--n-rail-height);\n display: flex;\n flex-direction: column;\n overflow: hidden;\n pointer-events: none;\n visibility: hidden;\n "),(0,p.cE)("rail-placeholder","\n display: flex;\n flex-wrap: none;\n "),(0,p.cE)("button-placeholder","\n width: calc(1.75 * var(--n-rail-height));\n height: var(--n-rail-height);\n "),(0,p.cB)("base-loading","\n position: absolute;\n top: 50%;\n left: 50%;\n transform: translateX(-50%) translateY(-50%);\n font-size: calc(var(--n-button-width) - 4px);\n color: var(--n-loading-color);\n transition: color .3s var(--n-bezier);\n ",[(0,f.N)({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),(0,p.cE)("checked, unchecked","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n box-sizing: border-box;\n position: absolute;\n white-space: nowrap;\n top: 0;\n bottom: 0;\n display: flex;\n align-items: center;\n line-height: 1;\n "),(0,p.cE)("checked","\n right: 0;\n padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n "),(0,p.cE)("unchecked","\n left: 0;\n justify-content: flex-end;\n padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n "),(0,p.c)("&:focus",[(0,p.cE)("rail","\n box-shadow: var(--n-box-shadow-focus);\n ")]),(0,p.cM)("round",[(0,p.cE)("rail","border-radius: calc(var(--n-rail-height) / 2);",[(0,p.cE)("button","border-radius: calc(var(--n-button-height) / 2);")])]),(0,p.C5)("disabled",[(0,p.C5)("icon",[(0,p.cM)("rubber-band",[(0,p.cM)("pressed",[(0,p.cE)("rail",[(0,p.cE)("button","max-width: var(--n-button-width-pressed);")])]),(0,p.cE)("rail",[(0,p.c)("&:active",[(0,p.cE)("button","max-width: var(--n-button-width-pressed);")])]),(0,p.cM)("active",[(0,p.cM)("pressed",[(0,p.cE)("rail",[(0,p.cE)("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),(0,p.cE)("rail",[(0,p.c)("&:active",[(0,p.cE)("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),(0,p.cM)("active",[(0,p.cE)("rail",[(0,p.cE)("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),(0,p.cE)("rail","\n overflow: hidden;\n height: var(--n-rail-height);\n min-width: var(--n-rail-width);\n border-radius: var(--n-rail-border-radius);\n cursor: pointer;\n position: relative;\n transition:\n opacity .3s var(--n-bezier),\n background .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-rail-color);\n ",[(0,p.cE)("button-icon","\n color: var(--n-icon-color);\n transition: color .3s var(--n-bezier);\n font-size: calc(var(--n-button-height) - 4px);\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n justify-content: center;\n align-items: center;\n line-height: 1;\n ",[(0,f.N)()]),(0,p.cE)("button",'\n align-items: center; \n top: var(--n-offset);\n left: var(--n-offset);\n height: var(--n-button-height);\n width: var(--n-button-width-pressed);\n max-width: var(--n-button-width);\n border-radius: var(--n-button-border-radius);\n background-color: var(--n-button-color);\n box-shadow: var(--n-button-box-shadow);\n box-sizing: border-box;\n cursor: inherit;\n content: "";\n position: absolute;\n transition:\n background-color .3s var(--n-bezier),\n left .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n max-width .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n ')]),(0,p.cM)("active",[(0,p.cE)("rail","background-color: var(--n-rail-color-active);")]),(0,p.cM)("loading",[(0,p.cE)("rail","\n cursor: wait;\n ")]),(0,p.cM)("disabled",[(0,p.cE)("rail","\n cursor: not-allowed;\n opacity: .5;\n ")])]),w=Object.assign(Object.assign({},l.A.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let C;const x=(0,a.pM)({name:"Switch",props:w,setup(e){void 0===C&&(C="undefined"==typeof CSS||void 0!==CSS.supports&&CSS.supports("width","max(1px)"));const{mergedClsPrefixRef:n,inlineThemeDisabled:t}=(0,s.Ay)(e),u=(0,l.A)("Switch","-switch",k,y,e,n),h=(0,d.A)(e),{mergedSizeRef:v,mergedDisabledRef:g}=h,m=(0,o.KR)(e.defaultValue),f=(0,o.lW)(e,"value"),w=(0,i.A)(f,m),x=(0,a.EW)((()=>w.value===e.checkedValue)),$=(0,o.KR)(!1),B=(0,o.KR)(!1),_=(0,a.EW)((()=>{const{railStyle:n}=e;if(n)return n({focused:B.value,checked:x.value})}));function R(n){const{"onUpdate:value":t,onChange:a,onUpdateValue:o}=e,{nTriggerFormInput:r,nTriggerFormChange:i}=h;t&&(0,b.T)(t,n),o&&(0,b.T)(o,n),a&&(0,b.T)(a,n),m.value=n,r(),i()}const E=(0,a.EW)((()=>{const{value:e}=v,{self:{opacityDisabled:n,railColor:t,railColorActive:a,buttonBoxShadow:o,buttonColor:i,boxShadowFocus:l,loadingColor:s,textColor:d,iconColor:c,[(0,p.cF)("buttonHeight",e)]:h,[(0,p.cF)("buttonWidth",e)]:b,[(0,p.cF)("buttonWidthPressed",e)]:g,[(0,p.cF)("railHeight",e)]:m,[(0,p.cF)("railWidth",e)]:y,[(0,p.cF)("railBorderRadius",e)]:f,[(0,p.cF)("buttonBorderRadius",e)]:k},common:{cubicBezierEaseInOut:w}}=u.value;let x,$,B;return C?(x=`calc((${m} - ${h}) / 2)`,$=`max(${m}, ${h})`,B=`max(${y}, calc(${y} + ${h} - ${m}))`):(x=(0,r.Cw)(((0,r.eV)(m)-(0,r.eV)(h))/2),$=(0,r.Cw)(Math.max((0,r.eV)(m),(0,r.eV)(h))),B=(0,r.eV)(m)>(0,r.eV)(h)?y:(0,r.Cw)((0,r.eV)(y)+(0,r.eV)(h)-(0,r.eV)(m))),{"--n-bezier":w,"--n-button-border-radius":k,"--n-button-box-shadow":o,"--n-button-color":i,"--n-button-width":b,"--n-button-width-pressed":g,"--n-button-height":h,"--n-height":$,"--n-offset":x,"--n-opacity-disabled":n,"--n-rail-border-radius":f,"--n-rail-color":t,"--n-rail-color-active":a,"--n-rail-height":m,"--n-rail-width":y,"--n-width":B,"--n-box-shadow-focus":l,"--n-loading-color":s,"--n-text-color":d,"--n-icon-color":c}})),S=t?(0,c.R)("switch",(0,a.EW)((()=>v.value[0])),E,e):void 0;return{handleClick:function(){e.loading||g.value||(w.value!==e.checkedValue?R(e.checkedValue):R(e.uncheckedValue))},handleBlur:function(){B.value=!1,function(){const{nTriggerFormBlur:e}=h;e()}(),$.value=!1},handleFocus:function(){B.value=!0,function(){const{nTriggerFormFocus:e}=h;e()}()},handleKeyup:function(n){e.loading||g.value||" "===n.key&&(w.value!==e.checkedValue?R(e.checkedValue):R(e.uncheckedValue),$.value=!1)},handleKeydown:function(n){e.loading||g.value||" "===n.key&&(n.preventDefault(),$.value=!0)},mergedRailStyle:_,pressed:$,mergedClsPrefix:n,mergedValue:w,checked:x,mergedDisabled:g,cssVars:t?void 0:E,themeClass:null==S?void 0:S.themeClass,onRender:null==S?void 0:S.onRender}},render(){const{mergedClsPrefix:e,mergedDisabled:n,checked:t,mergedRailStyle:o,onRender:r,$slots:i}=this;null==r||r();const{checked:l,unchecked:s,icon:d,"checked-icon":c,"unchecked-icon":b}=i,p=!((0,v.yr)(d)&&(0,v.yr)(c)&&(0,v.yr)(b));return(0,a.h)("div",{role:"switch","aria-checked":t,class:[`${e}-switch`,this.themeClass,p&&`${e}-switch--icon`,t&&`${e}-switch--active`,n&&`${e}-switch--disabled`,this.round&&`${e}-switch--round`,this.loading&&`${e}-switch--loading`,this.pressed&&`${e}-switch--pressed`,this.rubberBand&&`${e}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},(0,a.h)("div",{class:`${e}-switch__rail`,"aria-hidden":"true",style:o},(0,v.iQ)(l,(n=>(0,v.iQ)(s,(t=>n||t?(0,a.h)("div",{"aria-hidden":!0,class:`${e}-switch__children-placeholder`},(0,a.h)("div",{class:`${e}-switch__rail-placeholder`},(0,a.h)("div",{class:`${e}-switch__button-placeholder`}),n),(0,a.h)("div",{class:`${e}-switch__rail-placeholder`},(0,a.h)("div",{class:`${e}-switch__button-placeholder`}),t)):null)))),(0,a.h)("div",{class:`${e}-switch__button`},(0,v.iQ)(d,(n=>(0,v.iQ)(c,(t=>(0,v.iQ)(b,(o=>(0,a.h)(u.A,null,{default:()=>this.loading?(0,a.h)(h.A,{key:"loading",clsPrefix:e,strokeWidth:20}):this.checked&&(t||n)?(0,a.h)("div",{class:`${e}-switch__button-icon`,key:t?"checked-icon":"icon"},t||n):this.checked||!o&&!n?null:(0,a.h)("div",{class:`${e}-switch__button-icon`,key:o?"unchecked-icon":"icon"},o||n)}))))))),(0,v.iQ)(l,(n=>n&&(0,a.h)("div",{key:"checked",class:`${e}-switch__checked`},n))),(0,v.iQ)(s,(n=>n&&(0,a.h)("div",{key:"unchecked",class:`${e}-switch__unchecked`},n))))))}})}}]);