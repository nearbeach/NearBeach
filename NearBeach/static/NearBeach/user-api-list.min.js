"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[2598],{246:(e,o,r)=>{r.d(o,{y:()=>a});var i=r(6285),t=r(953);function a(e){const o=(0,t.BA)(e);return""===o||null==o?"":i.c9.fromISO(o).toLocaleString(i.c9.DATETIME_MED)}},707:(e,o,r)=>{r.d(o,{A:()=>d,b:()=>s});var i=r(9359),t=r(8880),a=r(1841),l=r(435);const n={height:"calc(var(--n-option-height) * 7.6)",paddingTiny:"4px 0",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingTiny:"0 12px",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"};function s(e){const{borderRadius:o,popoverColor:r,textColor3:i,dividerColor:t,textColor2:a,primaryColorPressed:l,textColorDisabled:s,primaryColor:d,opacityDisabled:p,hoverColor:c,fontSizeTiny:u,fontSizeSmall:h,fontSizeMedium:g,fontSizeLarge:x,fontSizeHuge:y,heightTiny:b,heightSmall:m,heightMedium:C,heightLarge:S,heightHuge:v}=e;return Object.assign(Object.assign({},n),{optionFontSizeTiny:u,optionFontSizeSmall:h,optionFontSizeMedium:g,optionFontSizeLarge:x,optionFontSizeHuge:y,optionHeightTiny:b,optionHeightSmall:m,optionHeightMedium:C,optionHeightLarge:S,optionHeightHuge:v,borderRadius:o,color:r,groupHeaderTextColor:i,actionDividerColor:t,optionTextColor:a,optionTextColorPressed:l,optionTextColorDisabled:s,optionTextColorActive:d,optionOpacityDisabled:p,optionCheckColor:d,optionColorPending:c,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:c,actionTextColor:a,loadingColor:d})}const d=(0,i.a)({name:"InternalSelectMenu",common:t.A,peers:{Scrollbar:l.A,Empty:a.A},self:s})},1841:(e,o,r)=>{r.d(o,{A:()=>l,b:()=>a});var i=r(8880);const t={iconSizeTiny:"28px",iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"};function a(e){const{textColorDisabled:o,iconColor:r,textColor2:i,fontSizeTiny:a,fontSizeSmall:l,fontSizeMedium:n,fontSizeLarge:s,fontSizeHuge:d}=e;return Object.assign(Object.assign({},t),{fontSizeTiny:a,fontSizeSmall:l,fontSizeMedium:n,fontSizeLarge:s,fontSizeHuge:d,textColor:o,iconColor:r,extraTextColor:i})}const l={name:"Empty",common:i.A,self:a}},2414:(e,o,r)=>{r.d(o,{A:()=>s,b:()=>n});var i=r(707),t=r(5991),a=r(9359),l=r(8880);function n(e){const{boxShadow2:o}=e;return{menuBoxShadow:o}}const s=(0,a.a)({name:"Select",common:l.A,peers:{InternalSelection:t.A,InternalSelectMenu:i.A},self:n})},2719:(e,o,r)=>{r.d(o,{A:()=>i});const i={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"}},5991:(e,o,r)=>{r.d(o,{A:()=>s});var i=r(4484),t=r(9359),a=r(8880),l=r(7765),n=r(2719);const s=(0,t.a)({name:"InternalSelection",common:a.A,peers:{Popover:l.A},self:function(e){const{borderRadius:o,textColor2:r,textColorDisabled:t,inputColor:a,inputColorDisabled:l,primaryColor:s,primaryColorHover:d,warningColor:p,warningColorHover:c,errorColor:u,errorColorHover:h,borderColor:g,iconColor:x,iconColorDisabled:y,clearColor:b,clearColorHover:m,clearColorPressed:C,placeholderColor:S,placeholderColorDisabled:v,fontSizeTiny:k,fontSizeSmall:A,fontSizeMedium:L,fontSizeLarge:f,heightTiny:z,heightSmall:w,heightMedium:M,heightLarge:K,fontWeight:E}=e;return Object.assign(Object.assign({},n.A),{fontSizeTiny:k,fontSizeSmall:A,fontSizeMedium:L,fontSizeLarge:f,heightTiny:z,heightSmall:w,heightMedium:M,heightLarge:K,borderRadius:o,fontWeight:E,textColor:r,textColorDisabled:t,placeholderColor:S,placeholderColorDisabled:v,color:a,colorDisabled:l,colorActive:a,border:`1px solid ${g}`,borderHover:`1px solid ${d}`,borderActive:`1px solid ${s}`,borderFocus:`1px solid ${d}`,boxShadowHover:"none",boxShadowActive:`0 0 0 2px ${(0,i.QX)(s,{alpha:.2})}`,boxShadowFocus:`0 0 0 2px ${(0,i.QX)(s,{alpha:.2})}`,caretColor:s,arrowColor:x,arrowColorDisabled:y,loadingColor:s,borderWarning:`1px solid ${p}`,borderHoverWarning:`1px solid ${c}`,borderActiveWarning:`1px solid ${p}`,borderFocusWarning:`1px solid ${c}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 0 2px ${(0,i.QX)(p,{alpha:.2})}`,boxShadowFocusWarning:`0 0 0 2px ${(0,i.QX)(p,{alpha:.2})}`,colorActiveWarning:a,caretColorWarning:p,borderError:`1px solid ${u}`,borderHoverError:`1px solid ${h}`,borderActiveError:`1px solid ${u}`,borderFocusError:`1px solid ${h}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 0 2px ${(0,i.QX)(u,{alpha:.2})}`,boxShadowFocusError:`0 0 0 2px ${(0,i.QX)(u,{alpha:.2})}`,colorActiveError:a,caretColorError:u,clearColor:b,clearColorHover:m,clearColorPressed:C})}})},7192:(e,o,r)=>{r.r(o),r.d(o,{default:()=>D});var i=r(641),t=r(33),a=r(3751);const l={class:"card"},n={class:"card-body"},s={class:"row"},d={class:"col-md-8"},p={key:0,class:"alert alert-info"},c={key:1},u={class:"table"},h={class:"remove-link"},g={class:"row"},x={class:"col-md-12"},y={class:"modal fade",id:"createUserApiKeyModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},b={class:"modal-dialog modal-lg"},m={class:"modal-content"},C={class:"modal-body"},S={class:"row"},v={class:"col-md-8"},k={class:"form-group"},A={class:"form-group"},L={class:"modal-footer"};var f=r(9336),z=r(1080),w=r(2124),M=r(3980),K=r(246);const E={name:"UserApiList",props:{username:{type:Number,default:0}},components:{CarbonTrashCan:M.dA,Modal:f.aF,NSelect:z.A},data:()=>({apiDescription:"",apiExpiryModel:"30",expiryOptions:[{label:"30 Days",value:30},{label:"60 Days",value:60},{label:"90 Days",value:90},{label:"180 Days",value:180},{label:"365 Days",value:365},{label:"Never",value:"never"}],userApiKeyList:[]}),computed:{...(0,w.L8)({rootUrl:"getRootUrl"})},methods:{useNiceDatetime:K.y,createUserApiKey(){const e=new FormData;e.append("description",this.apiDescription),"never"!==this.apiExpiryModel&&null!==this.apiExpiryModel&&""!==this.apiExpiryModel&&e.append("expires_in",this.apiExpiryModel),this.axios.post(`${this.rootUrl}api/v0/user/${this.username}/api_key/`,e).then((e=>{this.userApiKeyList.push(e.data),document.getElementById("createUserApiKeyModalCloseButton").click()})).catch((e=>{this.$store.dispatch("newToast",{header:"Error creating API Key",message:`Sorry, we could not create the API Key. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},deleteUserApiKey(e){this.axios.delete(`${this.rootUrl}api/v0/user/${this.username}/api_key/${e}/`).then((()=>{this.userApiKeyList=this.userApiKeyList.filter((o=>o.pk!==e))})).catch((e=>{this.$store.dispatch("newToast",{header:"Error deleting API Key",message:`Sorry, we could not delete the API Key. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},getRowClass(e){if(null===e||""===e)return"";const o=new Date(e),r=new Date;return o.getTime()-r.getTime()<=864e5?"table-danger":""},getUserApiKeys(){this.axios.get(`${this.rootUrl}api/v0/user/${this.username}/api_key/`).then((e=>{this.userApiKeyList=e.data})).catch((e=>{this.$store.dispatch("newToast",{header:"Error getting API Keys",message:`Sorry, we could not get the API Keys. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},openCreateUserApiKeyModal(){new f.aF(document.getElementById("createUserApiKeyModal")).show()}},mounted(){this.getUserApiKeys()}},D=(0,r(6262).A)(E,[["render",function(e,o,r,f,z,w){const M=(0,i.g2)("carbon-trash-can"),K=(0,i.g2)("n-select");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",l,[(0,i.Lk)("div",n,[o[6]||(o[6]=(0,i.Lk)("h2",null,"User API Keys",-1)),o[7]||(o[7]=(0,i.Lk)("hr",null,null,-1)),(0,i.Lk)("div",s,[o[5]||(o[5]=(0,i.Lk)("div",{class:"col-md-4"},[(0,i.Lk)("strong",null,"User API Keys"),(0,i.Lk)("p",{class:"text-instructions"}," The following list is a list of all API keys for this user. You can delete or create any new keys ")],-1)),(0,i.Lk)("div",d,[0===z.userApiKeyList.length?((0,i.uX)(),(0,i.CE)("div",p," Currently there are no API keys for this user. ")):((0,i.uX)(),(0,i.CE)("div",c,[(0,i.Lk)("table",u,[o[4]||(o[4]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("td",null,"Token"),(0,i.Lk)("td",null,"Description"),(0,i.Lk)("td",null,"Expiry"),(0,i.Lk)("td")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(z.userApiKeyList,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.pk,class:(0,t.normalizeClass)(w.getRowClass(e.expiry))},[(0,i.Lk)("td",null,(0,t.toDisplayString)(e.api_key),1),(0,i.Lk)("td",null,(0,t.toDisplayString)(e.description),1),(0,i.Lk)("td",null,(0,t.toDisplayString)(w.useNiceDatetime(e.expiry)),1),(0,i.Lk)("td",null,[(0,i.Lk)("span",h,[(0,i.bF)(M,{onClick:o=>w.deleteUserApiKey(e.pk)},null,8,["onClick"])])])],2)))),128))])])]))])]),o[8]||(o[8]=(0,i.Lk)("hr",null,null,-1)),(0,i.Lk)("div",g,[(0,i.Lk)("div",x,[(0,i.Lk)("button",{class:"btn btn-primary save-changes",onClick:o[0]||(o[0]=(...e)=>w.openCreateUserApiKeyModal&&w.openCreateUserApiKeyModal(...e))}," Create API Key ")])])])]),(0,i.Lk)("div",y,[(0,i.Lk)("div",b,[(0,i.Lk)("div",m,[o[13]||(o[13]=(0,i.Lk)("div",{class:"modal-header"},[(0,i.Lk)("h2",null," Create API Key Wizard "),(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"createUserApiKeyModalCloseButton"},[(0,i.Lk)("span",{"aria-hidden":"true"})])],-1)),(0,i.Lk)("div",C,[(0,i.Lk)("div",S,[o[11]||(o[11]=(0,i.Lk)("div",{class:"col-md-4"},[(0,i.Lk)("strong",null,"Create User API Key"),(0,i.Lk)("p",{class:"text-instructions"}," Please fill out the description for the API Key. This will help you diffientiate where the key will be utilised. "),(0,i.Lk)("p",{class:"text-instructions"}," Please specify if the API Key will expire. ")],-1)),(0,i.Lk)("div",v,[(0,i.Lk)("div",k,[o[9]||(o[9]=(0,i.Lk)("label",{for:"api_description"}," API Description ",-1)),(0,i.bo)((0,i.Lk)("input",{id:"api_description","onUpdate:modelValue":o[1]||(o[1]=e=>z.apiDescription=e),type:"text",class:"form-control"},null,512),[[a.vModelText,z.apiDescription]])]),(0,i.Lk)("div",A,[o[10]||(o[10]=(0,i.Lk)("label",{for:"api_expiry"},"Expiry",-1)),(0,i.bF)(K,{value:z.apiExpiryModel,"onUpdate:value":o[2]||(o[2]=e=>z.apiExpiryModel=e),options:z.expiryOptions},null,8,["value","options"])])])])]),(0,i.Lk)("div",L,[o[12]||(o[12]=(0,i.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1)),(0,i.Lk)("button",{type:"button",class:"btn btn-primary",onClick:o[3]||(o[3]=(...e)=>w.createUserApiKey&&w.createUserApiKey(...e))}," Create API Key ")])])])])],64)}]])},7765:(e,o,r)=>{r.d(o,{A:()=>l,b:()=>a});var i=r(8880);const t={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"};function a(e){const{boxShadow2:o,popoverColor:r,textColor2:i,borderRadius:a,fontSize:l,dividerColor:n}=e;return Object.assign(Object.assign({},t),{fontSize:l,borderRadius:a,color:r,dividerColor:n,textColor:i,boxShadow:o})}const l={name:"Popover",common:i.A,self:a}},9166:(e,o,r)=>{r.d(o,{A:()=>i});const i={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px"}}}]);