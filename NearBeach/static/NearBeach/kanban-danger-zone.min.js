"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[2301],{3948:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(641);const o={class:"card text-bg-warning"},l={class:"card-body"},s={key:0,class:"row"},i={class:"col-md-8"},d={key:1,class:"row"},r={class:"col-md-8"},c={class:"row"},b={class:"col-md-8"};var u=n(9336),m=n(9581);const k={name:"KanbanDangerZone",components:{ConfirmDeleteObject:n(4463).A},props:{kanbanBoardStatus:{type:String,default:""},theme:{type:String,default:""}},methods:{useNBTheme:m.p,closeKanban(){new u.aF("#confirmKanbanBoardClosure").show()},deleteKanban(){new u.aF("#confirmDeleteObjectModal").show()},reopenKanban(){new u.aF("#confirmKanbanBoardReopen").show()}}},h=(0,n(6262).A)(k,[["render",function(e,t,n,u,m,k){const h=(0,a.g2)("confirm-delete-object"),p=(0,a.g2)("n-config-provider");return(0,a.uX)(),(0,a.Wv)(p,{theme:k.useNBTheme(n.theme)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",o,[(0,a.Lk)("div",l,[t[6]||(t[6]=(0,a.Lk)("h1",null,"DANGER ZONE",-1)),t[7]||(t[7]=(0,a.Lk)("hr",null,null,-1)),"Closed"===n.kanbanBoardStatus?((0,a.uX)(),(0,a.CE)("div",s,[t[3]||(t[3]=(0,a.Lk)("div",{class:"col-md-4"},[(0,a.Lk)("h2",null,"Reopen Kanban Board"),(0,a.Lk)("p",null," WARNING - this will reopen the kanban board for everyone to access it. ")],-1)),(0,a.Lk)("div",i,[(0,a.Lk)("button",{class:"btn btn-success",onClick:t[0]||(t[0]=(...e)=>k.reopenKanban&&k.reopenKanban(...e))}," Reopen Kanban Board ")])])):((0,a.uX)(),(0,a.CE)("div",d,[t[4]||(t[4]=(0,a.Lk)("div",{class:"col-md-4"},[(0,a.Lk)("h2",null,"Close Kanban Board"),(0,a.Lk)("p",null," WARNING - this will close the kanban board, you will not be able to make any more edits. ")],-1)),(0,a.Lk)("div",r,[(0,a.Lk)("button",{class:"btn btn-danger",onClick:t[1]||(t[1]=(...e)=>k.closeKanban&&k.closeKanban(...e))}," Close Kanban Board ")])])),t[8]||(t[8]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",c,[t[5]||(t[5]=(0,a.Lk)("div",{class:"col-md-4"},[(0,a.Lk)("h2",null,"DELETE Kanban Board"),(0,a.Lk)("p",null," WARNING - this will DELETE the kanban board, this can not be reverted! ")],-1)),(0,a.Lk)("div",b,[(0,a.Lk)("button",{class:"btn btn-danger",onClick:t[2]||(t[2]=(...e)=>k.deleteKanban&&k.deleteKanban(...e))}," Delete Kanban Board! ")])])])]),(0,a.bF)(h)])),_:1},8,["theme"])}]])},4463:(e,t,n)=>{n.d(t,{A:()=>f});var a=n(641),o=n(33),l=n(3751);const s={class:"modal fade",id:"confirmDeleteObjectModal",tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"confirmDeleteObject","aria-hidden":"true"},i={class:"modal-dialog modal-lg"},d={class:"modal-content"},r={class:"modal-header"},c={class:"modal-title",id:"confirmDeleteObject"},b={class:"modal-body"},u={class:"mt-2"},m={class:"form-group mt-2"},k={class:"modal-footer justify-content-between"},h=["disabled"],p={name:"ConfirmDeleteObject",data:()=>({confirmTitle:"",isButtonDisabled:!0}),computed:{...(0,n(2124).L8)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl",title:"getTitle"})},watch:{confirmTitle(){this.isButtonDisabled=this.confirmTitle.toLowerCase()!==this.title.toLowerCase()}},methods:{closeModal(){this.confirmTitle="",document.getElementById("confirmDeleteObjectButton").click()},deleteObject(){this.$store.dispatch("newToast",{header:"Deleting Object",message:"Deleting Object, please wait",extra_classes:"bg-warning",delay:0,unique_type:"delete_object"}),this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/delete/`).then((()=>{window.location.href=this.rootUrl})).catch((e=>{this.$store.dispatch("newToast",{header:"Error deleting Object",message:`Could not delete the ${this.destination}. Error -> ${e}`,extra_classes:"bg-danger",delay:0,unique_type:"delete_object"})}))}}},f=(0,n(6262).A)(p,[["render",function(e,t,n,p,f,L){return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",i,[(0,a.Lk)("div",d,[(0,a.Lk)("div",r,[(0,a.Lk)("h5",c," Please confirm "+(0,o.toDisplayString)(e.destination)+" deletion ",1),(0,a.Q3)(" TASK INFORMATION "),t[3]||(t[3]=(0,a.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"confirmDeleteObjectButton"},null,-1))]),(0,a.Lk)("div",b,[(0,a.eW)(" Can you please confirm the title of the "+(0,o.toDisplayString)(e.destination)+" you are deleting. ",1),t[6]||(t[6]=(0,a.Lk)("br",null,null,-1)),(0,a.Lk)("div",u,[t[4]||(t[4]=(0,a.Lk)("strong",null,"Title: ",-1)),(0,a.eW)((0,o.toDisplayString)(e.title),1)]),(0,a.Lk)("div",m,[t[5]||(t[5]=(0,a.Lk)("label",null,"Confirm Title: ",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>f.confirmTitle=e),class:"form-control",onpaste:"return false",ondrop:"return false",autocomplete:"off"},null,512),[[l.vModelText,f.confirmTitle]])])]),(0,a.Lk)("div",k,[(0,a.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>L.closeModal&&L.closeModal(...e))}," No - Keep "+(0,o.toDisplayString)(e.destination),1),(0,a.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t[2]||(t[2]=(...e)=>L.deleteObject&&L.deleteObject(...e)),disabled:f.isButtonDisabled}," Yes - Delete "+(0,o.toDisplayString)(e.destination),9,h)])])])])}]])},9581:(e,t,n)=>{n.d(t,{p:()=>l});var a=n(953),o=n(166);function l(e){return"dark"===(0,a.BA)(e)?o.a:null}}}]);