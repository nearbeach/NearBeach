"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[1373],{246:(t,e,a)=>{a.d(e,{y:()=>r});var s=a(6285),i=a(953);function r(t){const e=(0,i.BA)(t);return""===e||null==e?"":s.c9.fromISO(e).toLocaleString(s.c9.DATETIME_MED)}},3781:(t,e,a)=>{function s(t,e){return 0===e?[]:e<=7?Array.from({length:e},((t,e)=>({destinationPage:e+1,text:`${e+1}`}))):t<=4?[{destinationPage:1,text:"1"},{destinationPage:2,text:"2"},{destinationPage:3,text:"3"},{destinationPage:4,text:"4"},{destinationPage:5,text:"5"},{destinationPage:6,text:">"},{destinationPage:e,text:">>"}]:t>e-4?[{destinationPage:1,text:"<<"},{destinationPage:e-5,text:"<"},{destinationPage:e-4,text:""+(e-4)},{destinationPage:e-3,text:""+(e-3)},{destinationPage:e-2,text:""+(e-2)},{destinationPage:e-1,text:""+(e-1)},{destinationPage:e,text:`${e}`}]:[{destinationPage:1,text:"<<"},{destinationPage:t-2,text:"<"},{destinationPage:t-1,text:""+(t-1)},{destinationPage:t,text:`${t}`},{destinationPage:t+1,text:`${t+1}`},{destinationPage:t+2,text:">"},{destinationPage:e,text:">>"}]}a.d(e,{k:()=>s})},6262:(t,e)=>{e.A=(t,e)=>{const a=t.__vccOpts||t;for(const[t,s]of e)a[t]=s;return a}},7423:(t,e,a)=>{a.d(e,{A:()=>P});var s=a(641),i=a(33);const r={class:"object-card-list"},n={key:0},l={class:"object-card--detail"},o=["href","target"],c={class:"object-card--detail--link"},d={class:"object-card--detail--description"},g={class:"object-card--status"},u=["href","target"],p={class:"object-card--status--status"},h={class:"small-text"},f={key:2,class:"object-card"};var b=a(2124);const m={name:"RenderObjectCard",methods:{useNiceDatetime:a(246).y,tempTranslate:t=>"kanban_board"===t?"kanban":t},props:{destination:{type:String,default:""},importVariables:{type:Object,default:()=>({header:"",prefix:"",id:0,title:"",status:""})},searchResults:{type:Array,default:()=>[]},target:{type:String,default:""}},computed:{...(0,b.L8)({rootUrl:"getRootUrl"})}},P=(0,a(6262).A)(m,[["render",function(t,e,a,b,m,P){return(0,s.uX)(),(0,s.CE)("div",r,[""!==a.importVariables.header?((0,s.uX)(),(0,s.CE)("h2",n,(0,i.toDisplayString)(a.importVariables.header),1)):(0,s.Q3)("v-if",!0),a.searchResults.length>0?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(a.searchResults,(e=>((0,s.uX)(),(0,s.CE)("div",{class:"object-card",key:e.pk},[(0,s.Lk)("div",l,[(0,s.Lk)("a",{href:`${t.rootUrl}${P.tempTranslate(a.destination)}_information/${e[a.importVariables.id]}/`,target:a.target},[(0,s.Lk)("div",c,(0,i.toDisplayString)(a.importVariables.prefix)+(0,i.toDisplayString)(e[a.importVariables.id]),1),(0,s.Lk)("div",d,(0,i.toDisplayString)(e[a.importVariables.title]),1)],8,o)]),(0,s.Lk)("div",g,[(0,s.Lk)("a",{href:`${t.rootUrl}${a.destination}_information/${e[a.importVariables.id]}/`,target:a.target},[(0,s.Lk)("div",p,(0,i.toDisplayString)(e[a.importVariables.status]),1),(0,s.Lk)("p",h,(0,i.toDisplayString)(P.useNiceDatetime(e[a.importVariables.end_date])),1)],8,u)])])))),128)):(0,s.Q3)("v-if",!0),(0,s.Q3)(" Loading state "),0===a.searchResults.length?((0,s.uX)(),(0,s.CE)("div",f,e[0]||(e[0]=[(0,s.Fv)('<div class="object-card--detail"><p class="card-text placeholder-glow"><span class="placeholder col-1"></span><span class="placeholder col-12"></span></p></div><div class="object-card--status"></div>',2)]))):(0,s.Q3)("v-if",!0)])}]])},9258:(t,e,a)=>{a.r(e),a.d(e,{default:()=>f});var s=a(641),i=a(33);const r={class:"card-header"},n={class:"card-body"},l={class:"card-footer"},o=["aria-label"],c={class:"pagination justify-content-center m-0"},d=["onClick"],g={key:1,class:"page-link"};var u=a(7423),p=a(3781);const h={name:"ListSearchResults",components:{RenderObjectCard:u.A},emits:["get_search_results"],props:{currentPage:{type:Number,default:0},destination:{type:String,default:""},importVariables:{type:Object,default:()=>({header:"",prefix:"",id:0,title:"",status:""})},numberOfPages:{type:Number,default:0},searchResults:{type:Array,default:()=>[]}},watch:{searchResults:{handler(t){this.localSearchResults=t,this.cardClass="",this.setOfPages=(0,p.k)(this.currentPage,this.numberOfPages)},deep:!0}},data(){return{cardClass:"",localSearchResults:this.searchResults,setOfPages:[]}},methods:{getSetOfPages:p.k,changePage(t){this.cardClass=`height: ${this.$refs.searchCard.offsetHeight}px`,this.localSearchResults=[];const e="rfc"===this.destination?"request_for_change":this.destination;this.$emit("get_search_results",{array_of_objects:[e],destination_page:t}),this.setOfPages=this.getSetOfPages(t,this.numberOfPages)},getClasses(t){return parseInt(t)===this.currentPage?"page-item active":"page-item"}},mounted(){this.setOfPages=(0,p.k)(1,this.numberOfPages)}},f=(0,a(6262).A)(h,[["render",function(t,e,a,u,p,h){const f=(0,s.g2)("render-object-card");return(0,s.uX)(),(0,s.CE)("div",{class:"card search-card",style:(0,i.normalizeStyle)(p.cardClass),ref:"searchCard"},[(0,s.Lk)("div",r,[(0,s.Lk)("h2",null,(0,i.toDisplayString)(a.importVariables.header)+" Search Results",1)]),(0,s.Lk)("div",n,[(0,s.bF)(f,{"search-results":p.localSearchResults,"import-variables":a.importVariables,destination:a.destination},null,8,["search-results","import-variables","destination"])]),(0,s.Lk)("div",l,[p.setOfPages.length>1?((0,s.uX)(),(0,s.CE)("nav",{key:0,"aria-label":`Pagination for ${a.importVariables.header}`},[(0,s.Lk)("ul",c,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(p.setOfPages,(t=>((0,s.uX)(),(0,s.CE)("li",{key:t.destinationPage,class:(0,i.normalizeClass)(h.getClasses(t.destinationPage))},[parseInt(t.destinationPage)!==parseInt(a.currentPage)?((0,s.uX)(),(0,s.CE)("a",{key:0,class:"page-link",href:"javascript:void(0)",onClick:e=>h.changePage(t.destinationPage)},(0,i.toDisplayString)(t.text),9,d)):((0,s.uX)(),(0,s.CE)("span",g,(0,i.toDisplayString)(t.text),1))],2)))),128))])],8,o)):(0,s.Q3)("v-if",!0)])],4)}]])}}]);