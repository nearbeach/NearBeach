"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[1381],{6262:(e,s)=>{s.A=(e,s)=>{const l=e.__vccOpts||e;for(const[e,r]of s)l[e]=r;return l}},9688:(e,s,l)=>{l.r(s),l.d(s,{default:()=>x});var r=l(641),a=l(3751);const o={class:"card"},t={class:"card-body"},d={class:"row"},n={class:"col-md-8"},i={class:"row"},u={class:"col-md-8"},c={class:"row"},m={class:"col-md-6"},p={class:"col-md-6"},w={class:"col-md-6"},k={class:"row"},L={class:"col-md-8"},v={class:"row"},M={class:"col-md-6"},h={class:"col-md-6"},b={class:"row submit-row"},f={class:"col-md-12"};var $=l(9639),y=l(3855),U=l(404);const g=y._$.regex(/^[0-9a-zA-Z,_@+.-]{1,150}$/),N={name:"NewUser",setup:()=>({v$:(0,$.Ay)()}),components:{ValidationRendering:U.A},props:{rootUrl:{type:String,default:"/"}},data:()=>({emailModel:"",firstNameModel:"",lastNameModel:"",password1Model:"",password2Model:"",usernameModel:""}),validations:{emailModel:{required:y.mw,email:y.Rp},firstNameModel:{required:y.mw},lastNameModel:{required:y.mw},password1Model:{required:y.mw},password2Model:{required:y.mw},usernameModel:{required:y.mw,usernameRegex:y._$.withMessage("Required. 150 characters or fewer. Usernames may contain alphanumeric, _, @, +, . and - characters.",g)}},methods:{async addUser(){if(!await this.v$.$validate())return;const e=new FormData;e.set("username",this.usernameModel),e.set("email",this.emailModel),e.set("first_name",this.firstNameModel),e.set("last_name",this.lastNameModel),e.set("password1",this.password1Model),e.set("password2",this.password2Model),this.axios.post(`${this.rootUrl}new_user/save/`,e).then((e=>{window.location.href=e.data})).catch((e=>{this.$store.dispatch("newToast",{header:"Failed to create user",message:`Sorry. Failed to create user. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))}}},x=(0,l(6262).A)(N,[["render",function(e,s,l,$,y,U){const g=(0,r.g2)("validation-rendering");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("div",t,[s[16]||(s[16]=(0,r.Lk)("h1",null,"New User",-1)),s[17]||(s[17]=(0,r.Lk)("hr",null,null,-1)),(0,r.Q3)(" Username "),(0,r.Lk)("div",d,[s[8]||(s[8]=(0,r.Lk)("div",{class:"col-md-4"},[(0,r.Lk)("strong",null,"New User"),(0,r.Lk)("p",{class:"text-instructions"}," Please create a unique username, followed by the basic user details. ")],-1)),(0,r.Lk)("div",n,[(0,r.Lk)("label",null,[s[7]||(s[7]=(0,r.eW)("Username: ")),(0,r.bF)(g,{"error-list":$.v$.usernameModel.$errors},null,8,["error-list"])]),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>y.usernameModel=e),class:"form-control"},null,512),[[a.vModelText,y.usernameModel]])])]),s[18]||(s[18]=(0,r.Lk)("hr",null,null,-1)),(0,r.Q3)(" User Details "),(0,r.Lk)("div",i,[s[12]||(s[12]=(0,r.Lk)("div",{class:"col-md-4"},[(0,r.Lk)("strong",null,"User Details"),(0,r.Lk)("p",{class:"text-instructions"}," Please fill out the user details. ")],-1)),(0,r.Lk)("div",u,[(0,r.Lk)("div",c,[(0,r.Lk)("div",m,[(0,r.Lk)("label",null,[s[9]||(s[9]=(0,r.eW)("First Name: ")),(0,r.bF)(g,{"error-list":$.v$.firstNameModel.$errors},null,8,["error-list"])]),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>y.firstNameModel=e),class:"form-control"},null,512),[[a.vModelText,y.firstNameModel]])]),(0,r.Lk)("div",p,[(0,r.Lk)("label",null,[s[10]||(s[10]=(0,r.eW)("Last Name: ")),(0,r.bF)(g,{"error-list":$.v$.lastNameModel.$errors},null,8,["error-list"])]),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=e=>y.lastNameModel=e),class:"form-control"},null,512),[[a.vModelText,y.lastNameModel]])]),(0,r.Lk)("div",w,[(0,r.Lk)("label",null,[s[11]||(s[11]=(0,r.eW)("Email: ")),(0,r.bF)(g,{"error-list":$.v$.emailModel.$errors},null,8,["error-list"])]),(0,r.bo)((0,r.Lk)("input",{type:"email","onUpdate:modelValue":s[3]||(s[3]=e=>y.emailModel=e),class:"form-control"},null,512),[[a.vModelText,y.emailModel]])])])])]),s[19]||(s[19]=(0,r.Lk)("hr",null,null,-1)),(0,r.Q3)(" User Password "),(0,r.Lk)("div",k,[s[15]||(s[15]=(0,r.Lk)("div",{class:"col-md-4"},[(0,r.Lk)("strong",null,"Passwords"),(0,r.Lk)("p",{class:"text-instructions"}," Please type in a user password. The user will be able to reset their password to log in. ")],-1)),(0,r.Lk)("div",L,[(0,r.Lk)("div",v,[(0,r.Lk)("div",M,[(0,r.Lk)("label",null,[s[13]||(s[13]=(0,r.eW)(" Password ")),(0,r.bF)(g,{"error-list":$.v$.password1Model.$errors},null,8,["error-list"])]),(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":s[4]||(s[4]=e=>y.password1Model=e),class:"form-control"},null,512),[[a.vModelText,y.password1Model]])]),(0,r.Lk)("div",h,[(0,r.Lk)("label",null,[s[14]||(s[14]=(0,r.eW)(" Retype Password ")),(0,r.bF)(g,{"error-list":$.v$.password2Model.$errors},null,8,["error-list"])]),(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":s[5]||(s[5]=e=>y.password2Model=e),class:"form-control"},null,512),[[a.vModelText,y.password2Model]])])])])]),s[20]||(s[20]=(0,r.Lk)("hr",null,null,-1)),(0,r.Lk)("div",b,[(0,r.Lk)("div",f,[(0,r.Lk)("a",{href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:s[6]||(s[6]=(...e)=>U.addUser&&U.addUser(...e))}," Add new User ")])])])])}]])},404:(e,s,l)=>{l.d(s,{A:()=>t});var r=l(641),a=l(33);const o={name:"ValidationRendering",props:{errorList:{type:Array,default:()=>[]}}},t=(0,l(6262).A)(o,[["render",function(e,s,l,o,t,d){return(0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.errorList,(e=>((0,r.uX)(),(0,r.CE)("span",{class:"error",key:e.$uid},(0,a.toDisplayString)(e.$message),1)))),128)}]])}}]);