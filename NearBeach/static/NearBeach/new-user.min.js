"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[2074],{3744:(e,l)=>{l.Z=(e,l)=>{const s=e.__vccOpts||e;for(const[e,a]of l)s[e]=a;return s}},2561:(e,l,s)=>{s.r(l),s.d(l,{default:()=>W});var a=s(6252),o=s(9963);const r={class:"card"},d={class:"card-body"},t=(0,a._)("h1",null,"New User",-1),n=(0,a._)("hr",null,null,-1),i={class:"row"},u=(0,a._)("div",{class:"col-md-4"},[(0,a._)("strong",null,"New User"),(0,a._)("p",{class:"text-instructions"}," Please create a unique username, followed by the basic user details. ")],-1),c={class:"col-md-8"},m=(0,a.Uk)("Username: "),p={key:0,class:"error"},w=(0,a._)("hr",null,null,-1),M={class:"row"},v=(0,a._)("div",{class:"col-md-4"},[(0,a._)("strong",null,"User Details"),(0,a._)("p",{class:"text-instructions"}," Please fill out the user details. ")],-1),_={class:"col-md-8"},h={class:"row"},y={class:"col-md-6"},f=(0,a.Uk)("First Name: "),U={key:0,class:"error"},g={class:"col-md-6"},k=(0,a.Uk)("Last Name: "),q={key:0,class:"error"},N={class:"col-md-6"},b=(0,a.Uk)("Email: "),$={key:0,class:"error"},x={key:1,class:"error"},P=(0,a._)("hr",null,null,-1),E={class:"row"},C=(0,a._)("div",{class:"col-md-4"},[(0,a._)("strong",null,"Passwords"),(0,a._)("p",{class:"text-instructions"}," Please type in a user password. The user will be able to reset their password to log in. ")],-1),D={class:"col-md-8"},T={class:"row"},V={class:"col-md-6"},I=(0,a._)("label",null,"Password",-1),S={class:"col-md-6"},B=(0,a._)("label",null,"Retype Password",-1),Z=(0,a._)("hr",null,null,-1),L={class:"row submit-row"},F={class:"col-md-12"};var H=s(3766),O=s(2587),R=s(3058);const j=s(9669),A={name:"NewUser",setup:()=>({v$:(0,H.ZP)()}),props:{rootUrl:{type:String,default:"/"}},data:()=>({emailModel:"",firstNameModel:"",lastNameModel:"",password1Model:"",password2Model:"",usernameModel:""}),validations:{emailModel:{required:O.C1,email:O.Do},firstNameModel:{required:O.C1},lastNameModel:{required:O.C1},password1Model:{required:O.C1},password2Model:{required:O.C1},usernameModel:{required:O.C1}},mixins:[R.Z],methods:{addUser:async function(){if(!await this.v$.$validate())return void this.showValidationErrorModal();const e=new FormData;e.set("username",this.usernameModel),e.set("email",this.emailModel),e.set("first_name",this.firstNameModel),e.set("last_name",this.lastNameModel),e.set("password1",this.password1Model),e.set("password2",this.password2Model),j.post(`${this.rootUrl}new_user/save/`,e).then((e=>{window.location.href=e.data})).catch((e=>{this.showErrorModal(e,"New User","")}))}}},W=(0,s(3744).Z)(A,[["render",function(e,l,s,H,O,R){return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",d,[t,n,(0,a.kq)(" Username "),(0,a._)("div",i,[u,(0,a._)("div",c,[(0,a._)("label",null,[m,!H.v$.usernameModel.required&&H.v$.usernameModel.$dirty?((0,a.wg)(),(0,a.iD)("span",p," Please supply a username.")):(0,a.kq)("v-if",!0)]),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>O.usernameModel=e),class:"form-control"},null,512),[[o.vModelText,O.usernameModel]])])]),w,(0,a.kq)(" User Details "),(0,a._)("div",M,[v,(0,a._)("div",_,[(0,a._)("div",h,[(0,a._)("div",y,[(0,a._)("label",null,[f,!H.v$.firstNameModel.required&&H.v$.firstNameModel.$dirty?((0,a.wg)(),(0,a.iD)("span",U," Please supply a first name.")):(0,a.kq)("v-if",!0)]),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>O.firstNameModel=e),class:"form-control"},null,512),[[o.vModelText,O.firstNameModel]])]),(0,a._)("div",g,[(0,a._)("label",null,[k,!H.v$.lastNameModel.required&&H.v$.lastNameModel.$dirty?((0,a.wg)(),(0,a.iD)("span",q," Please supply a last name.")):(0,a.kq)("v-if",!0)]),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=e=>O.lastNameModel=e),class:"form-control"},null,512),[[o.vModelText,O.lastNameModel]])]),(0,a._)("div",N,[(0,a._)("label",null,[b,!H.v$.emailModel.required&&H.v$.emailModel.$dirty?((0,a.wg)(),(0,a.iD)("span",$," Please supply an email.")):(0,a.kq)("v-if",!0),H.v$.emailModel.email?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("span",x," Please supply a valid email."))]),(0,a.wy)((0,a._)("input",{type:"email","onUpdate:modelValue":l[3]||(l[3]=e=>O.emailModel=e),class:"form-control"},null,512),[[o.vModelText,O.emailModel]])])])])]),P,(0,a.kq)(" User Password "),(0,a._)("div",E,[C,(0,a._)("div",D,[(0,a._)("div",T,[(0,a._)("div",V,[I,(0,a.wy)((0,a._)("input",{type:"password","onUpdate:modelValue":l[4]||(l[4]=e=>O.password1Model=e),class:"form-control"},null,512),[[o.vModelText,O.password1Model]])]),(0,a._)("div",S,[B,(0,a.wy)((0,a._)("input",{type:"password","onUpdate:modelValue":l[5]||(l[5]=e=>O.password2Model=e),class:"form-control"},null,512),[[o.vModelText,O.password2Model]])])])])]),Z,(0,a._)("div",L,[(0,a._)("div",F,[(0,a._)("a",{href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:l[6]||(l[6]=(...e)=>R.addUser&&R.addUser(...e))}," Add new User ")])])])])}]])},3058:(e,l,s)=>{s.d(l,{Z:()=>o});var a=s(9909);const o={methods:{showErrorModal:function(e,l,s){new a.u_(document.getElementById("loadingModal")).hide(),document.getElementById("errorModalContent").innerHTML=`<strong>HTML ISSUE:</strong> We could not save the new requirement<hr>${e}`,new a.u_(document.getElementById("errorModal")).show()},showValidationErrorModal:function(){document.getElementById("errorModalContent").innerHTML="<strong>FORM ISSUE:</strong> Sorry, but can you please fill out the form completely.",new a.u_(document.getElementById("errorModal")).show()}}}}}]);