"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[7615],{8039:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var a=s(641);const r={class:"card"},i={class:"card-body"},o={class:"tab-content",id:"misc_module_content"},n={class:"tab-pane fade active show",id:"associated-objects",role:"tabpanel","aria-labelledby":"profile-tab"};var c=s(5370),l=s(2124),d=s(9827);const u={name:"CustomerModule",components:{AssociatedObjects:c.A},mixins:[d.A],computed:{...(0,l.L8)({theme:"getTheme"})}},m=(0,s(6262).A)(u,[["render",function(e,t,s,c,l,d){const u=(0,a.g2)("associated-objects"),m=(0,a.g2)("n-config-provider");return(0,a.uX)(),(0,a.Wv)(m,{theme:e.getTheme(e.theme)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",r,[(0,a.Lk)("div",i,[(0,a.Q3)(" The MENU Items "),t[0]||(t[0]=(0,a.Lk)("ul",{class:"nav nav-tabs",id:"misc_module_tabs",role:"tablist"},[(0,a.Q3)(" Associated Projects & Tasks "),(0,a.Lk)("li",{class:"nav-item",role:"presentation"},[(0,a.Lk)("button",{class:"nav-link active",id:"associated-objects-tab","data-bs-toggle":"tab","data-bs-target":"#associated-objects",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"}," Associated Objects ")])],-1)),t[1]||(t[1]=(0,a.Lk)("hr",null,null,-1)),(0,a.Q3)(" The Modules "),(0,a.Lk)("div",o,[(0,a.Lk)("div",n,[(0,a.bF)(u)])])])])])),_:1},8,["theme"])}]])},5370:(e,t,s)=>{s.d(t,{A:()=>u});var a=s(641);const r={key:0},i={key:4,class:"spacer"},o={key:5,class:"alert alert-info"};var n=s(2321),c=s(2124),l=s(2243);const d={name:"AssociatedObjects",components:{RenderObjectCard:s(469).A,Icon:n.In},mixins:[l.A],data:()=>({projectResults:[],projectVariables:{header:"Projects",prefix:"Pro",id:"project_id",title:"project_name",status:"project_status_text"},requirementResults:[],requirementVariables:{header:"Requirements",prefix:"Req",id:"requirement_id",title:"requirement_title",status:"requirement_status__requirement_status"},taskResults:[],taskVariables:{header:"Tasks",prefix:"Task",id:"task_id",title:"task_short_description",status:"task_status_text"}}),computed:{...(0,c.L8)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl"})},methods:{getAssociatedObjectResults(){0!==this.locationId?this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/associated_objects/`).then((e=>{this.projectResults=e.data.project,this.requirementResults=e.data.requirement,this.taskResults=e.data.task})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Getting Associated Objects",message:`Sorry, we could not get associated objects. Error -> ${e}`,extra_classes:"bg-danger",delay:0})})):setTimeout((()=>{this.getAssociatedObjectResults()}),100)},getFriendlyDate:e=>new Date(e).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},mounted(){this.$nextTick((()=>{this.getAssociatedObjectResults()}))}},u=(0,s(6262).A)(d,[["render",function(e,t,s,n,c,l){const d=(0,a.g2)("Icon"),u=(0,a.g2)("render-object-card");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("h2",null,[(0,a.bF)(d,{icon:e.icons.objectStorage},null,8,["icon"]),t[0]||(t[0]=(0,a.eW)(" Associated Objects "))]),t[1]||(t[1]=(0,a.Lk)("p",{class:"text-instructions"}," The following are current OPEN objects associated with the organisation. ",-1)),c.projectResults.length+c.taskResults.length+c.requirementResults.length>0?((0,a.uX)(),(0,a.CE)("hr",r)):(0,a.Q3)("v-if",!0),(0,a.Q3)(" Project Results "),c.projectResults.length>0?((0,a.uX)(),(0,a.Wv)(u,{key:1,"search-results":c.projectResults,"import-variables":c.projectVariables,destination:"project"},null,8,["search-results","import-variables"])):(0,a.Q3)("v-if",!0),(0,a.Q3)(" Requirement Results "),c.requirementResults.length>0?((0,a.uX)(),(0,a.Wv)(u,{key:2,"search-results":c.requirementResults,"import-variables":c.requirementVariables,destination:"requirement"},null,8,["search-results","import-variables"])):(0,a.Q3)("v-if",!0),(0,a.Q3)(" Task Results "),c.taskResults.length>0?((0,a.uX)(),(0,a.Wv)(u,{key:3,"search-results":c.taskResults,"import-variables":c.taskVariables,destination:"task"},null,8,["search-results","import-variables"])):(0,a.Q3)("v-if",!0),(0,a.Q3)(" Only show when there are no associated tasks "),c.projectResults.length+c.taskResults.length+c.requirementResults.length===0?((0,a.uX)(),(0,a.CE)("div",i)):(0,a.Q3)("v-if",!0),c.projectResults.length+c.taskResults.length+c.requirementResults.length===0?((0,a.uX)(),(0,a.CE)("div",o,' There are currently no Objects associated with this Organisation. You can create some new objects by click on the "New Objects" menu item. ')):(0,a.Q3)("v-if",!0)])}]])},469:(e,t,s)=>{s.d(t,{A:()=>k});var a=s(641),r=s(33);const i={class:"object-card-list"},o={class:"object-card--detail"},n=["href"],c={class:"object-card--detail--link"},l={class:"object-card--detail--description"},d={class:"object-card--status"},u=["href"],m={class:"object-card--status--status"},h={class:"small-text"};var b=s(8083),p=s(2124);const g={name:"RenderObjectCard",props:{destination:{type:String,default:""},importVariables:{type:Object,default:()=>({header:"",prefix:"",id:0,title:"",status:""})},searchResults:{type:Array,default:()=>[]}},mixins:[b.A],computed:{...(0,p.L8)({rootUrl:"getRootUrl"})}},k=(0,s(6262).A)(g,[["render",function(e,t,s,b,p,g){return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("h2",null,(0,r.toDisplayString)(s.importVariables.header),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.searchResults,(t=>((0,a.uX)(),(0,a.CE)("div",{class:"object-card",key:t.pk},[(0,a.Lk)("div",o,[(0,a.Lk)("a",{href:`${e.rootUrl}${s.destination}_information/${t[s.importVariables.id]}/`},[(0,a.Lk)("div",c,(0,r.toDisplayString)(s.importVariables.prefix)+(0,r.toDisplayString)(t[s.importVariables.id]),1),(0,a.Lk)("div",l,(0,r.toDisplayString)(t[s.importVariables.title]),1)],8,n)]),(0,a.Lk)("div",d,[(0,a.Lk)("a",{href:`${e.rootUrl}${s.destination}_information/${t[s.importVariables.id]}/`},[(0,a.Lk)("div",m,(0,r.toDisplayString)(t[s.importVariables.status]),1),(0,a.Lk)("p",h,(0,r.toDisplayString)(e.getNiceDatetime(t[s.importVariables.end_date])),1)],8,u)])])))),128))])}]])},8083:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(6285);const r={methods:{getNiceDatetime:e=>""===e||null==e?"":a.c9.fromISO(e).toLocaleString(a.c9.DATETIME_MED),getNiceDatetimeFromInt:e=>""===e||null==e?"":a.c9.fromMillis(e).toLocaleString(a.c9.DATETIME_MED),getNiceDate:e=>""===e||null==e?"":a.c9.fromISO(e).toLocaleString(a.c9.DATE_MED_WITH_WEEKDAY),disableDate(e){const t=new Date;return t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(0),e<=t.getTime()-36e5}}}},9827:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(7413);const r={data:()=>({darkTheme:a.a}),methods:{getTheme:e=>"dark"===e?a.a:null}}},2243:(e,t,s)=>{s.d(t,{A:()=>D});var a=s(8998),r=s(102),i=s(9394),o=s(2438),n=s(9605),c=s(3438),l=s(5666),d=s(6375),u=s(1647),m=s(7066),h=s(4397),b=s(4603),p=s(7432),g=s(1758),k=s(8959),A=s(9587),j=s(9675),v=s(386),f=s(6120),R=s(8086),_=s(5617),y=s(6325),L=s(6500),I=s(5707),T=s(1511);const D={data:()=>({icons:{arrowUp:a.A,bugIcon:r.A,bxBriefcase:i.A,cardChecklist:o.A,clipboardIcon:n.A,documentPdf:c.A,documentText:l.A,folderIcon:d.A,groupPresentation:u.A,imageIcon:m.A,infoCircle:h.A,linkIcon:b.A,linkIcon2:p.A,linkOut:g.A,mailIcon:k.A,microsoftExcel:A.A,microsoftPowerpoint:j.A,microsoftWord:v.A,noteAdd:f.A,objectStorage:R.A,passwordIcon:_.A,trashCan:y.A,userIcon:L.A,usersIcon:I.A,xCircle:T.A}})}}}]);