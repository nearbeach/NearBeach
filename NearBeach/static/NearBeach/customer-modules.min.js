"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[7615],{6503:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(641);const r={class:"card"},i={class:"card-body"},o={class:"tab-content",id:"misc_module_content"},l={class:"tab-pane fade active show",id:"associated-objects",role:"tabpanel","aria-labelledby":"profile-tab"};var n=s(5890),c=s(2124);const u={name:"CustomerModule",methods:{useNBTheme:s(9581).p},components:{AssociatedObjects:n.A},computed:{...(0,c.L8)({theme:"getTheme"})}},d=(0,s(6262).A)(u,[["render",function(e,t,s,n,c,u){const d=(0,a.g2)("associated-objects"),h=(0,a.g2)("n-config-provider");return(0,a.uX)(),(0,a.Wv)(h,{theme:u.useNBTheme(e.theme)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",r,[(0,a.Lk)("div",i,[(0,a.Q3)(" The MENU Items "),t[0]||(t[0]=(0,a.Lk)("ul",{class:"nav nav-tabs",id:"misc_module_tabs",role:"tablist"},[(0,a.Q3)(" Associated Projects & Tasks "),(0,a.Lk)("li",{class:"nav-item",role:"presentation"},[(0,a.Lk)("button",{class:"nav-link active",id:"associated-objects-tab","data-bs-toggle":"tab","data-bs-target":"#associated-objects",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"}," Associated Objects ")])],-1)),t[1]||(t[1]=(0,a.Lk)("hr",null,null,-1)),(0,a.Q3)(" The Modules "),(0,a.Lk)("div",o,[(0,a.Lk)("div",l,[(0,a.bF)(d)])])])])])),_:1},8,["theme"])}]])},5890:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(641);const r={key:0},i={key:4,class:"spacer"},o={key:5,class:"alert alert-info"};var l=s(2124);const n={name:"AssociatedObjects",components:{RenderObjectCard:s(302).A},data:()=>({projectResults:[],projectVariables:{header:"Projects",prefix:"Pro",id:"project_id",title:"project_name",status:"project_status_text"},requirementResults:[],requirementVariables:{header:"Requirements",prefix:"Req",id:"requirement_id",title:"requirement_title",status:"requirement_status__requirement_status"},taskResults:[],taskVariables:{header:"Tasks",prefix:"Task",id:"task_id",title:"task_short_description",status:"task_status_text"}}),computed:{...(0,l.L8)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl"})},methods:{getAssociatedObjectResults(){0!==this.locationId?this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/associated_objects/`).then((e=>{this.projectResults=e.data.project,this.requirementResults=e.data.requirement,this.taskResults=e.data.task})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Getting Associated Objects",message:`Sorry, we could not get associated objects. Error -> ${e}`,extra_classes:"bg-danger",delay:0})})):setTimeout((()=>{this.getAssociatedObjectResults()}),100)},getFriendlyDate:e=>new Date(e).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},mounted(){this.$nextTick((()=>{this.getAssociatedObjectResults()}))}},c=(0,s(6262).A)(n,[["render",function(e,t,s,l,n,c){const u=(0,a.g2)("render-object-card");return(0,a.uX)(),(0,a.CE)("div",null,[t[0]||(t[0]=(0,a.Lk)("h2",null," Associated Objects ",-1)),t[1]||(t[1]=(0,a.Lk)("p",{class:"text-instructions"}," The following are current OPEN objects associated with the organisation. ",-1)),n.projectResults.length+n.taskResults.length+n.requirementResults.length>0?((0,a.uX)(),(0,a.CE)("hr",r)):(0,a.Q3)("v-if",!0),(0,a.Q3)(" Project Results "),n.projectResults.length>0?((0,a.uX)(),(0,a.Wv)(u,{key:1,"search-results":n.projectResults,"import-variables":n.projectVariables,destination:"project"},null,8,["search-results","import-variables"])):(0,a.Q3)("v-if",!0),(0,a.Q3)(" Requirement Results "),n.requirementResults.length>0?((0,a.uX)(),(0,a.Wv)(u,{key:2,"search-results":n.requirementResults,"import-variables":n.requirementVariables,destination:"requirement"},null,8,["search-results","import-variables"])):(0,a.Q3)("v-if",!0),(0,a.Q3)(" Task Results "),n.taskResults.length>0?((0,a.uX)(),(0,a.Wv)(u,{key:3,"search-results":n.taskResults,"import-variables":n.taskVariables,destination:"task"},null,8,["search-results","import-variables"])):(0,a.Q3)("v-if",!0),(0,a.Q3)(" Only show when there are no associated tasks "),n.projectResults.length+n.taskResults.length+n.requirementResults.length===0?((0,a.uX)(),(0,a.CE)("div",i)):(0,a.Q3)("v-if",!0),n.projectResults.length+n.taskResults.length+n.requirementResults.length===0?((0,a.uX)(),(0,a.CE)("div",o,' There are currently no Objects associated with this Organisation. You can create some new objects by click on the "New Objects" menu item. ')):(0,a.Q3)("v-if",!0)])}]])},302:(e,t,s)=>{s.d(t,{A:()=>k});var a=s(641),r=s(33);const i={class:"object-card-list"},o={class:"object-card--detail"},l=["href"],n={class:"object-card--detail--link"},c={class:"object-card--detail--description"},u={class:"object-card--status"},d=["href"],h={class:"object-card--status--status"},b={class:"small-text"};var m=s(2124);const p={name:"RenderObjectCard",methods:{useNiceDatetime:s(246).y},props:{destination:{type:String,default:""},importVariables:{type:Object,default:()=>({header:"",prefix:"",id:0,title:"",status:""})},searchResults:{type:Array,default:()=>[]}},computed:{...(0,m.L8)({rootUrl:"getRootUrl"})}},k=(0,s(6262).A)(p,[["render",function(e,t,s,m,p,k){return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("h2",null,(0,r.toDisplayString)(s.importVariables.header),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.searchResults,(t=>((0,a.uX)(),(0,a.CE)("div",{class:"object-card",key:t.pk},[(0,a.Lk)("div",o,[(0,a.Lk)("a",{href:`${e.rootUrl}${s.destination}_information/${t[s.importVariables.id]}/`},[(0,a.Lk)("div",n,(0,r.toDisplayString)(s.importVariables.prefix)+(0,r.toDisplayString)(t[s.importVariables.id]),1),(0,a.Lk)("div",c,(0,r.toDisplayString)(t[s.importVariables.title]),1)],8,l)]),(0,a.Lk)("div",u,[(0,a.Lk)("a",{href:`${e.rootUrl}${s.destination}_information/${t[s.importVariables.id]}/`},[(0,a.Lk)("div",h,(0,r.toDisplayString)(t[s.importVariables.status]),1),(0,a.Lk)("p",b,(0,r.toDisplayString)(k.useNiceDatetime(t[s.importVariables.end_date])),1)],8,d)])])))),128))])}]])},246:(e,t,s)=>{s.d(t,{y:()=>i});var a=s(6285),r=s(953);function i(e){const t=(0,r.BA)(e);return""===t||null==t?"":a.c9.fromISO(t).toLocaleString(a.c9.DATETIME_MED)}},9581:(e,t,s)=>{s.d(t,{p:()=>i});var a=s(953),r=s(166);function i(e){return"dark"===(0,a.BA)(e)?r.a:null}}}]);