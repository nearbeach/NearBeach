"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[6890],{3744:(e,t)=>{t.Z=(e,t)=>{const a=e.__vccOpts||e;for(const[e,r]of t)a[e]=r;return a}},6639:(e,t,a)=>{a.d(t,{Z:()=>p});var r=a(6252),s=a(3577);const o=["src"],i={class:"organisation-name"},n=["href"],l={class:"organisation-link"},c=["href"],u={class:"organisation-email"},h=["href"];var d=a(989),g=a(6542),m=a(5808);const f={name:"ListOrganisations",components:{Icon:g.JO},props:{organisationResults:{type:Array,default:()=>[]}},computed:{...(0,d.Se)({rootUrl:"getRootUrl",staticUrl:"getStaticUrl"})},mixins:[m.Z],methods:{getProfilePicture(e){const t=e.fields.organisation_profile_picture;return""===t||null===t?`${this.staticUrl}NearBeach/images/placeholder/product_tour.svg`:`${this.rootUrl}private/${t}`}}},p=(0,a(3744).Z)(f,[["render",function(e,t,a,d,g,m){const f=(0,r.up)("Icon");return(0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.organisationResults,(t=>((0,r.wg)(),(0,r.iD)("div",{key:t.id,class:"organisation-details"},[(0,r._)("img",{src:m.getProfilePicture(t),alt:"Stakeholder Logo",class:"organisation-image"},null,8,o),(0,r._)("div",i,[(0,r._)("a",{href:`${e.rootUrl}organisation_information/${t.pk}/`},(0,s.toDisplayString)(t.fields.organisation_name),9,n)]),(0,r._)("div",l,[(0,r.Wm)(f,{icon:e.icons.linkOut},null,8,["icon"]),(0,r.Uk)(" Website: "),(0,r._)("a",{href:t.fields.organisation_website,target:"_blank",rel:"noopener noreferrer"},(0,s.toDisplayString)(t.fields.organisation_website),9,c)]),(0,r._)("div",u,[(0,r.Wm)(f,{icon:e.icons.mailIcon},null,8,["icon"]),(0,r.Uk)(" Email: "),(0,r._)("a",{href:`mailto:${t.fields.organisation_email}`},(0,s.toDisplayString)(t.fields.organisation_email),9,h)])])))),128)}]])},8818:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var r=a(6252),s=a(9963);const o={class:"card"},i={class:"card-body"},n=(0,r._)("h1",null,"Search Organisations",-1),l=(0,r._)("br",null,null,-1),c={class:"form-group"},u=(0,r._)("label",null,"Search:",-1),h=(0,r._)("hr",null,null,-1),d={key:0,class:"alert alert-warning"},g=(0,r._)("hr",null,null,-1),m={class:"row submit-row"},f={class:"col-md-12"},p=["href"];var Z=a(9113),_=a(6639);const U=a(9669),k={name:"SearchOrganisations",components:{ListOrganisations:_.Z},props:{organisationResults:{type:Array,default:()=>[]},rootUrl:{type:String,default:"/"},staticUrl:{type:String,default:"/"}},mixins:[Z.Z],data(){return{localOrganisationResults:this.organisationResults,searchModel:"",searchTimeout:""}},methods:{getSearchResults(){const e=new FormData;e.set("search",this.searchModel),U.post(`${this.rootUrl}search/organisation/data/`,e).then((e=>{this.localOrganisationResults=e.data})).catch((e=>{}))}},watch:{searchModel(){this.searchTrigger({return_function:this.getSearchResults,searchTimeout:this.searchTimeout})}},mounted(){this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl,staticUrl:this.staticUrl})}},v=(0,a(3744).Z)(k,[["render",function(e,t,a,Z,_,U){const k=(0,r.up)("list-organisations");return(0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",i,[(0,r.kq)(" HEADING "),n,l,(0,r.kq)(" SEARCH FIELD "),(0,r._)("div",c,[u,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control search-organisation","onUpdate:modelValue":t[0]||(t[0]=e=>_.searchModel=e)},null,512),[[s.vModelText,_.searchModel]])]),(0,r.kq)(" LIST OUT SEARCH RESULTS "),h,(0,r.Wm)(k,{"organisation-results":_.localOrganisationResults},null,8,["organisation-results"]),(0,r.kq)(" SHOW IF NO RESULTS "),0===_.localOrganisationResults.length?((0,r.wg)(),(0,r.iD)("div",d," There are no organisations with the search parameters used. Please try again. ")):(0,r.kq)("v-if",!0),g,(0,r._)("div",m,[(0,r._)("div",f,[(0,r._)("a",{href:`${a.rootUrl}new_organisation/`,class:"btn btn-primary save-changes"}," Add new Organisation ",8,p)])])])])}]])},5808:(e,t,a)=>{a.d(t,{Z:()=>O});var r=a(3985),s=a(5555),o=a(1826),i=a(6443),n=a(1327),l=a(8521),c=a(1056),u=a(4324),h=a(9672),d=a(9867),g=a(1239),m=a(5004),f=a(1321),p=a(1216),Z=a(5550),_=a(7702),U=a(7903),k=a(2606),v=a(3843),S=a(2393),w=a(3360),T=a(9714),b=a(1323),y=a(2610),I=a(5968);const O={data:()=>({icons:{arrowUp:r.Z,bugIcon:s.Z,bxBriefcase:o.Z,cardChecklist:i.Z,clipboardIcon:n.Z,documentPdf:l.Z,documentText:c.Z,folderIcon:u.Z,groupPresentation:h.Z,imageIcon:d.Z,infoCircle:g.Z,linkIcon:m.Z,linkIcon2:f.Z,linkOut:p.Z,mailIcon:Z.Z,microsoftExcel:_.Z,microsoftPowerpoint:U.Z,microsoftWord:k.Z,noteAdd:v.Z,objectStorage:S.Z,passwordIcon:w.Z,trashCan:T.Z,userIcon:b.Z,usersIcon:y.Z,xCircle:I.Z}})}},9113:(e,t,a)=>{a.d(t,{Z:()=>r});const r={methods:{searchTrigger(e){""!=e.searchTimeout&&clearTimeout(e.searchTimeout),void 0===e.search?this.searchUndefined(e):this.searchDefined(e)},searchDefined(e){e.search.length>=3&&(e.searchTimeout=setTimeout(e.return_function,500,e.search,e.loading))},searchUndefined(e){e.searchTimeout=setTimeout(e.return_function,500)}}}}}]);