"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[6371],{3744:(e,t)=>{t.Z=(e,t)=>{const s=e.__vccOpts||e;for(const[e,r]of t)s[e]=r;return s}},5445:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var r=s(6252);const a={class:"card"},i={class:"card-body"},o=(0,r._)("h1",null,"My Current Objects",-1),n=(0,r._)("hr",null,null,-1),l={key:0,class:"alert alert-dark"},d={key:5,class:"alert alert-primary"};var c=s(3058),u=s(7819);const b=s(9669),h={name:"DashboardMyObjects",components:{RenderObjectCard:u.Z},props:{rootUrl:{type:String,default:"/"}},data:()=>({isLoaded:!1,objectResults:{card:[],requirement:[],project:[],task:[]},cardVariables:{header:"Cards",prefix:"Card",id:"kanban_card_id",title:"kanban_card_text",status:"kanban_column__kanban_column_name",end_date:""},projectVariables:{header:"Projects",prefix:"Pro",id:"project_id",title:"project_name",status:"project_status",end_date:"project_end_date"},requirementVariables:{header:"Your Requirements",prefix:"Req",id:"requirement_id",title:"requirement_title",status:"requirement_status__requirement_status",end_date:""},taskVariables:{header:"Tasks",prefix:"Task",id:"task_id",title:"task_short_description",status:"task_status",end_date:"task_end_date"}}),mixins:[c.Z],methods:{getMyObjects(){b.post(`${this.rootUrl}dashboard/get/my_objects/`).then((e=>{this.objectResults=e.data,this.isLoaded=!0})).catch((e=>{this.showErrorModal(e,"Dashboard My Objects")}))}},computed:{countObjects(){return this.objectResults.requirement.length+this.objectResults.project.length+this.objectResults.task.length+this.objectResults.card.length}},mounted(){this.getMyObjects()}},p=(0,s(3744).Z)(h,[["render",function(e,t,s,c,u,b){const h=(0,r.up)("render-object-card");return(0,r.wg)(),(0,r.iD)("div",a,[(0,r._)("div",i,[o,n,u.isLoaded?(0,r.kq)("v-if",!0):((0,r.wg)(),(0,r.iD)("div",l," Still obtaining your assigned jobs. ")),(0,r.kq)(" Requirements "),u.objectResults.requirement.length>0?((0,r.wg)(),(0,r.j4)(h,{key:1,"search-results":u.objectResults.requirement,"import-variables":u.requirementVariables,destination:"requirement"},null,8,["search-results","import-variables"])):(0,r.kq)("v-if",!0),(0,r.kq)(" Projects "),u.objectResults.project.length>0?((0,r.wg)(),(0,r.j4)(h,{key:2,"search-results":u.objectResults.project,"import-variables":u.projectVariables,destination:"project"},null,8,["search-results","import-variables"])):(0,r.kq)("v-if",!0),(0,r.kq)(" Tasks "),u.objectResults.task.length>0?((0,r.wg)(),(0,r.j4)(h,{key:3,"search-results":u.objectResults.task,"import-variables":u.taskVariables,destination:"task"},null,8,["search-results","import-variables"])):(0,r.kq)("v-if",!0),(0,r.kq)(" Kanban Cards "),u.objectResults.card.length>0?((0,r.wg)(),(0,r.j4)(h,{key:4,"search-results":u.objectResults.card,"import-variables":u.cardVariables,destination:"card"},null,8,["search-results","import-variables"])):(0,r.kq)("v-if",!0),(0,r.kq)(" If there are no objects "),0===b.countObjects&&u.isLoaded?((0,r.wg)(),(0,r.iD)("div",d," It looks like no one has assigned you any tasks. ")):(0,r.kq)("v-if",!0)])])}]])},7819:(e,t,s)=>{s.d(t,{Z:()=>j});var r=s(6252),a=s(3577);const i={class:"object-card-list"},o={class:"object-card--detail"},n=["href"],l={class:"object-card--detail--link"},d={class:"object-card--detail--description"},c={class:"object-card--status"},u={class:"object-card--status--status"},b={class:"small-text"};var h=s(431),p=s(989);const m={name:"RenderObjectCard",props:{destination:{type:String,default:""},importVariables:{type:Object,default:()=>({header:"",prefix:"",id:0,title:"",status:""})},searchResults:{type:Array,default:()=>[]}},mixins:[h.Z],computed:{...(0,p.Se)({rootUrl:"getRootUrl"})}},j=(0,s(3744).Z)(m,[["render",function(e,t,s,h,p,m){return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("h2",null,(0,a.toDisplayString)(s.importVariables.header),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.searchResults,(t=>((0,r.wg)(),(0,r.iD)("div",{class:"object-card",key:t.pk},[(0,r._)("div",o,[(0,r._)("a",{href:`${e.rootUrl}${s.destination}_information/${t[s.importVariables.id]}/`},[(0,r._)("div",l,(0,a.toDisplayString)(s.importVariables.prefix)+(0,a.toDisplayString)(t[s.importVariables.id]),1),(0,r._)("div",d,(0,a.toDisplayString)(t[s.importVariables.title]),1)],8,n)]),(0,r._)("div",c,[(0,r._)("div",u,(0,a.toDisplayString)(t[s.importVariables.status]),1),(0,r._)("p",b,(0,a.toDisplayString)(e.getNiceDate(t[s.importVariables.end_date])),1)])])))),128))])}]])},431:(e,t,s)=>{s.d(t,{Z:()=>a});var r=s(7126);const a={methods:{getNiceDate:e=>""===e||null==e?"":r.ou.fromISO(e).toLocaleString(r.ou.DATETIME_MED),disableDate(e){const t=new Date;return t.setMilliseconds(0),t.setSeconds(0),t.setHours(0),e<=t.getTime()-36e5}}}},3058:(e,t,s)=>{s.d(t,{Z:()=>a});var r=s(3138);const a={methods:{showErrorModal(e,t,s){const a=document.getElementById("loadingModal");if(null===a)return;new r.u_(a).hide();const i=document.getElementById("errorModalContent");if(void 0===i)return;if(i.innerHTML=`<strong>HTML ISSUE:</strong> We could not save the new ${t}-${s}<hr>${e}`,null===document.getElementById("errorModal"))return;const o=new r.u_(o);o.show()},showValidationErrorModal(){document.getElementById("errorModalContent").innerHTML="<strong>FORM ISSUE:</strong> Sorry, but can you please fill out the form completely.",new r.u_(document.getElementById("errorModal")).show()}}}}}]);