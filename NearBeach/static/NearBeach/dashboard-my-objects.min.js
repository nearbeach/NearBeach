"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[499],{246:(e,t,a)=>{a.d(t,{y:()=>i});var s=a(6285),r=a(953);function i(e){const t=(0,r.BA)(e);return""===t||null==t?"":s.c9.fromISO(t).toLocaleString(s.c9.DATETIME_MED)}},6262:(e,t)=>{t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,s]of t)a[e]=s;return a}},8597:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var s=a(641);const r={class:"card"},i={class:"card-body"},n={key:0,class:"alert alert-dark"},o={key:6,class:"alert alert-primary"},l={name:"DashboardMyObjects",components:{RenderObjectCard:a(9724).A},props:{rootUrl:{type:String,default:"/"}},data:()=>({isLoaded:!1,objectResults:{card:[],kanban_board:[],requirement:[],project:[],task:[]},cardVariables:{header:"Cards",prefix:"Card",id:"kanban_card_id",title:"kanban_card_text",status:"kanban_column__kanban_column_name",end_date:""},kanbanBoardVariables:{header:"Kanban Boards",prefix:"Kanban",id:"kanban_board_id",title:"kanban_board_name",status:"kanban_board_status",end_date:""},projectVariables:{header:"Projects",prefix:"Pro",id:"project_id",title:"project_name",status:"project_status__project_status",end_date:"project_end_date"},requirementVariables:{header:"Your Requirements",prefix:"Req",id:"requirement_id",title:"requirement_title",status:"requirement_status__requirement_status",end_date:""},taskVariables:{header:"Tasks",prefix:"Task",id:"task_id",title:"task_short_description",status:"task_status__task_status",end_date:"task_end_date"}}),methods:{getMyObjects(){this.axios.post(`${this.rootUrl}dashboard/get/my_objects/`).then((e=>{this.objectResults=e.data,this.isLoaded=!0})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Getting Dashboard Data",message:`Can't get data for My Objects. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))}},computed:{countObjects(){return this.objectResults.requirement.length+this.objectResults.project.length+this.objectResults.task.length+this.objectResults.card.length}},mounted(){this.getMyObjects()}},d=(0,a(6262).A)(l,[["render",function(e,t,a,l,d,c){const u=(0,s.g2)("render-object-card");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("div",i,[t[0]||(t[0]=(0,s.Lk)("h1",null,"My Current Objects",-1)),t[1]||(t[1]=(0,s.Lk)("hr",null,null,-1)),d.isLoaded?(0,s.Q3)("v-if",!0):((0,s.uX)(),(0,s.CE)("div",n," Still obtaining your assigned jobs. ")),(0,s.Q3)(" Requirements "),d.objectResults.requirement.length>0?((0,s.uX)(),(0,s.Wv)(u,{key:1,"search-results":d.objectResults.requirement,"import-variables":d.requirementVariables,destination:"requirement"},null,8,["search-results","import-variables"])):(0,s.Q3)("v-if",!0),(0,s.Q3)(" Projects "),d.objectResults.project.length>0?((0,s.uX)(),(0,s.Wv)(u,{key:2,"search-results":d.objectResults.project,"import-variables":d.projectVariables,destination:"project"},null,8,["search-results","import-variables"])):(0,s.Q3)("v-if",!0),(0,s.Q3)(" Tasks "),d.objectResults.task.length>0?((0,s.uX)(),(0,s.Wv)(u,{key:3,"search-results":d.objectResults.task,"import-variables":d.taskVariables,destination:"task"},null,8,["search-results","import-variables"])):(0,s.Q3)("v-if",!0),(0,s.Q3)(" Kanban Boards "),d.objectResults.kanban_board.length>0?((0,s.uX)(),(0,s.Wv)(u,{key:4,"search-results":d.objectResults.kanban_board,"import-variables":d.kanbanBoardVariables,destination:"kanban"},null,8,["search-results","import-variables"])):(0,s.Q3)("v-if",!0),(0,s.Q3)(" Kanban Cards "),d.objectResults.card.length>0?((0,s.uX)(),(0,s.Wv)(u,{key:5,"search-results":d.objectResults.card,"import-variables":d.cardVariables,destination:"card"},null,8,["search-results","import-variables"])):(0,s.Q3)("v-if",!0),(0,s.Q3)(" If there are no objects "),0===c.countObjects&&d.isLoaded?((0,s.uX)(),(0,s.CE)("div",o," It looks like no one has assigned you any tasks. ")):(0,s.Q3)("v-if",!0)])])}]])},9724:(e,t,a)=>{a.d(t,{A:()=>m});var s=a(641),r=a(33);const i={class:"object-card-list"},n={class:"object-card--detail"},o=["href","target"],l={class:"object-card--detail--link"},d={class:"object-card--detail--description"},c={class:"object-card--status"},u=["href","target"],b={class:"object-card--status--status"},p={class:"small-text"};var h=a(2124);const k={name:"RenderObjectCard",methods:{useNiceDatetime:a(246).y,tempTranslate:e=>"kanban_board"===e?"kanban":e},props:{destination:{type:String,default:""},importVariables:{type:Object,default:()=>({header:"",prefix:"",id:0,title:"",status:""})},searchResults:{type:Array,default:()=>[]},target:{type:String,default:""}},computed:{...(0,h.L8)({rootUrl:"getRootUrl"})}},m=(0,a(6262).A)(k,[["render",function(e,t,a,h,k,m){return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("h2",null,(0,r.toDisplayString)(a.importVariables.header),1),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.searchResults,(t=>((0,s.uX)(),(0,s.CE)("div",{class:"object-card",key:t.pk},[(0,s.Lk)("div",n,[(0,s.Lk)("a",{href:`${e.rootUrl}${m.tempTranslate(a.destination)}_information/${t[a.importVariables.id]}/`,target:a.target},[(0,s.Lk)("div",l,(0,r.toDisplayString)(a.importVariables.prefix)+(0,r.toDisplayString)(t[a.importVariables.id]),1),(0,s.Lk)("div",d,(0,r.toDisplayString)(t[a.importVariables.title]),1)],8,o)]),(0,s.Lk)("div",c,[(0,s.Lk)("a",{href:`${e.rootUrl}${a.destination}_information/${t[a.importVariables.id]}/`,target:a.target},[(0,s.Lk)("div",b,(0,r.toDisplayString)(t[a.importVariables.status]),1),(0,s.Lk)("p",p,(0,r.toDisplayString)(m.useNiceDatetime(t[a.importVariables.end_date])),1)],8,u)])])))),128))])}]])}}]);