"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[7302],{3744:(e,r)=>{r.Z=(e,r)=>{const t=e.__vccOpts||e;for(const[e,o]of r)t[e]=o;return t}},934:(e,r,t)=>{t.r(r),t.d(r,{default:()=>k});var o=t(6252),s=t(9963),n=t(3577);const a={class:"card"},l={class:"card-body"},u=(0,o._)("h1",null,"Search Groups",-1),i=(0,o._)("br",null,null,-1),c={class:"form-group"},h=(0,o._)("label",null,"Search:",-1),d=(0,o._)("hr",null,null,-1),g={key:0,class:"list-group"},p=["href"],m=(0,o._)("br",null,null,-1),f={class:"small-text"},_={key:1,class:"alert alert-warning"},w=(0,o._)("hr",null,null,-1),y={class:"row submit-row"},M={class:"col-md-12"},S=["href"];var v=t(3058),T=t(9113);const b={name:"SearchGroups",props:{groupResults:{type:Array,default:()=>[]},rootUrl:{type:String,default:"/"}},mixins:[v.Z,T.Z],data(){return{groupList:this.groupResults,searchModel:"",searchTimeout:""}},methods:{getSearchResults(){const e=new FormData;e.set("search",this.searchModel),this.axios.post(`${this.rootUrl}search/group/data/`,e).then((e=>{this.groupList=e.data})).catch((e=>{this.showErrorModal(e,"Search Groups","")}))}},watch:{searchModel(){this.searchTrigger({return_function:this.getSearchResults,searchTimeout:this.searchTimeout})}}},k=(0,t(3744).Z)(b,[["render",function(e,r,t,v,T,b){return(0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("div",l,[(0,o.kq)(" Search bar and heading "),u,i,(0,o._)("div",c,[h,(0,o.wy)((0,o._)("input",{class:"form-control search-groups","onUpdate:modelValue":r[0]||(r[0]=e=>T.searchModel=e)},null,512),[[s.vModelText,T.searchModel]])]),d,(0,o.kq)(" Search Results "),T.groupList.length>0?((0,o.wg)(),(0,o.iD)("div",g,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(T.groupList,(e=>((0,o.wg)(),(0,o.iD)("a",{class:"list-group-item list-group-item-action",key:e.pk,href:`/group_information/${e.pk}/`},[(0,o._)("strong",null,(0,n.toDisplayString)(e.fields.group_name),1),m,(0,o._)("p",f," Parent Group: "+(0,n.toDisplayString)(e.fields.parent_group),1)],8,p)))),128))])):((0,o.wg)(),(0,o.iD)("div",_," Sorry, there are no groups. ")),w,(0,o._)("div",y,[(0,o._)("div",M,[(0,o._)("a",{href:`${t.rootUrl}new_group/`,class:"btn btn-primary save-changes"}," Add new Group ",8,S)])])])])}]])},3058:(e,r,t)=>{t.d(r,{Z:()=>s});var o=t(3138);const s={methods:{showErrorModal(e,r,t){const s=document.getElementById("loadingModal");if(null===s)return;new o.u_(s).hide();const n=document.getElementById("errorModalContent");if(void 0===n)return;if(n.innerHTML=`<strong>HTML ISSUE:</strong> We could not save the new ${r}-${t}<hr>${e}`,null===document.getElementById("errorModal"))return;const a=new o.u_(a);a.show()},showValidationErrorModal(){document.getElementById("errorModalContent").innerHTML="<strong>FORM ISSUE:</strong> Sorry, but can you please fill out the form completely.",new o.u_(document.getElementById("errorModal")).show()}}}},9113:(e,r,t)=>{t.d(r,{Z:()=>o});const o={methods:{searchTrigger(e){""!==e.searchTimeout&&clearTimeout(e.searchTimeout),void 0===e.search?this.searchUndefined(e):this.searchDefined(e)},searchDefined(e){e.search.length>=3&&(e.searchTimeout=setTimeout(e.return_function,500,e.search,e.loading))},searchUndefined(e){e.searchTimeout=setTimeout(e.return_function,500)}}}}}]);