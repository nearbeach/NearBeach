"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[2158],{6262:(s,e)=>{e.A=(s,e)=>{const a=s.__vccOpts||s;for(const[s,o]of e)a[s]=o;return a}},7913:(s,e,a)=>{a.r(e),a.d(e,{default:()=>C});var o=a(641),t=a(3751);const d={class:"card"},r={class:"card-body"},l={class:"row"},n={class:"col-md-8"},i={class:"modal fade",id:"passwordResetModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},c={class:"modal-dialog"},p={class:"modal-content"},u={class:"modal-body"},w={class:"row"},h={class:"col-md-6"},k={class:"col-md-6"},m={class:"row"},b={class:"col-md-12"},L={key:0,class:"col-md-12"},v={class:"modal-footer"},g=["disabled"];var y=a(9336),M=a(2124),f=a(9639),P=a(3855);const U={name:"ResetUserPassword",setup:()=>({v$:(0,f.Ay)()}),components:{ValidationRendering:a(404).A},props:{location:{type:String,default:"/"},username:{type:Number,default:0}},data:()=>({password1Model:"",password2Model:""}),validations:{password1Model:{required:P.mw,minLength:(0,P.Bp)(8)}},watch:{password1Model(){this.v$.$validate()},password2Model(){this.v$.$validate()}},computed:{...(0,M.L8)({rootUrl:"getRootUrl"}),disableButton(){const s=this.password1Model===this.password2Model,e=this.password1Model.length>=8;return!(s&&!0===e)}},methods:{closeModal(){this.password1Model="",this.password2Model="",document.getElementById("passwordResetCloseButton").click()},passwordResetClicked(){new y.aF(document.getElementById("passwordResetModal")).show()},updatePassword(){const s=new FormData;s.set("password",this.password1Model),s.set("username",this.username),this.$store.dispatch("newToast",{header:"Updating User Password",message:"Please wait. Updating Password",extra_classes:"bg-warning",delay:0,unique_type:"update-user-password"}),this.axios.post(`${this.rootUrl}${this.location}update_user_password/`,s).then((()=>{this.closeModal(),this.$store.dispatch("newToast",{header:"Updated User Password",message:"User Password Successfully Updated",extra_classes:"bg-success",delay:0,unique_type:"update-user-password"})})).catch((s=>{let e="There was an issue trying to save your password.";if(void 0!==s.response){e="Please fix the following issues: ";for(const[a,o]of Object.entries(s.response.data))e=`${e} ${a} - ${o[0].message} `}this.$store.dispatch("newToast",{header:"Error Updating User Password",message:e,extra_classes:"bg-danger",delay:0,unique_type:"update-user-password"})}))}}},C=(0,a(6262).A)(U,[["render",function(s,e,a,y,M,f){const P=(0,o.g2)("validation-rendering");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",d,[(0,o.Lk)("div",r,[e[6]||(e[6]=(0,o.Lk)("h2",null,"Reset Password",-1)),e[7]||(e[7]=(0,o.Lk)("hr",null,null,-1)),(0,o.Q3)(" PASSWORD "),(0,o.Lk)("div",l,[e[5]||(e[5]=(0,o.Lk)("div",{class:"col-md-4"},[(0,o.Lk)("strong",null,"Passwords"),(0,o.Lk)("p",{class:"text-instructions"}," Users have the ability to reset their password from the login page. If needed, please click on the link to be taken to the password reset form. ")],-1)),(0,o.Lk)("div",n,[(0,o.Lk)("button",{type:"button",class:"btn btn-warning",onClick:e[0]||(e[0]=(...s)=>f.passwordResetClicked&&f.passwordResetClicked(...s))}," Password Reset ")])])])]),(0,o.Q3)(" PASSWORD RESET MODAL "),(0,o.Lk)("div",i,[(0,o.Lk)("div",c,[(0,o.Lk)("div",p,[e[11]||(e[11]=(0,o.Lk)("div",{class:"modal-header"},[(0,o.Lk)("h2",null," Reset User Password "),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"passwordResetCloseButton"},[(0,o.Lk)("span",{"aria-hidden":"true"})])],-1)),(0,o.Lk)("div",u,[(0,o.Lk)("div",w,[(0,o.Lk)("div",h,[e[8]||(e[8]=(0,o.Lk)("label",null,"Password",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=s=>M.password1Model=s)},null,512),[[t.vModelText,M.password1Model]])]),(0,o.Lk)("div",k,[e[9]||(e[9]=(0,o.Lk)("label",null,"Confirm Password",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=s=>M.password2Model=s)},null,512),[[t.vModelText,M.password2Model]])])]),(0,o.Lk)("div",m,[(0,o.Lk)("div",b,[(0,o.bF)(P,{"error-list":y.v$.password1Model.$errors},null,8,["error-list"]),M.password1Model!==M.password2Model?((0,o.uX)(),(0,o.CE)("div",L,e[10]||(e[10]=[(0,o.Lk)("span",{class:"error"},"Passwords need to be the same ",-1)]))):(0,o.Q3)("v-if",!0)])])]),(0,o.Lk)("div",v,[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:e[3]||(e[3]=(...s)=>f.closeModal&&f.closeModal(...s))}," Close "),(0,o.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...s)=>f.updatePassword&&f.updatePassword(...s)),disabled:f.disableButton}," Update Password ",8,g)])])])])])}]])},404:(s,e,a)=>{a.d(e,{A:()=>r});var o=a(641),t=a(33);const d={name:"ValidationRendering",props:{errorList:{type:Array,default:()=>[]}}},r=(0,a(6262).A)(d,[["render",function(s,e,a,d,r,l){return(0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.errorList,(s=>((0,o.uX)(),(0,o.CE)("span",{class:"error",key:s.$uid},(0,t.toDisplayString)(s.$message),1)))),128)}]])}}]);