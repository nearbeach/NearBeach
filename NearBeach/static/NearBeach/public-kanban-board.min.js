"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[5943],{2094:(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});var a=t(641);const l={class:"icon"},r=["width","height"],o={name:"CarbonLink",props:{height:{type:String,default:"20px"},width:{type:String,default:"20px"}}},i=(0,t(6262).A)(o,[["render",function(e,n,t,o,i,s){return(0,a.uX)(),(0,a.CE)("span",l,[((0,a.uX)(),(0,a.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t.width,height:t.height,viewBox:"0 0 32 32"},n[0]||(n[0]=[(0,a.Lk)("path",{fill:"currentColor",d:"M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42l-1.41-1.42l-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48"},null,-1),(0,a.Lk)("path",{fill:"currentColor",d:"M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42l2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0"},null,-1)]),8,r))])}]])},7520:(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});var a=t(641);const l={class:"icon"},r=["width","height"],o={name:"CarbonInformation",props:{height:{type:String,default:"20px"},width:{type:String,default:"20px"}}},i=(0,t(6262).A)(o,[["render",function(e,n,t,o,i,s){return(0,a.uX)(),(0,a.CE)("span",l,[((0,a.uX)(),(0,a.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t.width,height:t.height,viewBox:"0 0 32 32"},n[0]||(n[0]=[(0,a.Lk)("path",{fill:"currentColor",d:"M17 22v-8h-4v2h2v6h-3v2h8v-2zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8"},null,-1),(0,a.Lk)("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14m0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4"},null,-1)]),8,r))])}]])},8407:(e,n,t)=>{t.r(n),t.d(n,{default:()=>L});var a=t(641);const l={class:"row"},r={class:"col-md-8"},o=["value"],i={class:"row"},s={class:"col-md-4"},d=["value"],c={class:"row"},u={class:"col-md-8"},p={class:"row"},m={class:"col-md-6 mt-4"},k=["value"],f={class:"col-md-6 mt-4"},v=["value"],h={class:"row"},g={class:"col-md-8"};var b=t(8838),y=t(2124);const C={name:"PublicCardInformation",components:{editor:b.A},props:{cardColumn:{type:String,default:""},cardDescription:{type:String,default:""},cardLevel:{type:String,default:""},cardPriority:{type:String,default:""},cardText:{type:String,default:""}},computed:{...(0,y.L8)({contentCss:"getContentCss",skin:"getSkin"})},data(){return{localCardDescription:this.cardDescription}},watch:{cardDescription(e){this.localCardDescription=e}}},L=(0,t(6262).A)(C,[["render",function(e,n,t,b,y,C){const L=(0,a.g2)("editor");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Q3)(" Card Text "),(0,a.Lk)("div",l,[n[2]||(n[2]=(0,a.Lk)("div",{class:"col-md-4"},[(0,a.Lk)("strong",null,"Card Title"),(0,a.Lk)("p",{class:"text-instructions"},' Write an appropriate name for the kanban card. To update click on the "Update" button. ')],-1)),(0,a.Lk)("div",r,[n[1]||(n[1]=(0,a.Lk)("label",{for:"cardText"},"Card Title",-1)),(0,a.Lk)("input",{type:"text",id:"cardText",class:"form-control",value:t.cardText,disabled:""},null,8,o)])]),n[9]||(n[9]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",i,[n[4]||(n[4]=(0,a.Lk)("div",{class:"col-md-4"},[(0,a.Lk)("strong",null,"Card Priority"),(0,a.Lk)("p",{class:"text-instructions"}," Define what the priority of the card is. ")],-1)),(0,a.Lk)("div",s,[n[3]||(n[3]=(0,a.Lk)("label",{for:"cardPriority"}," Card Priority ",-1)),(0,a.Lk)("input",{type:"text",id:"cardPriority",class:"form-control",value:t.cardPriority,disabled:""},null,8,d)])]),n[10]||(n[10]=(0,a.Lk)("hr",null,null,-1)),(0,a.Q3)(" CARD LOCATION "),(0,a.Lk)("div",c,[n[7]||(n[7]=(0,a.Lk)("div",{class:"col-md-4"},[(0,a.Lk)("strong",null,"Card Location"),(0,a.Lk)("p",{class:"text-instructions"}," Select the appropriate location for this card. ")],-1)),(0,a.Lk)("div",u,[(0,a.Lk)("div",p,[(0,a.Lk)("div",m,[n[5]||(n[5]=(0,a.Lk)("label",{for:"cardColumn"}," Card Column ",-1)),(0,a.Lk)("input",{type:"text",id:"cardColumn",class:"form-control",value:t.cardColumn,disabled:""},null,8,k)]),(0,a.Lk)("div",f,[n[6]||(n[6]=(0,a.Lk)("label",{for:"cardLevel"}," Card Level ",-1)),(0,a.Lk)("input",{type:"text",id:"cardLevel",class:"form-control",value:t.cardLevel,disabled:""},null,8,v)])])])]),n[11]||(n[11]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",h,[n[8]||(n[8]=(0,a.Lk)("div",{class:"col-md-4"},[(0,a.Lk)("strong",null,"Card Description"),(0,a.Lk)("p",{class:"text-instructions"},' Fill out a detailed description for the card, then click on the "Update Card" button to update the card. ')],-1)),(0,a.Lk)("div",g,[(0,a.bF)(L,{"license-key":"gpl",init:{license_key:"gpl",height:300,menubar:!1,plugins:["lists","image","codesample","table"],toolbar:"undo redo | blocks | bold italic strikethrough underline backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | table image codesample",skin:`${this.skin}`,content_css:`${this.contentCss}`,relative_urls:!1},modelValue:y.localCardDescription,"onUpdate:modelValue":n[0]||(n[0]=e=>y.localCardDescription=e),disabled:!0},null,8,["init","modelValue"])])])],64)}]])},8782:(e,n,t)=>{t.r(n),t.d(n,{default:()=>D});var a=t(641),l=t(33);const r={class:"kanban-header"},o={class:"kanban-header-row"},i={class:"kanban-header-row kanban-sticky-row",style:{display:"none"}},s={class:"kanban-level-div"},d={class:"kanban-row"},c={class:"modal fade modal-xl",id:"kanbanCardModal",tabindex:"-1",role:"dialog","aria-labelledby":"kanbanCardModalTitle","aria-hidden":"true"},u={class:"modal-dialog modal-dialog-centered",role:"document"},p={class:"modal-content"},m={class:"modal-header"},k={class:"modal-title",id:"kanbanCardModalHeader"},f={class:"modal-body"};var v=t(3913);const h={class:"list-group kanban-cell"},g=["id"],b={key:1,class:"tag-list"};var y=t(7520),C=t(2094);const L={name:"PublicKanbanColumn",components:{CarbonInformation:y.default,CarbonLink:C.default},emits:["card_clicked"],props:{masterList:{type:Array,default:()=>[]}},data:()=>({priorityList:["highest","high","normal","low","lowest"]}),methods:{doubleClickCard(e){this.$emit("card_clicked",parseInt(e.target.id))},isLinkedObject(e){let n="";return null!==e.fields.project&&(n="project"),null!==e.fields.requirement&&(n="requirement"),null!==e.fields.task&&(n="task"),n},singleClickCard(e){this.$emit("card_clicked",e)}}};var w=t(6262);const E=(0,w.A)(L,[["render",function(e,n,t,r,o,i){const s=(0,a.g2)("carbon-link"),d=(0,a.g2)("carbon-information");return(0,a.uX)(),(0,a.CE)("div",h,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.masterList,(t=>((0,a.uX)(),(0,a.CE)("div",{class:"list-group-item",key:t.pk,id:t.pk,onDblclick:n[0]||(n[0]=e=>i.doubleClickCard(e))},[(0,a.Lk)("div",{class:(0,l.normalizeClass)(`card-priority-line priority-${e.priorityList[t.fields.kanban_card_priority]}`)},null,2),i.isLinkedObject(t)?((0,a.uX)(),(0,a.Wv)(s,{key:0,"data-sort-number":t.fields.kanban_card_sort_number,"data-card-id":t.pk,class:"card-external-link"},null,8,["data-sort-number","data-card-id"])):(0,a.Q3)("v-if",!0),(0,a.Lk)("b",null,"#"+(0,l.toDisplayString)(t.pk),1),n[1]||(n[1]=(0,a.Lk)("br",null,null,-1)),(0,a.eW)(" "+(0,l.toDisplayString)(t.fields.kanban_card_text)+" ",1),t.tag_list.length>0?((0,a.uX)(),(0,a.CE)("div",b,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.tag_list,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.tag_assignment_id,style:(0,l.normalizeStyle)(`background-color:${e.tag_colour};color:${e.tag_text_colour};`),class:"single-tag-thin"},(0,l.toDisplayString)(e.tag_name),5)))),128))])):(0,a.Q3)("v-if",!0),(0,a.bF)(d,{class:"kanban-card-info-icon",width:"25px",height:"25px",onClick:e=>i.singleClickCard(t.pk),onDblclick:e=>i.singleClickCard(t.pk)},null,8,["onClick","onDblclick"])],40,g)))),128))])}]]);var x=t(8407),S=t(9336),_=t(9581);const I={name:"PublicKanbanBoard",components:{NConfigProvider:v.A,PublicCardInformation:x.default,PublicKanbanColumn:E},props:{columnResults:{type:Array,default:()=>[]},kanbanBoardResults:{type:Array,default:()=>[]},kanbanCardResults:{type:Array,default:()=>[]},levelResults:{type:Array,default:()=>[]},tagResults:{type:Array,default:()=>[]},theme:{type:String,default:""}},data:()=>({cardColumn:"",cardId:"0",cardDescription:"",cardLevel:"",cardPriority:"",cardText:"",listPriority:[{label:"Highest",value:0},{label:"High",value:1},{label:"Normal",value:2},{label:"Low",value:3},{label:"Lowest",value:4}],localKanbanCardResults:[]}),created(){window.addEventListener("resize",this.resizeProcedure),window.addEventListener("scroll",this.scrollProcedure)},unmounted(){window.removeEventListener("resize",this.resizeProcedure),window.removeEventListener("scroll",this.scrollProcedure)},methods:{useNBTheme:_.p,cardClicked(e){let n=this.kanbanCardResults.filter((n=>parseInt(n.pk)===parseInt(e)));0!==n.length&&(n=n[0],this.cardColumn=this.getColumn(n.fields.kanban_column),this.cardId=`${e}`,this.cardDescription=n.fields.kanban_card_description,this.cardLevel=this.getLevel(n.fields.kanban_level),this.cardPriority=this.getPriorty(n.fields.kanban_card_priority),this.cardText=`${n.fields.kanban_card_text}`,new S.aF(document.getElementById("kanbanCardModal")).show())},getColumn(e){const n=this.columnResults.filter((n=>parseInt(n.pk)===parseInt(e)));return 0===n.length?"Unknown":n[0].fields.kanban_column_name},getLevel(e){const n=this.levelResults.filter((n=>parseInt(n.pk)===parseInt(e)));return 0===n.length?"Unknown":n[0].fields.kanban_level_name},getPriorty(e){const n=this.listPriority.filter((n=>parseInt(n.value)===parseInt(e)));return 0===n.length?"Unknown":n[0].label},filterCards(e,n){return this.localKanbanCardResults.filter((t=>{const a=parseInt(t.fields.kanban_column)===parseInt(e),l=parseInt(t.fields.kanban_level)===parseInt(n);return a&&l}))},resizeProcedure(){const e=2*(this.columnResults.length-1),n=400*this.columnResults.length+e,t=document.getElementsByClassName("kanban-container")[0];if(void 0===t)return;const a=t.clientWidth;if(n<a){const e=document.getElementsByClassName("kanban-edit-text")[0],t=document.getElementsByClassName("kanban-level-div");if(Array.from(t).forEach((e=>{e.style=`max-width: ${n}px;`})),void 0===e)return;e.style=`max-width: ${n}px`}else{const e=t.scrollWidth,n=document.getElementsByClassName("kanban-edit-text")[0],a=document.getElementsByClassName("kanban-level-div");if(Array.from(a).forEach((n=>{n.style=`width: ${e}px;`})),void 0===n)return;n.style=`max-width: ${e}px`}},scrollProcedure(){const e=document.getElementsByClassName("kanban-sticky-row")[0],n=document.getElementsByClassName("kanban-container")[0];e.scrollLeft=n.scrollLeft;const t=document.getElementById("kanban_container").scrollTop;e.style.display=t<90?"none":""}},mounted(){this.localKanbanCardResults=this.kanbanCardResults.map((e=>(e.tag_list=this.tagResults.filter((n=>parseInt(n.kanban_card_id)===parseInt(e.pk))),e))),this.$nextTick((()=>{this.resizeProcedure()}))}},D=(0,w.A)(I,[["render",function(e,n,t,v,h,g){const b=(0,a.g2)("public-kanban-column"),y=(0,a.g2)("n-config-provider"),C=(0,a.g2)("public-card-information");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(y,{theme:g.useNBTheme(t.theme)},{default:(0,a.k6)((()=>[(0,a.Lk)("h1",r,(0,l.toDisplayString)(t.kanbanBoardResults[0].fields.kanban_board_name),1),n[2]||(n[2]=(0,a.Lk)("br",null,null,-1)),(0,a.Lk)("div",{id:"kanban_container",class:"kanban-container",onScroll:n[1]||(n[1]=(...e)=>g.scrollProcedure&&g.scrollProcedure(...e))},[(0,a.Q3)(" Render out the header "),(0,a.Lk)("div",o,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.columnResults,(e=>((0,a.uX)(),(0,a.CE)("div",{class:"kanban-column-header",key:e.pk},(0,l.toDisplayString)(e.fields.kanban_column_name),1)))),128))]),(0,a.Q3)(" Render out the STICKY header "),(0,a.Lk)("div",i,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.columnResults,(e=>((0,a.uX)(),(0,a.CE)("div",{class:"kanban-column-header",key:e.pk},(0,l.toDisplayString)(e.fields.kanban_column_name),1)))),128))]),(0,a.Q3)(" Render each row "),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.levelResults,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.pk},[(0,a.Q3)(" CREATE THE LEVEL HEADER "),(0,a.Lk)("div",s,(0,l.toDisplayString)(e.fields.kanban_level_name),1),(0,a.Lk)("div",d,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.columnResults,(t=>((0,a.uX)(),(0,a.Wv)(b,{key:t.pk,"master-list":g.filterCards(t.pk,e.pk),onCard_clicked:n[0]||(n[0]=e=>g.cardClicked(e))},null,8,["master-list"])))),128))])])))),128))],32)])),_:1},8,["theme"]),(0,a.Q3)(" Modal "),(0,a.Lk)("div",c,[(0,a.Lk)("div",u,[(0,a.Lk)("div",p,[(0,a.Lk)("div",m,[(0,a.Lk)("h5",k," Kanban Card "+(0,l.toDisplayString)(e.cardId),1),n[3]||(n[3]=(0,a.Lk)("button",{type:"button",class:"btn-close","aria-label":"Close","data-bs-dismiss":"modal"},null,-1))]),(0,a.Lk)("div",f,[(0,a.bF)(C,{"card-column":e.cardColumn,"card-id":e.cardId,"card-description":e.cardDescription,"card-level":e.cardLevel,"card-priority":e.cardPriority,"card-text":e.cardText,theme:"light","user-level":1},null,8,["card-column","card-id","card-description","card-level","card-priority","card-text"])]),n[4]||(n[4]=(0,a.Lk)("div",{class:"modal-footer"},[(0,a.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])])],64)}]])},8838:(e,n,t)=>{t.d(n,{A:()=>h});var a,l=t(641),r=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],o=function(e){return-1!==r.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())},i=0,s=function(e){var n=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++i+String(n)},d=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},c=function(){return{listeners:[],scriptId:s("tiny-script"),scriptLoaded:!1}},u=(a=c(),{load:function(e,n,t){a.scriptLoaded?t():(a.listeners.push(t),e.getElementById(a.scriptId)||function(e,n,t){var l=n.createElement("script");l.referrerPolicy="origin",l.type="application/javascript",l.id=e,l.src=t;var r=function(){l.removeEventListener("load",r),a.listeners.forEach((function(e){return e()})),a.scriptLoaded=!0};l.addEventListener("load",r),n.head&&n.head.appendChild(l)}(a.scriptId,e,n))},reinitialize:function(){a=c()}}),p=function(){var e="undefined"!=typeof window?window:t.g;return e&&e.tinymce?e.tinymce:null},m={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},k=t(953),f=function(){return f=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var l in n=arguments[t])Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l]);return e},f.apply(this,arguments)},v={selector:void 0,target:void 0};const h=(0,l.pM)({props:m,setup:function(e,n){var t=e.init?f(f({},e.init),v):f({},v),a=(0,k.QW)(e),r=a.disabled,i=a.modelValue,c=a.tagName,m=(0,k.KR)(null),h=null,g=e.id||s("tiny-vue"),b=e.init&&e.init.inline||e.inline,y=!!n.attrs["onUpdate:modelValue"],C=!0,L=e.initialValue?e.initialValue:"",w="",E=function(){var a,r,s,c=(a=C,y?function(){return(null==i?void 0:i.value)?i.value:""}:function(){return a?L:w}),u=f(f({},t),{readonly:e.disabled,target:m.value,plugins:(r=t.plugins,s=e.plugins,d(r).concat(d(s))),toolbar:e.toolbar||t.toolbar,inline:b,license_key:e.licenseKey,setup:function(a){h=a,a.on("init",(function(t){return function(e,n,t,a,r,i){a.setContent(i()),t.attrs["onUpdate:modelValue"]&&function(e,n,t,a){var r=e.modelEvents?e.modelEvents:null,o=Array.isArray(r)?r.join(" "):r;(0,l.wB)(a,(function(n,a){t&&"string"==typeof n&&n!==a&&n!==t.getContent({format:e.outputFormat})&&t.setContent(n)})),t.on(o||"change input undo redo",(function(){n.emit("update:modelValue",t.getContent({format:e.outputFormat}))}))}(n,t,a,r),function(e,n,t){Object.keys(n).filter(o).forEach((function(a){var l=n[a];"function"==typeof l&&("onInit"===a?l(e,t):t.on(a.substring(2),(function(e){return l(e,t)})))}))}(e,t.attrs,a)}(t,e,n,a,i,c)})),"function"==typeof t.setup&&t.setup(a)}});(function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()})(m.value)&&(m.value.style.visibility=""),p().init(u),C=!1};return(0,l.wB)(r,(function(e){var n;null!==h&&("function"==typeof(null===(n=h.mode)||void 0===n?void 0:n.set)?h.mode.set(e?"readonly":"design"):h.setMode(e?"readonly":"design"))})),(0,l.wB)(c,(function(e){var n;y||(w=h.getContent()),null===(n=p())||void 0===n||n.remove(h),(0,l.dY)((function(){return E()}))})),(0,l.sV)((function(){if(null!==p())E();else if(m.value&&m.value.ownerDocument){var n=e.cloudChannel?e.cloudChannel:"7",t=e.apiKey?e.apiKey:"no-api-key",a=null==e.tinymceScriptSrc?"https://cdn.tiny.cloud/1/".concat(t,"/tinymce/").concat(n,"/tinymce.min.js"):e.tinymceScriptSrc;u.load(m.value.ownerDocument,a,E)}})),(0,l.xo)((function(){null!==p()&&p().remove(h)})),b||((0,l.n)((function(){C||E()})),(0,l.Y4)((function(){var e;y||(w=h.getContent()),null===(e=p())||void 0===e||e.remove(h)}))),n.expose({rerender:function(e){var n;w=h.getContent(),null===(n=p())||void 0===n||n.remove(h),t=f(f(f({},t),e),v),(0,l.dY)((function(){return E()}))},getEditor:function(){return h}}),function(){return b?function(e,n,t,a){return e(a||"div",{id:n,ref:t})}(l.h,g,m,e.tagName):(0,l.h)("textarea",{id:g,visibility:"hidden",ref:m})}}})},9581:(e,n,t)=>{t.d(n,{p:()=>r});var a=t(953),l=t(166);function r(e){return"dark"===(0,a.BA)(e)?l.a:null}}}]);