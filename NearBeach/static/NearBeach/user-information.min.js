"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[4871],{6262:(e,s)=>{s.A=(e,s)=>{const t=e.__vccOpts||e;for(const[e,l]of s)t[e]=l;return t}},8689:(e,s,t)=>{t.r(s),t.d(s,{default:()=>S});var l=t(641),a=t(33),r=t(3751);const i={class:"card"},o={class:"card-body"},n=["href"],d={class:"row"},u={class:"col-md-8"},c={class:"row"},m={class:"col-md-8"},p={class:"row"},h={class:"col-md-6"},k={for:"first-name"},v={class:"col-md-6"},L={for:"last-name"},f={class:"col-md-6 mt-4"},g={for:"email"},U={class:"row"},y={class:"col-md-8"},b={class:"row"},M={class:"col-md-8"},x={class:"row submit-row"},_={class:"col-md-12"};var $=t(9639),R=t(3855),w=t(404);const A={name:"UserInformation",setup:()=>({v$:(0,$.Ay)()}),props:{userResults:{type:Array,default:()=>[]},rootUrl:{type:String,default:"/"}},components:{ValidationRendering:w.A},data(){return{emailModel:this.userResults[0].fields.email,isActiveModel:this.userResults[0].fields.is_active,isSuperuserModel:this.userResults[0].fields.is_superuser,firstNameModel:this.userResults[0].fields.first_name,lastNameModel:this.userResults[0].fields.last_name}},validations:{lastNameModel:{required:R.mw,maxLength:(0,R.Ru)(255)},firstNameModel:{required:R.mw,maxLength:(0,R.Ru)(255)},emailModel:{required:R.mw,email:R.Rp,maxLength:(0,R.Ru)(255)}},methods:{updateUser(){if(this.v$.$touch(),this.v$.$invalid)return void this.$store.dispatch("newToast",{header:"Please check all fields",message:"Failed validation. Please check all fields are validated",extra_classes:"bg-danger",delay:0,unique_type:"update_user"});this.$store.dispatch("newToast",{header:"Updating Current User",message:"Currently Updating User",extra_classes:"bg-warning text-dark",delay:0,unique_type:"update_user"});const e=new FormData;e.set("email",this.emailModel),e.set("is_active",this.isActiveModel),e.set("is_superuser",this.isSuperuserModel),e.set("first_name",this.firstNameModel),e.set("last_name",this.lastNameModel),this.axios.post(`${this.rootUrl}user_information/${this.userResults[0].pk}/save/`,e).then((()=>{this.$store.dispatch("newToast",{header:"User Updated",message:"User successfully updated",extra_classes:"bg-success",unique_type:"update_user"})})).catch((e=>{this.$store.dispatch("newToast",{header:"Failed Updating Users",message:`Sorry. Failed updating your user. Error -> ${e}`,extra_classes:"bg-danger",delay:0,unique_type:"update_user"})}))}},mounted(){this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl})}},S=(0,t(6262).A)(A,[["render",function(e,s,t,$,R,w){const A=(0,l.g2)("validation-rendering");return(0,l.uX)(),(0,l.CE)("div",i,[(0,l.Lk)("div",o,[s[17]||(s[17]=(0,l.Lk)("h1",{class:"mb-4"},"User Information",-1)),(0,l.Lk)("a",{href:`${this.rootUrl}search/user/`},"Go back to user list",8,n),s[18]||(s[18]=(0,l.Lk)("hr",null,null,-1)),(0,l.Q3)(" USERNAME "),(0,l.Lk)("div",d,[s[8]||(s[8]=(0,l.Lk)("div",{class:"col-md-4"},[(0,l.Lk)("strong",null,"UserName"),(0,l.Lk)("p",{class:"text-instructions"}," The username is set and can not be changed from this location. If you need to change the username, please go to the Django Admin Panel. "),(0,l.Lk)("p",{class:"text-instructions"}," The ID is the primary key assigned to the username. This can not be edited. It can be ignored. ")],-1)),(0,l.Lk)("div",u,[s[6]||(s[6]=(0,l.Lk)("strong",null,"Username:",-1)),(0,l.eW)(" "+(0,a.toDisplayString)(t.userResults[0].fields.username)+" ",1),s[7]||(s[7]=(0,l.Lk)("strong",null," | ID:",-1)),(0,l.eW)(" "+(0,a.toDisplayString)(t.userResults[0].pk),1)])]),(0,l.Q3)(" USER DETAILS "),s[19]||(s[19]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("div",c,[s[12]||(s[12]=(0,l.Lk)("div",{class:"col-md-4"},[(0,l.Lk)("strong",null,"User Details"),(0,l.Lk)("p",{class:"text-instructions"}," Please fill out the user details. ")],-1)),(0,l.Lk)("div",m,[(0,l.Lk)("div",p,[(0,l.Lk)("div",h,[(0,l.Lk)("label",k,[s[9]||(s[9]=(0,l.eW)(" First Name: ")),(0,l.bF)(A,{"error-list":$.v$.firstNameModel.$errors},null,8,["error-list"])]),(0,l.bo)((0,l.Lk)("input",{id:"first-name",type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>R.firstNameModel=e),class:"form-control"},null,512),[[r.vModelText,R.firstNameModel]])]),(0,l.Lk)("div",v,[(0,l.Lk)("label",L,[s[10]||(s[10]=(0,l.eW)(" Last Name: ")),(0,l.bF)(A,{"error-list":$.v$.lastNameModel.$errors},null,8,["error-list"])]),(0,l.bo)((0,l.Lk)("input",{id:"last-name",type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>R.lastNameModel=e),class:"form-control"},null,512),[[r.vModelText,R.lastNameModel]])]),(0,l.Lk)("div",f,[(0,l.Lk)("label",g,[s[11]||(s[11]=(0,l.eW)(" Email: ")),(0,l.bF)(A,{"error-list":$.v$.emailModel.$errors},null,8,["error-list"])]),(0,l.bo)((0,l.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":s[2]||(s[2]=e=>R.emailModel=e),class:"form-control"},null,512),[[r.vModelText,R.emailModel]])])])])]),s[20]||(s[20]=(0,l.Lk)("hr",null,null,-1)),(0,l.Q3)(" Active USER "),(0,l.Lk)("div",U,[s[14]||(s[14]=(0,l.Lk)("div",{class:"col-md-4"},[(0,l.Lk)("strong",null,"Active User"),(0,l.Lk)("p",{class:"text-instructions"}," Untick this option if the user is no longer active. ")],-1)),(0,l.Lk)("div",y,[s[13]||(s[13]=(0,l.Lk)("label",null,"Is User Active? ",-1)),(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":s[3]||(s[3]=e=>R.isActiveModel=e)},null,512),[[r.vModelCheckbox,R.isActiveModel]])])]),s[21]||(s[21]=(0,l.Lk)("hr",null,null,-1)),(0,l.Q3)(" User is SUPER "),(0,l.Lk)("div",b,[s[16]||(s[16]=(0,l.Lk)("div",{class:"col-md-4"},[(0,l.Lk)("strong",null,"Is User a Superuser"),(0,l.Lk)("p",{class:"text-instructions"}," Tick this functionality if you would like the user to gain access to the /admin/ functionality. This is not recommended for anyone outside of an IT team. ")],-1)),(0,l.Lk)("div",M,[s[15]||(s[15]=(0,l.Lk)("label",null,"Is User a Superuser? ",-1)),(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=e=>R.isSuperuserModel=e)},null,512),[[r.vModelCheckbox,R.isSuperuserModel]])])]),s[22]||(s[22]=(0,l.Lk)("hr",null,null,-1)),(0,l.Q3)(" UPDATE USER "),(0,l.Lk)("div",x,[(0,l.Lk)("div",_,[(0,l.Lk)("a",{href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:s[5]||(s[5]=(...e)=>w.updateUser&&w.updateUser(...e))}," Update User Details ")])])])])}]])},404:(e,s,t)=>{t.d(s,{A:()=>i});var l=t(641),a=t(33);const r={name:"ValidationRendering",props:{errorList:{type:Array,default:()=>[]}}},i=(0,t(6262).A)(r,[["render",function(e,s,t,r,i,o){return(0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.errorList,(e=>((0,l.uX)(),(0,l.CE)("span",{class:"error",key:e.$uid},(0,a.toDisplayString)(e.$message),1)))),128)}]])}}]);