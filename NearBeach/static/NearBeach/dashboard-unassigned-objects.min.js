"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[8440],{246:(e,t,s)=>{s.d(t,{y:()=>i});var a=s(6285),r=s(953);function i(e){const t=(0,r.BA)(e);return""===t||null==t?"":a.c9.fromISO(t).toLocaleString(a.c9.DATETIME_MED)}},4713:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var a=s(641);const r={class:"card"},i={class:"card-body"},o={key:0,class:"alert alert-dark"},l={key:4,class:"alert alert-primary"},c={name:"DashboardUnassignedObjects",components:{RenderObjectCard:s(6703).A},props:{rootUrl:{type:String,default:"/"}},data:()=>({isLoaded:!1,objectResults:{requirement:[],project:[],task:[]},projectVariables:{header:"Projects",prefix:"Pro",id:"project_id",title:"project_name",status:"project_status__project_status",end_date:"project_end_date"},requirementVariables:{header:"Your Requirements",prefix:"Req",id:"requirement_id",title:"requirement_title",status:"requirement_status__requirement_status",end_date:""},taskVariables:{header:"Tasks",prefix:"Task",id:"task_id",title:"task_short_description",status:"task_status__task_status",end_date:"task_end_date"}}),methods:{getMyObjects(){this.axios.post(`${this.rootUrl}dashboard/get/unassigned_objects/`).then((e=>{this.objectResults=e.data,this.isLoaded=!0})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Getting Dashboard Data",message:`Can't get data for My Objects. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))}},computed:{countObjects(){return this.objectResults.requirement.length+this.objectResults.project.length+this.objectResults.task.length}},mounted(){this.getMyObjects(),this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl})}},n=(0,s(6262).A)(c,[["render",function(e,t,s,c,n,d){const u=(0,a.g2)("render-object-card");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("div",i,[t[0]||(t[0]=(0,a.Lk)("h1",null,"Unassigned Objects",-1)),t[1]||(t[1]=(0,a.Lk)("hr",null,null,-1)),n.isLoaded?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.CE)("div",o," Still obtaining a list of assigned objects ")),(0,a.Q3)(" Requirements "),n.objectResults.requirement.length>0?((0,a.uX)(),(0,a.Wv)(u,{key:1,"search-results":n.objectResults.requirement,"import-variables":n.requirementVariables,destination:"requirement"},null,8,["search-results","import-variables"])):(0,a.Q3)("v-if",!0),(0,a.Q3)(" Projects "),n.objectResults.project.length>0?((0,a.uX)(),(0,a.Wv)(u,{key:2,"search-results":n.objectResults.project,"import-variables":n.projectVariables,destination:"project"},null,8,["search-results","import-variables"])):(0,a.Q3)("v-if",!0),(0,a.Q3)(" Tasks "),n.objectResults.task.length>0?((0,a.uX)(),(0,a.Wv)(u,{key:3,"search-results":n.objectResults.task,"import-variables":n.taskVariables,destination:"task"},null,8,["search-results","import-variables"])):(0,a.Q3)("v-if",!0),(0,a.Q3)(" If there are no objects "),0===d.countObjects&&n.isLoaded?((0,a.uX)(),(0,a.CE)("div",l," Good Work - all objects have been assigned to at least one user. ")):(0,a.Q3)("v-if",!0)])])}]])},6262:(e,t)=>{t.A=(e,t)=>{const s=e.__vccOpts||e;for(const[e,a]of t)s[e]=a;return s}},6703:(e,t,s)=>{s.d(t,{A:()=>g});var a=s(641),r=s(33);const i={class:"object-card-list"},o={key:0},l={class:"object-card--detail"},c=["href","target"],n={class:"object-card--detail--link"},d={class:"object-card--detail--description"},u={class:"object-card--status"},p=["href","target"],b={class:"object-card--status--status"},h={class:"small-text"},j={key:2,class:"object-card"};var m=s(2124);const k={name:"RenderObjectCard",methods:{useNiceDatetime:s(246).y,tempTranslate:e=>"kanban_board"===e?"kanban":e},props:{destination:{type:String,default:""},importVariables:{type:Object,default:()=>({header:"",prefix:"",id:0,title:"",status:""})},searchResults:{type:Array,default:()=>[]},target:{type:String,default:""}},computed:{...(0,m.L8)({rootUrl:"getRootUrl"})}},g=(0,s(6262).A)(k,[["render",function(e,t,s,m,k,g){return(0,a.uX)(),(0,a.CE)("div",i,[""!==s.importVariables.header?((0,a.uX)(),(0,a.CE)("h2",o,(0,r.toDisplayString)(s.importVariables.header),1)):(0,a.Q3)("v-if",!0),s.searchResults.length>0?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:1},(0,a.pI)(s.searchResults,(t=>((0,a.uX)(),(0,a.CE)("div",{class:"object-card",key:t.pk},[(0,a.Lk)("div",l,[(0,a.Lk)("a",{href:`${e.rootUrl}${g.tempTranslate(s.destination)}_information/${t[s.importVariables.id]}/`,target:s.target},[(0,a.Lk)("div",n,(0,r.toDisplayString)(s.importVariables.prefix)+(0,r.toDisplayString)(t[s.importVariables.id]),1),(0,a.Lk)("div",d,(0,r.toDisplayString)(t[s.importVariables.title]),1)],8,c)]),(0,a.Lk)("div",u,[(0,a.Lk)("a",{href:`${e.rootUrl}${s.destination}_information/${t[s.importVariables.id]}/`,target:s.target},[(0,a.Lk)("div",b,(0,r.toDisplayString)(t[s.importVariables.status]),1),(0,a.Lk)("p",h,(0,r.toDisplayString)(g.useNiceDatetime(t[s.importVariables.end_date])),1)],8,p)])])))),128)):(0,a.Q3)("v-if",!0),(0,a.Q3)(" Loading state "),0===s.searchResults.length?((0,a.uX)(),(0,a.CE)("div",j,t[0]||(t[0]=[(0,a.Fv)('<div class="object-card--detail"><p class="card-text placeholder-glow"><span class="placeholder col-1"></span><span class="placeholder col-12"></span></p></div><div class="object-card--status"></div>',2)]))):(0,a.Q3)("v-if",!0)])}]])}}]);