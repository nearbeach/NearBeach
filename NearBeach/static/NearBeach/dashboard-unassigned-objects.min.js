"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[8940],{3744:(e,t)=>{t.Z=(e,t)=>{const s=e.__vccOpts||e;for(const[e,a]of t)s[e]=a;return s}},3080:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(6252);const r={class:"card"},i={class:"card-body"},o=(0,a._)("h1",null,"Unassigned Objects",-1),l=(0,a._)("hr",null,null,-1),n={key:0,class:"alert alert-dark"},c={key:4,class:"alert alert-primary"},d={name:"DashboardUnassignedObjects",components:{RenderObjectCard:s(7819).Z},props:{rootUrl:{type:String,default:"/"}},data:()=>({isLoaded:!1,objectResults:{requirement:[],project:[],task:[]},projectVariables:{header:"Projects",prefix:"Pro",id:"project_id",title:"project_name",status:"project_status__project_status",end_date:"project_end_date"},requirementVariables:{header:"Your Requirements",prefix:"Req",id:"requirement_id",title:"requirement_title",status:"requirement_status__requirement_status",end_date:""},taskVariables:{header:"Tasks",prefix:"Task",id:"task_id",title:"task_short_description",status:"task_status__task_status",end_date:"task_end_date"}}),methods:{getMyObjects(){this.axios.post(`${this.rootUrl}dashboard/get/unassigned_objects/`).then((e=>{this.objectResults=e.data,this.isLoaded=!0})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Getting Dashboard Data",message:`Can't get data for My Objects. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))}},computed:{countObjects(){return this.objectResults.requirement.length+this.objectResults.project.length+this.objectResults.task.length}},mounted(){this.getMyObjects(),this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl})}},u=(0,s(3744).Z)(d,[["render",function(e,t,s,d,u,b){const p=(0,a.up)("render-object-card");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",i,[o,l,u.isLoaded?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("div",n," Still obtaining a list of assigned objects ")),(0,a.kq)(" Requirements "),u.objectResults.requirement.length>0?((0,a.wg)(),(0,a.j4)(p,{key:1,"search-results":u.objectResults.requirement,"import-variables":u.requirementVariables,destination:"requirement"},null,8,["search-results","import-variables"])):(0,a.kq)("v-if",!0),(0,a.kq)(" Projects "),u.objectResults.project.length>0?((0,a.wg)(),(0,a.j4)(p,{key:2,"search-results":u.objectResults.project,"import-variables":u.projectVariables,destination:"project"},null,8,["search-results","import-variables"])):(0,a.kq)("v-if",!0),(0,a.kq)(" Tasks "),u.objectResults.task.length>0?((0,a.wg)(),(0,a.j4)(p,{key:3,"search-results":u.objectResults.task,"import-variables":u.taskVariables,destination:"task"},null,8,["search-results","import-variables"])):(0,a.kq)("v-if",!0),(0,a.kq)(" If there are no objects "),0===b.countObjects&&u.isLoaded?((0,a.wg)(),(0,a.iD)("div",c," Good Work - all objects have been assigned to at least one user. ")):(0,a.kq)("v-if",!0)])])}]])},7819:(e,t,s)=>{s.d(t,{Z:()=>m});var a=s(6252),r=s(3577);const i={class:"object-card-list"},o={class:"object-card--detail"},l=["href"],n={class:"object-card--detail--link"},c={class:"object-card--detail--description"},d={class:"object-card--status"},u={class:"object-card--status--status"},b={class:"small-text"};var p=s(431),h=s(989);const j={name:"RenderObjectCard",props:{destination:{type:String,default:""},importVariables:{type:Object,default:()=>({header:"",prefix:"",id:0,title:"",status:""})},searchResults:{type:Array,default:()=>[]}},mixins:[p.Z],computed:{...(0,h.Se)({rootUrl:"getRootUrl"})}},m=(0,s(3744).Z)(j,[["render",function(e,t,s,p,h,j){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("h2",null,(0,r.toDisplayString)(s.importVariables.header),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.searchResults,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"object-card",key:t.pk},[(0,a._)("div",o,[(0,a._)("a",{href:`${e.rootUrl}${s.destination}_information/${t[s.importVariables.id]}/`},[(0,a._)("div",n,(0,r.toDisplayString)(s.importVariables.prefix)+(0,r.toDisplayString)(t[s.importVariables.id]),1),(0,a._)("div",c,(0,r.toDisplayString)(t[s.importVariables.title]),1)],8,l)]),(0,a._)("div",d,[(0,a._)("div",u,(0,r.toDisplayString)(t[s.importVariables.status]),1),(0,a._)("p",b,(0,r.toDisplayString)(e.getNiceDate(t[s.importVariables.end_date])),1)])])))),128))])}]])},431:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(7126);const r={methods:{getNiceDate:e=>""===e||null==e?"":a.ou.fromISO(e).toLocaleString(a.ou.DATETIME_MED),disableDate(e){const t=new Date;return t.setMilliseconds(0),t.setSeconds(0),t.setHours(0),e<=t.getTime()-36e5}}}}}]);