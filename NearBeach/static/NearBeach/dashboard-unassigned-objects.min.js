"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[8940],{3744:(e,t)=>{t.Z=(e,t)=>{const r=e.__vccOpts||e;for(const[e,s]of t)r[e]=s;return r}},2730:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var s=r(6252);const a={class:"card"},o={class:"card-body"},l=(0,s._)("h1",null,"Unassigned Objects",-1),i=(0,s._)("hr",null,null,-1),n={key:0,class:"alert alert-dark"},d={key:4,class:"alert alert-primary"};var u=r(3058),c=r(7742);const p=r(9669),b={name:"DashboardUnassignedObjects",components:{RenderObjectTable:c.Z},props:{rootUrl:{type:String,default:"/"}},data:()=>({isLoaded:!1,objectResults:{requirement:[],project:[],task:[]},projectVariables:{header:"Projects",prefix:"Pro",id:"project_id",title:"project_name",status:"project_status",end_date:"project_end_date"},requirementVariables:{header:"Your Requirements",prefix:"Req",id:"requirement_id",title:"requirement_title",status:"requirement_status__requirement_status",end_date:""},taskVariables:{header:"Tasks",prefix:"Task",id:"task_id",title:"task_short_description",status:"task_status",end_date:"task_end_date"}}),mixins:[u.Z],methods:{getMyObjects:function(){p.post(`${this.rootUrl}dashboard/get/unassigned_objects/`).then((e=>{this.objectResults=e.data,this.isLoaded=!0})).catch((e=>{this.showErrorModal(e,"Dashboard Unassigned Objects")}))}},computed:{countObjects:function(){return this.objectResults.requirement.length+this.objectResults.project.length+this.objectResults.task.length}},mounted(){this.getMyObjects()}},h=(0,r(3744).Z)(b,[["render",function(e,t,r,u,c,p){const b=(0,s.up)("render-object-table");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s._)("div",o,[l,i,c.isLoaded?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("div",n," Still obtaining a list of assigned objects ")),(0,s.kq)(" Requirements "),c.objectResults.requirement.length>0?((0,s.wg)(),(0,s.j4)(b,{key:1,"search-results":c.objectResults.requirement,"import-variables":c.requirementVariables,destination:"requirement","root-url":r.rootUrl},null,8,["search-results","import-variables","root-url"])):(0,s.kq)("v-if",!0),(0,s.kq)(" Projects "),c.objectResults.project.length>0?((0,s.wg)(),(0,s.j4)(b,{key:2,"search-results":c.objectResults.project,"import-variables":c.projectVariables,destination:"project","root-url":r.rootUrl},null,8,["search-results","import-variables","root-url"])):(0,s.kq)("v-if",!0),(0,s.kq)(" Tasks "),c.objectResults.task.length>0?((0,s.wg)(),(0,s.j4)(b,{key:3,"search-results":c.objectResults.task,"import-variables":c.taskVariables,destination:"task","root-url":r.rootUrl},null,8,["search-results","import-variables","root-url"])):(0,s.kq)("v-if",!0),(0,s.kq)(" If there are no objects "),0===p.countObjects&&c.isLoaded?((0,s.wg)(),(0,s.iD)("div",d," Good Work - all objects have been assigned to at least one user. ")):(0,s.kq)("v-if",!0)])])}]])},7742:(e,t,r)=>{r.d(t,{Z:()=>m});var s=r(6252),a=r(3577);const o={class:"table"},l={width:"75%"},i=(0,s._)("td",{width:"25%"},"Status",-1),n=["href"],d=(0,s._)("div",{class:"spacer"},null,-1),u={class:"small-text"},c=(0,s._)("div",{class:"spacer"},null,-1),p={class:"small-text"};var b=r(7515);const h={name:"RenderObjectTable",props:{destination:{type:String,default:""},importVariables:{type:Object,default:()=>({header:"",prefix:"",id:0,title:"",status:""})},rootUrl:{type:String,default:"/"},searchResults:{type:Array,default:()=>[]}},data:()=>({}),mixins:[b.Z]},m=(0,r(3744).Z)(h,[["render",function(e,t,r,b,h,m){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.kq)(" TABLE OF DATA "),(0,s._)("table",o,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("td",l,(0,a.toDisplayString)(r.importVariables.header),1),i])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.searchResults,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.pk},[(0,s._)("td",null,[(0,s.kq)(" LINK "),(0,s._)("a",{href:`${r.rootUrl}${r.destination}_information/${t[r.importVariables.id]}/`},[(0,s._)("p",null,(0,a.toDisplayString)(t[r.importVariables.title]),1),d,(0,s._)("p",u,(0,a.toDisplayString)(r.importVariables.prefix)+(0,a.toDisplayString)(t[r.importVariables.id]),1)],8,n)]),(0,s._)("td",null,[(0,s.kq)(" STATUS "),(0,s._)("p",null,(0,a.toDisplayString)(t[r.importVariables.status]),1),c,(0,s._)("p",p,(0,a.toDisplayString)(e.getNiceDate(t[r.importVariables.end_date])),1)])])))),128))])])],2112)}]])},7515:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(9490);const a={methods:{getNiceDate:function(e){return s.ou.fromISO(e).toLocaleString(s.ou.DATETIME_MED)}}}},3058:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(5169);const a={methods:{showErrorModal:function(e,t,r){new s.u_(document.getElementById("loadingModal")).hide(),document.getElementById("errorModalContent").innerHTML=`<strong>HTML ISSUE:</strong> We could not save the new requirement<hr>${e}`,new s.u_(document.getElementById("errorModal")).show()},showValidationErrorModal:function(){document.getElementById("errorModalContent").innerHTML="<strong>FORM ISSUE:</strong> Sorry, but can you please fill out the form completely.",new s.u_(document.getElementById("errorModal")).show()}}}}}]);