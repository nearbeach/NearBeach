"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[645],{9726:(t,e,a)=>{a.d(e,{Z:()=>v});var s=a(6252),l=a(3577);const n={class:"row"},i={class:"col-md-4"},o=(0,s._)("strong",null,"Between Dates",-1),r={class:"text-instructions"},d={class:"col-md-4"},c={class:"form-group"},u={key:0,class:"error"},h={class:"col-md-4"},m={class:"form-group"},p={key:0,class:"error"};var f=a(8288),g=a(3766),_=a(2587);const k={name:"BetweenDates",setup:()=>({v$:(0,g.ZP)()}),components:{NDatePicker:f.Z},props:{destination:{type:String,default:""},endDateModel:{type:Number,default:()=>{let t=new Date;return t.setHours(16),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),new Date(t.setDate(t.getDate()+14)),t.getTime()}},startDateModel:{type:Number,default:()=>{let t=new Date;return t.setHours(9),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()}}},validations:{localEndDateModel:{required:_.C1},localStartDateModel:{required:_.C1}},data(){return{localEndDateModel:this.endDateModel,localStartDateModel:this.startDateModel}},methods:{emitDates:function(){this.$emit("update_dates",{start_date:this.localStartDateModel,end_date:this.localEndDateModel})}},watch:{localEndDateModel:function(){this.localEndDateModel<this.localStartDateModel&&(this.localEndDateModel=this.localStartDateModel()),this.emitDates()},localStartDateModel:function(){this.localEndDateModel<this.localStartDateModel&&(this.localStartDateModel=this.localEndDateModel()),this.emitDates()}},mounted(){this.emitDates()}},v=(0,a(3744).Z)(k,[["render",function(t,e,a,f,g,_){const k=(0,s.up)("n-date-picker");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",i,[o,(0,s._)("p",r," Choose the start and end date of the "+(0,l.toDisplayString)(a.destination)+". Please note the end date can not be earlier than the start date. They can be equal. ",1)]),(0,s._)("div",d,[(0,s._)("div",c,[(0,s._)("label",null,[(0,s.Uk)((0,l.toDisplayString)(a.destination)+" Start Date: ",1),!f.v$.localStartDateModel.$error.length>0?((0,s.wg)(),(0,s.iD)("span",u," Please select a date.")):(0,s.kq)("v-if",!0)]),(0,s.Wm)(k,{type:"datetime",value:g.localStartDateModel,"onUpdate:value":e[0]||(e[0]=t=>g.localStartDateModel=t),class:"form-control"},null,8,["value"])])]),(0,s._)("div",h,[(0,s._)("div",m,[(0,s._)("label",null,[(0,s.Uk)((0,l.toDisplayString)(a.destination)+" End Date: ",1),!f.v$.localEndDateModel.$error.length>0?((0,s.wg)(),(0,s.iD)("span",p," Please select a date.")):(0,s.kq)("v-if",!0)]),(0,s.Wm)(k,{type:"datetime",value:g.localEndDateModel,"onUpdate:value":e[1]||(e[1]=t=>g.localEndDateModel=t),class:"form-control"},null,8,["value"])])])])}]])},1974:(t,e,a)=>{a.r(e),a.d(e,{default:()=>ue});var s=a(6252);const l={class:"card"},n={class:"card-body"},i=(0,s._)("ul",{class:"nav nav-tabs",id:"misc_module_tabs",role:"tablist"},[(0,s.kq)(" RISK "),(0,s._)("li",{class:"nav-item",role:"presentation"},[(0,s._)("button",{class:"nav-link",id:"rfc-risk-tab","data-bs-toggle":"tab","data-bs-target":"#rfc-risk",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"},"Risk")]),(0,s.kq)(" IMPLEMENTATION "),(0,s._)("li",{class:"nav-item",role:"presentation"},[(0,s._)("button",{class:"nav-link",id:"rfc-implementation-tab","data-bs-toggle":"tab","data-bs-target":"#rfc-implementation",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"},"Implementation")]),(0,s.kq)(" BACKOUT PLAN "),(0,s._)("li",{class:"nav-item",role:"presentation"},[(0,s._)("button",{class:"nav-link",id:"rfc-backout-tab","data-bs-toggle":"tab","data-bs-target":"#rfc-backout",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"},"Backout Plan")]),(0,s.kq)(" TEST PLAN "),(0,s._)("li",{class:"nav-item",role:"presentation"},[(0,s._)("button",{class:"nav-link",id:"rfc-test-plan-tab","data-bs-toggle":"tab","data-bs-target":"#rfc-test",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"},"Test Plan")]),(0,s.kq)(" RUN SHEET "),(0,s._)("li",{class:"nav-item",role:"presentation"},[(0,s._)("button",{class:"nav-link active",id:"rfc-run-sheet-tab","data-bs-toggle":"tab","data-bs-target":"#rfc-run-sheet",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"},"Run Sheet")])],-1),o=(0,s._)("hr",null,null,-1),r={class:"tab-content",id:"misc_module_content"},d={class:"tab-pane fade",id:"rfc-risk",role:"tabpanel","aria-labelledby":"home-tab"},c={key:0},u={key:1,class:"row submit-row"},h={class:"col-md-12"},m={class:"tab-pane fade",id:"rfc-implementation",role:"tabpanel","aria-labelledby":"home-tab"},p={key:0},f={key:1,class:"row submit-row"},g={class:"col-md-12"},_={class:"tab-pane fade",id:"rfc-backout",role:"tabpanel","aria-labelledby":"home-tab"},k={key:0},v={key:1,class:"row submit-row"},b={class:"col-md-12"},D={class:"tab-pane fade",id:"rfc-test",role:"tabpanel","aria-labelledby":"home-tab"},w={key:0},y={key:1,class:"row submit-row"},M={class:"col-md-12"},S={class:"tab-pane fade active show",id:"rfc-run-sheet",role:"tabpanel","aria-labelledby":"home-tab"};var T=a(2898),R=a(1010),U=a(5578),I=a(2320),q=a(2984),L=a(3577);const E={class:"row"},C=(0,s._)("div",{class:"col-md-4"},[(0,s._)("strong",null,"Run Sheet List"),(0,s._)("p",{class:"text-instructions"},[(0,s.Uk)(" The run sheet will specify specific tasks for each user to implement. Each run item can be specified to; "),(0,s._)("ul",null,[(0,s._)("li",null,"Block other run items"),(0,s._)("li",null,"Block out downtime")])])],-1),P={class:"col-md-8"},N={key:0,class:"table"},B=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("td",{style:{width:"20%"}},"Timings"),(0,s._)("td",{style:{width:"55%"}},"Title"),(0,s._)("td",{style:{width:"25%"}},"Assigned Users")])],-1),x=(0,s._)("div",null,"Start Time:",-1),O={class:"small-text"},A=(0,s._)("div",{class:"spacer"},null,-1),$=(0,s._)("div",null,"End Time:",-1),Z={class:"small-text"},F=["href"],V=(0,s._)("div",null,"Assigned User:",-1),W={class:"small-text"},j=(0,s._)("div",{class:"spacer"},null,-1),H=(0,s._)("div",null,"QA User:",-1),K={class:"small-text"},Q=(0,s._)("div",{class:"spacer"},null,-1),G=(0,s._)("div",null,"Status:",-1),Y={key:0,class:"small-text"},z={key:1},J=["onClick"],X=["onClick"],tt={key:2,href:"javascript:void(0)",class:"btn btn-success change-task-button"},et={key:3,href:"javascript:void(0)",class:"btn btn-danger change-task-button"},at={key:1,class:"alert alert-primary"},st={key:0},lt={key:1,class:"row submit-row"},nt={class:"col-md-12"},it={key:2,class:"row submit-row"},ot={class:"col-md-12"};var rt=a(5169),dt=a(9963);const ct={class:"modal fade",id:"newRunItemModal",tabindex:"-1","aria-labelledby":"newRunItemModalLabel","aria-hidden":"true"},ut={class:"modal-dialog modal-xl modal-fullscreen-xl-down"},ht={class:"modal-content"},mt=(0,s._)("div",{class:"modal-header"},[(0,s._)("h2",{class:"modal-title",id:"newRunItemModalLabel"},"New Change Task"),(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"newRunItemCloseButton"},[(0,s._)("span",{"aria-hidden":"true"})])],-1),pt={class:"modal-body"},ft={class:"row"},gt=(0,s._)("div",{class:"col-md-4"},[(0,s._)("strong",null,"Change Task Title"),(0,s._)("p",{class:"text-instructions"}," Please write a short title of the description for this task. i.e Backup of Database ")],-1),_t={class:"col-md-8"},kt={class:"form-group"},vt=(0,s._)("label",null,"Change Title:",-1),bt=(0,s._)("hr",null,null,-1),Dt=(0,s._)("hr",null,null,-1),wt={class:"row"},yt=(0,s._)("div",{class:"col-md-4"},[(0,s._)("strong",null,"Implementation & QA User"),(0,s._)("p",{class:"text-instructions"}," Please indicate which user will be implementing the work, and the user who will QA. ")],-1),Mt={class:"col-md-8"},St={class:"row"},Tt={class:"col-md-6"},Rt={class:"form-group"},Ut=(0,s.Uk)("Implementation User"),It={class:"col-md-6"},qt={class:"form-group"},Lt=(0,s.Uk)("QA User"),Et=(0,s._)("hr",null,null,-1),Ct={class:"row"},Pt=(0,s._)("div",{class:"col-md-4"},[(0,s._)("strong",null,"Description"),(0,s._)("p",{class:"text-instructions"}," Write a detail description of this particular task. ")],-1),Nt={class:"col-md-8"},Bt=(0,s._)("label",null,"Change Task Description (Optional):",-1),xt=(0,s._)("hr",null,null,-1),Ot={class:"row"},At=(0,s._)("div",{class:"col-md-4"},[(0,s._)("strong",null,"Misc"),(0,s._)("p",{class:"text-instructions"},' Please fill in the stakeholders for this particular change task. Default value will be "Stakeholders". '),(0,s._)("p",{class:"text-instructions"},' To state if there is downtime, please click the "No Downtime" to change it\'s statue. ')],-1),$t={class:"col-md-8"},Zt={class:"form-group"},Ft=(0,s._)("label",null,"Stakeholders:",-1),Vt=(0,s._)("br",null,null,-1),Wt={class:"btn-group",role:"group","aria-label":"Basic checkbox toggle button group"},jt={class:"btn btn-outline-primary",for:"isDowntime"},Ht={class:"modal-footer"},Kt=(0,s._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);var Qt=a(7267),Gt=a(9726),Yt=a(967),zt=a(3058),Jt=a(4250);const Xt=a(9669),te={name:"RfcNewRunItem",components:{BetweenDates:Gt.Z,editor:Qt.Z,NSelect:Yt.Z},props:{locationId:{type:Number,default:0},userList:{type:Array,default:()=>[]}},mixins:[zt.Z],data:()=>({assignedUserModel:"",changeDescriptionModel:"",changeEndDateModel:"",changeIsDowntimeModel:!1,changeStakeholderModel:"Stakeholder(s)",changeStartDateModel:"",changeTitleModel:"",qaUserModel:"",userListFixed:[]}),computed:{...(0,Jt.Se)({rootUrl:"getRootUrl"})},methods:{isDowntime:function(){return this.changeIsDowntimeModel?"Downtime Scheduled":"No Downtime"},submitChangeTask:function(t){t.preventDefault();var e=parseInt(this.changeEndDateModel)-parseInt(this.changeStartDateModel);const a=new FormData;a.set("request_for_change",this.locationId.toString()),a.set("change_task_title",this.changeTitleModel),a.set("change_task_description",this.changeDescriptionModel),a.set("change_task_start_date",new Date(this.changeStartDateModel).toISOString()),a.set("change_task_end_date",new Date(this.changeEndDateModel).toISOString()),a.set("change_task_seconds",e.toString()),a.set("change_task_assigned_user",this.assignedUserModel),a.set("change_task_qa_user",this.qaUserModel),a.set("change_task_required_by",this.changeStakeholderModel),a.set("is_downtime",this.changeIsDowntimeModel),Xt.post(`${this.rootUrl}rfc_information/${this.locationId}/new_change_task/`,a).then((t=>{this.$emit("update_change_task_list",t.data),this.changeDescriptionModel="",this.changeIsDowntimeModel=!1,this.changeStakeholderModel="Stakeholder(s)",this.changeTitleModel="",document.getElementById("newRunItemCloseButton").click()})).catch((t=>{this.showErrorModal(t,"Change Task")}))},updateDates:function(t){console.log("Updating Dates: ",t),this.changeStartDateModel=t.start_date,this.changeEndDateModel=t.end_date}},mounted(){this.userListFixed=this.userList.map((t=>({label:`${t.username}: ${t.first_name} ${t.last_name}`,value:t.id})))}};var ee=a(3744);const ae=(0,ee.Z)(te,[["render",function(t,e,a,l,n,i){const o=(0,s.up)("between-dates"),r=(0,s.up)("lable"),d=(0,s.up)("n-select"),c=(0,s.up)("editor");return(0,s.wg)(),(0,s.iD)("div",ct,[(0,s._)("div",ut,[(0,s._)("div",ht,[mt,(0,s._)("div",pt,[(0,s.kq)(" CHANGE TASK TITLE "),(0,s._)("div",ft,[gt,(0,s._)("div",_t,[(0,s._)("div",kt,[vt,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=e=>t.changeTitleModel=e)},null,512),[[dt.vModelText,t.changeTitleModel]])])])]),(0,s.kq)(" START DATE & END DATE "),bt,(0,s.Wm)(o,{destination:"Change Task",onUpdate_dates:e[1]||(e[1]=t=>i.updateDates(t))}),(0,s.kq)(" IMPLEMENTATION USER & QA USER "),Dt,(0,s._)("div",wt,[yt,(0,s._)("div",Mt,[(0,s._)("div",St,[(0,s._)("div",Tt,[(0,s._)("div",Rt,[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[Ut])),_:1}),(0,s.Wm)(d,{options:t.userListFixed,value:t.assignedUserModel,"onUpdate:value":e[2]||(e[2]=e=>t.assignedUserModel=e)},null,8,["options","value"])])]),(0,s._)("div",It,[(0,s._)("div",qt,[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[Lt])),_:1}),(0,s.Wm)(d,{value:t.qaUserModel,"onUpdate:value":e[3]||(e[3]=e=>t.qaUserModel=e),options:t.userListFixed},null,8,["value","options"])])])])])]),(0,s.kq)(" DESCRIPTION OPTIONAL "),Et,(0,s._)("div",Ct,[Pt,(0,s._)("div",Nt,[Bt,(0,s.Wm)(c,{init:{height:300,menubar:!1,plugins:["lists","table"],toolbar:["undo redo | formatselect | alignleft aligncenter alignright alignjustify","bold italic strikethrough underline backcolor | table | bullist numlist outdent indent | removeformat"]},content_css:!1,skin:!1,modelValue:t.changeDescriptionModel,"onUpdate:modelValue":e[4]||(e[4]=e=>t.changeDescriptionModel=e)},null,8,["modelValue"])])]),(0,s.kq)(" MISC "),xt,(0,s._)("div",Ot,[At,(0,s._)("div",$t,[(0,s._)("div",Zt,[Ft,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=e=>t.changeStakeholderModel=e)},null,512),[[dt.vModelText,t.changeStakeholderModel]])]),Vt,(0,s._)("div",Wt,[(0,s.wy)((0,s._)("input",{type:"checkbox",id:"isDowntime",class:"btn-check",autocomplete:"off","onUpdate:modelValue":e[6]||(e[6]=e=>t.changeIsDowntimeModel=e)},null,512),[[dt.vModelCheckbox,t.changeIsDowntimeModel]]),(0,s._)("label",jt,(0,L.toDisplayString)(i.isDowntime()),1)])])])]),(0,s._)("div",Ht,[Kt,(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:e[7]||(e[7]=t=>i.submitChangeTask(t))}," Add Change Task ")])])])])}]]);var se=a(7515);const le=a(9669),ne={name:"RfcRunSheetList",components:{RfcNewRunItem:ae},props:{isReadOnly:{type:Boolean,default:!1},locationId:{type:Number,default:0},rfcId:{type:Number,default:0},rfcStatus:{type:Number,default:0},userList:{type:Array,return:()=>[]}},mixins:[zt.Z,se.Z],data:()=>({changeTaskList:[]}),computed:{...(0,Jt.Se)({userLevel:"getUserLevel",rootUrl:"getRootUrl"}),isCompleted:function(){return 0===this.changeTaskList.filter((t=>{const e=t.fields.change_task_status;return 5!==e&&6!==e})).length&&(3===this.rfcStatus||4===this.rfcStatus)}},methods:{addNewChangeItem:function(){new rt.u_(document.getElementById("newRunItemModal")).show()},closeRfc:function(){const t=new FormData;t.set("rfc_status",5),le.post(`${this.rootUrl}rfc_information/${this.rfcId}/update_status/`,t).then((t=>{window.location.reload(!0)})).catch((t=>{this.showErrorModal(t,"request_for_change")}))},getRunSheetList:function(){le.post(`${this.rootUrl}rfc_information/${this.locationId}/change_task_list/`).then((t=>{this.changeTaskList=t.data})).catch((t=>{this.showErrorModal(t,"request_for_change")}))},getStatus:function(t){switch(t){case 1:return"Draft";case 2:return"Waiting for approval";case 3:return"Waiting to start";case 4:return"Task Started";case 5:return"Task Finished";case 6:return"Task FAILED";default:return"---"}},getUserName:function(t){var e=this.userList.filter((e=>e.id==t));return 0==e.length?"---":`${e[0].username}: ${e[0].first_name} ${e[0].last_name}`},updateChangeTaskList:function(t){this.changeTaskList=t},updateChangeTaskStatus:function(t,e){const a=new FormData;a.set("change_task_status",e),le.post(`${this.rootUrl}change_task_update_status/${t}/`,a).then((a=>{this.changeTaskList=this.changeTaskList.map((a=>a.pk==t?(a.fields.change_task_status=e,a):a))})).catch((t=>{this.showErrorModal(t,"request_for_change")}))}},mounted(){this.getRunSheetList()}},ie=(0,ee.Z)(ne,[["render",function(t,e,a,l,n,i){const o=(0,s.up)("rfc-new-run-item");return(0,s.wg)(),(0,s.iD)("div",E,[C,(0,s._)("div",P,[t.changeTaskList.length>0?((0,s.wg)(),(0,s.iD)("table",N,[B,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.changeTaskList,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.pk},[(0,s._)("td",null,[x,(0,s._)("div",O,(0,L.toDisplayString)(t.getNiceDate(e.fields.change_task_start_date)),1),A,$,(0,s._)("div",Z,(0,L.toDisplayString)(t.getNiceDate(e.fields.change_task_end_date)),1)]),(0,s._)("td",null,[(0,s._)("a",{href:`${t.rootUrl}change_task_information/${e.pk}/`},(0,L.toDisplayString)(e.fields.change_task_title),9,F)]),(0,s._)("td",null,[V,(0,s._)("div",W,(0,L.toDisplayString)(i.getUserName(e.fields.change_task_assigned_user)),1),j,H,(0,s._)("div",K,(0,L.toDisplayString)(i.getUserName(e.fields.change_task_qa_user)),1),Q,G,4!==a.rfcStatus?((0,s.wg)(),(0,s.iD)("div",Y,(0,L.toDisplayString)(i.getStatus(e.fields.change_task_status)),1)):((0,s.wg)(),(0,s.iD)("div",z,[(0,s.kq)(" START BUTTON "),3==e.fields.change_task_status&&t.userLevel>1?((0,s.wg)(),(0,s.iD)("a",{key:0,href:"javascript:void(0)",class:"btn btn-primary change-task-button",onClick:t=>i.updateChangeTaskStatus(e.pk,4)},"Start Task",8,J)):(0,s.kq)("v-if",!0),(0,s.kq)(" FINISH BUTTON "),4==e.fields.change_task_status&&t.userLevel>1?((0,s.wg)(),(0,s.iD)("a",{key:1,href:"javascript:void(0)",class:"btn btn-warning change-task-button",onClick:t=>i.updateChangeTaskStatus(e.pk,5)},"Finish Task",8,X)):(0,s.kq)("v-if",!0),(0,s.kq)(" SUCCESS BUTTON "),5==e.fields.change_task_status&&t.userLevel>1?((0,s.wg)(),(0,s.iD)("a",tt,"Successful")):(0,s.kq)("v-if",!0),(0,s.kq)(" FAILED BUTTON "),6==e.fields.change_task_status&&t.userLevel>1?((0,s.wg)(),(0,s.iD)("a",et,"Failed")):(0,s.kq)("v-if",!0)]))])])))),128))])])):(0,s.kq)("v-if",!0),0==t.changeTaskList.length?((0,s.wg)(),(0,s.iD)("div",at," Currently there are no Change Tasks associated with this Request for Change. Please add some by clicking on the button below. ")):(0,s.kq)("v-if",!0)]),(0,s.kq)(" ADD NEW CHANGE TASK TO RUN SHEET "),a.isReadOnly?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("hr",st)),a.isReadOnly?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("div",lt,[(0,s._)("div",nt,[t.userLevel>1?((0,s.wg)(),(0,s.iD)("a",{key:0,href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:e[0]||(e[0]=(...t)=>i.addNewChangeItem&&i.addNewChangeItem(...t))},"New Change Item")):(0,s.kq)("v-if",!0)])])),(0,s.kq)(" If ALL Change Tasks have been completed - you can close the RFC "),i.isCompleted?((0,s.wg)(),(0,s.iD)("div",it,[(0,s._)("div",ot,[t.userLevel>1?((0,s.wg)(),(0,s.iD)("a",{key:0,href:"javascript:void(0)",class:"btn btn-warning save-changes",onClick:e[1]||(e[1]=(...t)=>i.closeRfc&&i.closeRfc(...t))},"Close Request for Change")):(0,s.kq)("v-if",!0)])])):(0,s.kq)("v-if",!0),(0,s.kq)(" Modal "),a.isReadOnly?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.j4)(o,{key:3,"location-id":a.locationId,"user-list":a.userList,onUpdate_change_task_list:e[2]||(e[2]=t=>i.updateChangeTaskList(t))},null,8,["location-id","user-list"]))])}]]);var oe=a(7156),re=a(8416);const de=a(9669),ce={name:"RfcModules",components:{RfcBackoutPlan:T.Z,RfcDescription:R.Z,RfcDetails:U.Z,RfcImplementationPlan:I.Z,RfcRisk:q.Z,RfcRunSheetList:ie,RfcTestPlan:oe.Z},props:{locationId:{type:Number,default:0},destination:{type:String,default:"/"},isReadOnly:{type:Boolean,default:!1},rfcResults:{type:Array,default:[]},userList:{type:Array,return:()=>[]}},mixins:[zt.Z,re.Z],data:()=>({rfcData:{rfcBackoutPlan:"",rfcImpactModel:{},rfcImplementationPlanModel:"",rfcPriorityModel:{},rfcRiskModel:{},rfcRiskSummaryModel:"",rfcTestPlanModel:"",rfcTypeModel:{}},validationData:{tab_2:!0,tab_3:!0,tab_4:!0,tab_5:!0}}),computed:{...(0,Jt.Se)({userLevel:"getUserLevel",rootUrl:"getRootUrl"})},methods:{sendData:function(t,e){this.showLoadingModal("Project"),de.post(e,t).then((t=>{this.closeLoadingModal()})).catch((t=>{this.showErrorModal(t,this.destination)}))},updateBackoutPlan:function(){if(!1===this.validationData.tab_4)return void this.showErrorModal("Please fill out all data","Backout Plan","");const t=new FormData;t.set("text_input",this.rfcData.rfcBackoutPlan),this.sendData(t,`${this.rootUrl}rfc_information/${this.rfcResults[0].pk}/save/backout/`)},updateImplementation:function(){if(!1===this.validationData.tab_3)return void this.showErrorModal("Please fill out all data","Implementation","");const t=new FormData;t.set("text_input",this.rfcData.rfcImplementationPlanModel),this.sendData(t,`${this.rootUrl}rfc_information/${this.rfcResults[0].pk}/save/implementation/`)},updateRisk:function(){if(!1===this.validationData.tab_2)return void this.showErrorModal("Please fill out all data","Risk","");const t=new FormData;t.set("priority_of_change",this.rfcData.rfcPriorityModel),t.set("risk_of_change",this.rfcData.rfcRiskModel),t.set("impact_of_change",this.rfcData.rfcImpactModel),t.set("text_input",this.rfcData.rfcRiskSummaryModel),this.sendData(t,`${this.rootUrl}rfc_information/${this.rfcResults[0].pk}/save/risk/`)},updateValidation:function(t){this.validationData[t.tab]=t.value},updateTestPlan:function(){if(!1===this.validationData.tab_5)return void this.showErrorModal("Please fill out all data","Test Plan","");const t=new FormData;t.set("text_input",this.rfcData.rfcTestPlanModel),this.sendData(t,`${this.rootUrl}rfc_information/${this.rfcResults[0].pk}/save/test/`)},updateValues:function(t){this.rfcData[t.modelName]=t.modelValue}}},ue=(0,ee.Z)(ce,[["render",function(t,e,a,T,R,U){const I=(0,s.up)("rfc-risk"),q=(0,s.up)("rfc-implementation-plan"),L=(0,s.up)("rfc-backout-plan"),E=(0,s.up)("rfc-test-plan"),C=(0,s.up)("rfc-run-sheet-list");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",n,[i,o,(0,s._)("div",r,[(0,s._)("div",d,[(0,s.Wm)(I,{"rfc-results":a.rfcResults,"is-read-only":a.isReadOnly,onUpdate_validation:e[0]||(e[0]=t=>U.updateValidation(t)),onUpdate_values:e[1]||(e[1]=t=>U.updateValues(t))},null,8,["rfc-results","is-read-only"]),(0,s.kq)(" Update Button "),a.isReadOnly?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("hr",c)),a.isReadOnly?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",h,[t.userLevel>1?((0,s.wg)(),(0,s.iD)("a",{key:0,href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:e[2]||(e[2]=(...t)=>U.updateRisk&&U.updateRisk(...t))},"Update Risks")):(0,s.kq)("v-if",!0)])]))]),(0,s._)("div",m,[(0,s.Wm)(q,{"rfc-results":a.rfcResults,"is-read-only":a.isReadOnly,onUpdate_validation:e[3]||(e[3]=t=>U.updateValidation(t)),onUpdate_values:e[4]||(e[4]=t=>U.updateValues(t))},null,8,["rfc-results","is-read-only"]),(0,s.kq)(" Update Button "),a.isReadOnly?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("hr",p)),a.isReadOnly?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("div",f,[(0,s._)("div",g,[t.userLevel>1?((0,s.wg)(),(0,s.iD)("a",{key:0,href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:e[5]||(e[5]=(...t)=>U.updateImplementation&&U.updateImplementation(...t))},"Update Implementation Plan")):(0,s.kq)("v-if",!0)])]))]),(0,s._)("div",_,[(0,s.Wm)(L,{"rfc-results":a.rfcResults,"is-read-only":a.isReadOnly,onUpdate_validation:e[6]||(e[6]=t=>U.updateValidation(t)),onUpdate_values:e[7]||(e[7]=t=>U.updateValues(t))},null,8,["rfc-results","is-read-only"]),(0,s.kq)(" Update Button "),a.isReadOnly?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("hr",k)),a.isReadOnly?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("div",b,[t.userLevel>1?((0,s.wg)(),(0,s.iD)("a",{key:0,href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:e[8]||(e[8]=(...t)=>U.updateBackoutPlan&&U.updateBackoutPlan(...t))},"Update Backout Plan")):(0,s.kq)("v-if",!0)])]))]),(0,s._)("div",D,[(0,s.Wm)(E,{"rfc-results":a.rfcResults,"is-read-only":a.isReadOnly,onUpdate_validation:e[9]||(e[9]=t=>U.updateValidation(t)),onUpdate_values:e[10]||(e[10]=t=>U.updateValues(t))},null,8,["rfc-results","is-read-only"]),(0,s.kq)(" Update Button "),a.isReadOnly?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("hr",w)),a.isReadOnly?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("div",y,[(0,s._)("div",M,[t.userLevel>1?((0,s.wg)(),(0,s.iD)("a",{key:0,href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:e[11]||(e[11]=(...t)=>U.updateTestPlan&&U.updateTestPlan(...t))},"Update Test Plan")):(0,s.kq)("v-if",!0)])]))]),(0,s._)("div",S,[(0,s.Wm)(C,{"is-read-only":a.isReadOnly,"location-id":a.locationId,"user-list":a.userList,"rfc-id":a.rfcResults[0].pk,"rfc-status":a.rfcResults[0].fields.rfc_status,onUpdate_values:e[12]||(e[12]=t=>U.updateValues(t))},null,8,["is-read-only","location-id","user-list","rfc-id","rfc-status"])])])])])}]])},7515:(t,e,a)=>{a.d(e,{Z:()=>l});var s=a(9490);const l={methods:{getNiceDate:function(t){return s.ou.fromISO(t).toLocaleString(s.ou.DATETIME_MED)}}}},8416:(t,e,a)=>{a.d(e,{Z:()=>l});var s=a(5169);const l={methods:{closeLoadingModal:function(){var t=new s.u_(document.getElementById("loadingModal"));document.getElementById("loadingModalContent").innerHTML="UPDATED SUCCESSFULLY",setTimeout((()=>{t.hide()}),1e3)},showLoadingModal:function(t){new s.u_(document.getElementById("loadingModal")).show(),document.getElementById("loadingModalContent").innerHTML=`Updating your ${t} details`}}}}}]);