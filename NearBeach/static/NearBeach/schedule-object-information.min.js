"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[6537],{891:(e,t,o)=>{o.d(t,{A:()=>v});var a=o(641),n=o(33);const l={class:"row"},s={class:"col-md-8 organisation-details"},i=["src"],r={class:"organisation-name"},d=["href"],c={class:"organisation-link"},u=["href"],h={class:"organisation-email"},b=["href"];var p=o(2124),g=o(3980);const m={name:"StakeholderInformation",components:{CarbonEmail:g.G2,CarbonLink:g.wX},props:{defaultStakeholderImage:{type:String,default:""},organisationResults:{type:Array,default:()=>[]}},data(){return{stakeholderModel:this.organisationResults[0].fields}},computed:{...(0,p.L8)({rootUrl:"getRootUrl",staticUrl:"getStaticUrl"}),getStakeholderImage(){const e=this.stakeholderModel.organisation_profile_picture;return""===e||null===e?this.defaultStakeholderImage:`${this.rootUrl}private/${e}`}}},v=(0,o(6262).A)(m,[["render",function(e,t,o,p,g,m){const v=(0,a.g2)("carbon-link"),f=(0,a.g2)("carbon-email");return(0,a.uX)(),(0,a.CE)("div",l,[(0,a.Q3)(" Description "),t[2]||(t[2]=(0,a.Lk)("div",{class:"col-md-4"},[(0,a.Lk)("h2",null,"Stakeholder")],-1)),(0,a.Lk)("div",s,[(0,a.Lk)("img",{src:m.getStakeholderImage,alt:"Stakeholder Logo",class:"organisation-image"},null,8,i),(0,a.Lk)("div",r,[(0,a.Lk)("a",{href:`${e.rootUrl}organisation_information/${o.organisationResults[0].pk}/`},(0,n.toDisplayString)(g.stakeholderModel.organisation_name),9,d)]),(0,a.Lk)("div",c,[(0,a.bF)(v),t[0]||(t[0]=(0,a.eW)(" Website: ")),(0,a.Lk)("a",{href:g.stakeholderModel.organisation_website,target:"_blank",rel:"noopener noreferrer"},(0,n.toDisplayString)(g.stakeholderModel.organisation_website),9,u)]),(0,a.Lk)("div",h,[(0,a.bF)(f),t[1]||(t[1]=(0,a.eW)(" Email: ")),(0,a.Lk)("a",{href:`mailto:${g.stakeholderModel.organisation_email}`},(0,n.toDisplayString)(g.stakeholderModel.organisation_email),9,b)])])])}]])},2637:(e,t,o)=>{o.r(t),o.d(t,{default:()=>F});var a=o(641),n=o(3751);const l={class:"card"},s={class:"card card-body"},i=["href"],r={class:"row"},d={class:"col-md-8"},c={class:"row"},u={class:"col-md-8",style:{"min-height":"610px"}},h={class:"form-group"},b=["disabled"],p=["src"],g={class:"row"},m={class:"col-md-8"},v={key:0,class:"alert alert-warning"},f={class:"row"},k={class:"col-md-8"},y={class:"row submit-row"},_={class:"col-md-12"};var j=o(8838),w=o(3913),M=o(1080),S=o(4991),D=o(4695),L=o(1883),R=o(9639),T=o(3855),C=o(404),x=o(2124),O=o(891),E=o(9581),$=o(9184);const A={name:"ScheduledObjectInformation",setup:()=>({v$:(0,R.Ay)()}),components:{GetKanbanSettings:o(2144).A,StakeholderInformation:O.A,BetweenDates:D.A,editor:j.A,NConfigProvider:w.A,NSelect:M.A,NSwitch:S.A,SchedulerFrequency:L.A,ValidationRendering:C.A},props:{defaultStakeholderImage:{type:String,default:""},groupResults:{type:Array,default:()=>[]},objectTemplateResults:{type:Array,default:()=>[]},organisationResults:{type:Array,default:()=>[]},rootUrl:{type:String,default:"/"},scheduledObjectResults:{type:Object,default:()=>({schedule_object_id:0,object_template_id:0,end_date:null,frequency:"Set Day of the Week",frequency_attribute:null,is_active:!0,number_of_repeats:-1})},staticUrl:{type:String,default:"/"},templateGroupResults:{type:Array,default:()=>[]},theme:{type:String,default:"light"},userGroupResults:{type:Array,default:()=>[]},userLevel:{type:Number,default:0}},data(){return{displayGroupPermissionIssue:!1,kanbanBoardModel:this.objectTemplateResults[0].object_template_json.kanban_card_setup?.kanban_board??0,kanbanColumnModel:this.objectTemplateResults[0].object_template_json.kanban_card_setup?.kanban_column??0,kanbanLevelModel:this.objectTemplateResults[0].object_template_json.kanban_card_setup?.kanban_level??0,objectDescriptionModel:this.objectTemplateResults[0].object_template_json.object_description,objectEndDateModel:new Date(this.objectTemplateResults[0].object_template_json.object_end_date),objectGroupModel:this.templateGroupResults,objectStartDateModel:new Date(this.objectTemplateResults[0].object_template_json.object_start_date),objectTitleModel:this.objectTemplateResults[0].object_template_json.object_title,objectTypeModel:this.objectTemplateResults[0].object_template_type,objectTypeOptions:[{value:0,label:"Project"},{value:1,label:"Task"},{value:2,label:"Kanban Card"}],daysBeforeModel:this.getDaysBeforeModel(),dayModel:this.getDayModel(),endDateConditionModel:this.getEndDateConditionModel(),endDateModel:this.getEndDateModel(),isActiveModel:this.scheduledObjectResults.is_active,isFormValid:!0,numberOfRepeats:this.scheduledObjectResults.number_of_repeats,schedulerFrequencyModel:this.scheduledObjectResults.frequency,singleDayModel:this.getSingleDayModel(),startDateModel:new Date(this.scheduledObjectResults.start_date).getTime()}},computed:{...(0,x.L8)({contentCss:"getContentCss",skin:"getSkin"})},validations:{kanbanBoardModel:{required:T.mw},kanbanLevelModel:{required:T.mw},kanbanColumnModel:{required:T.mw},objectDescriptionModel:{required:T.mw},objectGroupModel:{required:T.mw},objectTitleModel:{required:T.mw},objectTypeModel:{required:T.mw}},watch:{objectGroupModel(e){this.displayGroupPermissionIssue=0===this.userGroupResults.filter((t=>e.includes(t.group_id))).length}},methods:{useNewObjectUploadImage:$.j,useNBTheme:E.p,getEndDateConditionModel(){return this.scheduledObjectResults.number_of_repeats>=0?"number-of-repeats":null!==this.scheduledObjectResults.end_date?"end-date":"no-end-date"},getDayModel(){return void 0===this.scheduledObjectResults.frequency_attribute||void 0===this.scheduledObjectResults.frequency_attribute.days_of_the_week?[]:this.scheduledObjectResults.frequency_attribute.days_of_the_week},getDaysBeforeModel(){return void 0===this.scheduledObjectResults.frequency_attribute||void 0===this.scheduledObjectResults.frequency_attribute.days_before?0:this.scheduledObjectResults.frequency_attribute.days_before},getEndDateModel(){return null===this.scheduledObjectResults.end_date?0:new Date(this.scheduledObjectResults.end_date).getTime()},getSingleDayModel(){return void 0===this.scheduledObjectResults.frequency_attribute||void 0===this.scheduledObjectResults.frequency_attribute.day_of_the_week?"Monday":this.scheduledObjectResults.frequency_attribute.day_of_the_week},updateDates(e){this.objectStartDateModel=new Date(e.start_date),this.objectEndDateModel=new Date(e.end_date)},updateKanbanSettings(e){this.kanbanBoardModel=e.kanbanBoardModel,this.kanbanColumnModel=e.kanbanColumnModel,this.kanbanLevelModel=e.kanbanLevelModel},updateSchedulerFrequency(e){this.daysBeforeModel=e.daysBeforeModel,this.dayModel=e.dayModel,this.endDateConditionModel=e.endDateConditionModel,this.endDateModel=e.endDateModel,this.isFormValid=e.isFormValid,this.numberOfRepeats=e.numberOfRepeatsModel,this.schedulerFrequencyModel=e.schedulerFrequencyModel,this.singleDayModel=e.singleDayModel,this.startDateModel=e.startDateModel},async updateSchedulerObject(){if(!await this.v$.$validate()||this.displayGroupPermissionIssue||!this.isFormValid)return void this.$store.dispatch("newToast",{header:"Please check all validation",message:"There are some fields that are filled in correctly. Please correct these mistakes.",extra_classes:"bg-danger",delay:0});const e=new FormData;e.set("object_type",this.objectTypeModel),e.set("object_title",this.objectTitleModel),e.set("object_description",this.objectDescriptionModel),e.set("object_start_date",this.objectStartDateModel.toISOString()),e.set("object_end_date",this.objectEndDateModel.toISOString()),2===this.objectTypeModel&&(e.set("kanban_board",this.kanbanBoardModel),e.set("kanban_column",this.kanbanColumnModel),e.set("kanban_level",this.kanbanLevelModel)),this.objectGroupModel.forEach((t=>{e.append("group_list",t)}));const t=(new Date).getTimezoneOffset();let o=new Date(this.endDateModel-60*t*1e3),a=new Date(this.startDateModel-60*t*1e3);o=o.toISOString().split("T")[0],a=a.toISOString().split("T")[0],e.set("days_before",this.daysBeforeModel),e.set("number_of_repeats",this.numberOfRepeats),e.set("scheduler_frequency",this.schedulerFrequencyModel),e.set("scheduler_end_date",o),e.set("scheduler_start_date",a),e.set("single_day",this.singleDayModel),e.set("end_date_condition",this.endDateConditionModel),e.set("is_active",this.isActiveModel),this.dayModel.forEach((t=>{e.append("day",t)})),this.axios.post(`${this.rootUrl}scheduled_object_information/${this.scheduledObjectResults.schedule_object_id}/save/`,e).then((()=>{this.$store.dispatch("newToast",{header:"Saved Scheduled Object",message:"Scheduled Object has been updated",extra_classes:"bg-success"})})).catch((e=>{this.$store.dispatch("newToast",{header:"Error creating new scheduled object",message:`Sorry, we could not create this scheduled object for you. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))}},async beforeMount(){await this.$store.dispatch("processThemeUpdate",{theme:this.theme})},mounted(){this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl,staticUrl:this.staticUrl}),this.$store.commit({type:"updateUserLevel",userLevel:this.userLevel})}},F=(0,o(6262).A)(A,[["render",function(e,t,o,j,w,M){const S=(0,a.g2)("validation-rendering"),D=(0,a.g2)("n-select"),L=(0,a.g2)("editor"),R=(0,a.g2)("stakeholder-information"),T=(0,a.g2)("get-kanban-settings"),C=(0,a.g2)("between-dates"),x=(0,a.g2)("scheduler-frequency"),O=(0,a.g2)("n-switch"),E=(0,a.g2)("n-config-provider");return(0,a.uX)(),(0,a.Wv)(E,{theme:M.useNBTheme(o.theme)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",l,[(0,a.Lk)("div",s,[t[21]||(t[21]=(0,a.Lk)("h1",null,"Scheduled Object Information",-1)),(0,a.Lk)("a",{href:`${o.rootUrl}scheduled_objects/`},"Back to Scheduled Object list",8,i),t[22]||(t[22]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",r,[t[9]||(t[9]=(0,a.Lk)("div",{class:"col-md-4"},[(0,a.Lk)("h2",null,"Object Type"),(0,a.Lk)("p",{class:"text-instructions"}," Please select if the object will be either a Project or Task. ")],-1)),(0,a.Lk)("div",d,[(0,a.Lk)("label",null,[t[8]||(t[8]=(0,a.eW)(" Object Type ")),(0,a.bF)(S,{"error-list":j.v$.objectTypeModel.$errors},null,8,["error-list"])]),(0,a.bF)(D,{value:w.objectTypeModel,"onUpdate:value":t[0]||(t[0]=e=>w.objectTypeModel=e),disabled:o.userLevel<=1,options:w.objectTypeOptions},null,8,["value","disabled","options"])])]),(0,a.Q3)(" OBJECT DESCRIPTION"),t[23]||(t[23]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",c,[t[14]||(t[14]=(0,a.Lk)("div",{class:"col-md-4"},[(0,a.Lk)("h2",null,"Description"),(0,a.Lk)("p",{class:"text-instructions"}," Please supply a suitable Title and Description for your object. This will be created exactly each time the object is created. ")],-1)),(0,a.Lk)("div",u,[(0,a.Lk)("div",h,[(0,a.Lk)("label",null,[t[10]||(t[10]=(0,a.eW)("Object Title ")),(0,a.bF)(S,{"error-list":j.v$.objectTitleModel.$errors},null,8,["error-list"])]),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>w.objectTitleModel=e),class:"form-control",disabled:o.userLevel<=1},null,8,b),[[n.vModelText,w.objectTitleModel]])]),t[12]||(t[12]=(0,a.Lk)("br",null,null,-1)),(0,a.Q3)(" OBJECT DESCRIPTION "),(0,a.Lk)("label",null,[t[11]||(t[11]=(0,a.eW)(" Object Description: ")),(0,a.bF)(S,{"error-list":j.v$.objectDescriptionModel.$errors},null,8,["error-list"])]),t[13]||(t[13]=(0,a.Lk)("br",null,null,-1)),(0,a.Lk)("img",{src:`${o.staticUrl}NearBeach/images/placeholder/body_text.svg`,class:"loader-image",alt:"loading image for Tinymce"},null,8,p),(0,a.bF)(L,{"license-key":"gpl",disabled:o.userLevel<=1,init:{file_picker_types:"image",height:500,images_upload_handler:M.useNewObjectUploadImage,menubar:!1,paste_data_images:!0,plugins:["lists","image","codesample","table"],toolbar:"undo redo | blocks | bold italic strikethrough underline backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | table image codesample",skin:`${this.skin}`,content_css:`${this.contentCss}`,relative_urls:!1},modelValue:w.objectDescriptionModel,"onUpdate:modelValue":t[2]||(t[2]=e=>w.objectDescriptionModel=e)},null,8,["disabled","init","modelValue"])])]),(0,a.Q3)(" STAKEHOLDER ORGANISATION "),t[24]||(t[24]=(0,a.Lk)("hr",null,null,-1)),2!==w.objectTypeModel?((0,a.uX)(),(0,a.Wv)(R,{key:0,"organisation-results":o.organisationResults,"default-stakeholder-image":o.defaultStakeholderImage},null,8,["organisation-results","default-stakeholder-image"])):(0,a.Q3)("v-if",!0),2===w.objectTypeModel?((0,a.uX)(),(0,a.Wv)(T,{key:1,"init-kanban-board-id":w.kanbanBoardModel,"init-kanban-column-id":w.kanbanColumnModel,"init-kanban-level-id":w.kanbanLevelModel,onUpdate_kanban_settings:t[3]||(t[3]=e=>M.updateKanbanSettings(e))},null,8,["init-kanban-board-id","init-kanban-column-id","init-kanban-level-id"])):(0,a.Q3)("v-if",!0),(0,a.Q3)(" START DATE & END DATE "),t[25]||(t[25]=(0,a.Lk)("hr",null,null,-1)),(0,a.bF)(C,{destination:"object","end-date-model":w.objectEndDateModel.getTime(),"start-date-model":w.objectStartDateModel.getTime(),onUpdate_dates:t[4]||(t[4]=e=>M.updateDates(e))},null,8,["end-date-model","start-date-model"]),(0,a.Q3)(" Group Permissions "),t[26]||(t[26]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",g,[t[17]||(t[17]=(0,a.Lk)("div",{class:"col-md-4"},[(0,a.Lk)("h2",null,"Group Permissions"),(0,a.Lk)("p",{class:"text-instructions"}," Add or remove groups from this scheduled object. Adding a group will allow users from that group to access the constructed object. "),(0,a.Lk)("p",{class:"text-instructions"}," Users who do not have access to this scheduled object, won't be able to edit/view this object, nor it's constructed object. ")],-1)),(0,a.Lk)("div",m,[(0,a.Lk)("label",null,[t[15]||(t[15]=(0,a.eW)(" Group List ")),(0,a.bF)(S,{"error-list":j.v$.objectGroupModel.$errors},null,8,["error-list"])]),(0,a.bF)(D,{disabled:o.userLevel<=1,options:o.groupResults,label:"group",value:w.objectGroupModel,"onUpdate:value":t[5]||(t[5]=e=>w.objectGroupModel=e),multiple:""},null,8,["disabled","options","value"]),(0,a.Q3)("\t\t\t\t\t\t ALERT FOR WHEN USER GROUPS ARE NOT INCLUDED "),t[16]||(t[16]=(0,a.Lk)("br",null,null,-1)),w.displayGroupPermissionIssue?((0,a.uX)(),(0,a.CE)("div",v," None of your user groups were included. You will not have permissions to create this object. Please select one of your groups ")):(0,a.Q3)("v-if",!0)])]),(0,a.Q3)(" Scheduler Frequency "),t[27]||(t[27]=(0,a.Lk)("hr",null,null,-1)),(0,a.bF)(x,{"days-before":w.daysBeforeModel,day:w.dayModel,"end-date-condition":w.endDateConditionModel,"end-date":w.endDateModel,"number-of-repeats":w.numberOfRepeats,"scheduler-frequency":w.schedulerFrequencyModel,"single-day":w.singleDayModel,"start-date":w.startDateModel,onUpdate_scheduler_frequency:M.updateSchedulerFrequency},null,8,["days-before","day","end-date-condition","end-date","number-of-repeats","scheduler-frequency","single-day","start-date","onUpdate_scheduler_frequency"]),(0,a.Q3)(" Is Active "),t[28]||(t[28]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",f,[t[20]||(t[20]=(0,a.Lk)("div",{class:"col-md-4"},[(0,a.Lk)("h2",null,"Is Active"),(0,a.Lk)("p",{class:"text-instructions"}," Toggle this scheduled object on or off. Please remember to save after toggling. ")],-1)),(0,a.Lk)("div",k,[(0,a.bF)(O,{value:w.isActiveModel,"onUpdate:value":t[6]||(t[6]=e=>w.isActiveModel=e),disabled:o.userLevel<=1},{checked:(0,a.k6)((()=>t[18]||(t[18]=[(0,a.eW)(" Currently Active ")]))),unchecked:(0,a.k6)((()=>t[19]||(t[19]=[(0,a.eW)(" Disabled ")]))),_:1},8,["value","disabled"])])]),(0,a.Q3)(" Submit Button "),t[29]||(t[29]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",y,[(0,a.Lk)("div",_,[o.userLevel>1?((0,a.uX)(),(0,a.CE)("button",{key:0,class:"btn btn-primary save-changes",onClick:t[7]||(t[7]=(...e)=>M.updateSchedulerObject&&M.updateSchedulerObject(...e))}," Update Scheduled Object ")):(0,a.Q3)("v-if",!0)])])])])])),_:1},8,["theme"])}]])},4991:(e,t,o)=>{o.d(t,{A:()=>M});var a=o(4041),n=o(5562),l=o(641),s=o(953),i=o(9819),r=o(2778),d=o(9359),c=o(922),u=o(3370),h=o(4019),b=o(6680),p=o(7872),g=o(9521),m=o(4484),v=o(8880),f=o(8090);const k={name:"Switch",common:v.A,self:function(e){const{primaryColor:t,opacityDisabled:o,borderRadius:a,textColor3:n}=e;return Object.assign(Object.assign({},f.A),{iconColor:n,textColor:"white",loadingColor:t,opacityDisabled:o,railColor:"rgba(0, 0, 0, .14)",railColorActive:t,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:a,railBorderRadiusMedium:a,railBorderRadiusLarge:a,buttonBorderRadiusSmall:a,buttonBorderRadiusMedium:a,buttonBorderRadiusLarge:a,boxShadowFocus:`0 0 0 2px ${(0,m.QX)(t,{alpha:.2})}`})}};var y=o(8454);const _=(0,p.cB)("switch","\n height: var(--n-height);\n min-width: var(--n-width);\n vertical-align: middle;\n user-select: none;\n -webkit-user-select: none;\n display: inline-flex;\n outline: none;\n justify-content: center;\n align-items: center;\n",[(0,p.cE)("children-placeholder","\n height: var(--n-rail-height);\n display: flex;\n flex-direction: column;\n overflow: hidden;\n pointer-events: none;\n visibility: hidden;\n "),(0,p.cE)("rail-placeholder","\n display: flex;\n flex-wrap: none;\n "),(0,p.cE)("button-placeholder","\n width: calc(1.75 * var(--n-rail-height));\n height: var(--n-rail-height);\n "),(0,p.cB)("base-loading","\n position: absolute;\n top: 50%;\n left: 50%;\n transform: translateX(-50%) translateY(-50%);\n font-size: calc(var(--n-button-width) - 4px);\n color: var(--n-loading-color);\n transition: color .3s var(--n-bezier);\n ",[(0,y.N)({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),(0,p.cE)("checked, unchecked","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n box-sizing: border-box;\n position: absolute;\n white-space: nowrap;\n top: 0;\n bottom: 0;\n display: flex;\n align-items: center;\n line-height: 1;\n "),(0,p.cE)("checked","\n right: 0;\n padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n "),(0,p.cE)("unchecked","\n left: 0;\n justify-content: flex-end;\n padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n "),(0,p.c)("&:focus",[(0,p.cE)("rail","\n box-shadow: var(--n-box-shadow-focus);\n ")]),(0,p.cM)("round",[(0,p.cE)("rail","border-radius: calc(var(--n-rail-height) / 2);",[(0,p.cE)("button","border-radius: calc(var(--n-button-height) / 2);")])]),(0,p.C5)("disabled",[(0,p.C5)("icon",[(0,p.cM)("rubber-band",[(0,p.cM)("pressed",[(0,p.cE)("rail",[(0,p.cE)("button","max-width: var(--n-button-width-pressed);")])]),(0,p.cE)("rail",[(0,p.c)("&:active",[(0,p.cE)("button","max-width: var(--n-button-width-pressed);")])]),(0,p.cM)("active",[(0,p.cM)("pressed",[(0,p.cE)("rail",[(0,p.cE)("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),(0,p.cE)("rail",[(0,p.c)("&:active",[(0,p.cE)("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),(0,p.cM)("active",[(0,p.cE)("rail",[(0,p.cE)("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),(0,p.cE)("rail","\n overflow: hidden;\n height: var(--n-rail-height);\n min-width: var(--n-rail-width);\n border-radius: var(--n-rail-border-radius);\n cursor: pointer;\n position: relative;\n transition:\n opacity .3s var(--n-bezier),\n background .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-rail-color);\n ",[(0,p.cE)("button-icon","\n color: var(--n-icon-color);\n transition: color .3s var(--n-bezier);\n font-size: calc(var(--n-button-height) - 4px);\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n justify-content: center;\n align-items: center;\n line-height: 1;\n ",[(0,y.N)()]),(0,p.cE)("button",'\n align-items: center; \n top: var(--n-offset);\n left: var(--n-offset);\n height: var(--n-button-height);\n width: var(--n-button-width-pressed);\n max-width: var(--n-button-width);\n border-radius: var(--n-button-border-radius);\n background-color: var(--n-button-color);\n box-shadow: var(--n-button-box-shadow);\n box-sizing: border-box;\n cursor: inherit;\n content: "";\n position: absolute;\n transition:\n background-color .3s var(--n-bezier),\n left .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n max-width .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n ')]),(0,p.cM)("active",[(0,p.cE)("rail","background-color: var(--n-rail-color-active);")]),(0,p.cM)("loading",[(0,p.cE)("rail","\n cursor: wait;\n ")]),(0,p.cM)("disabled",[(0,p.cE)("rail","\n cursor: not-allowed;\n opacity: .5;\n ")])]),j=Object.assign(Object.assign({},d.A.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let w;const M=(0,l.pM)({name:"Switch",props:j,slots:Object,setup(e){void 0===w&&(w="undefined"==typeof CSS||void 0!==CSS.supports&&CSS.supports("width","max(1px)"));const{mergedClsPrefixRef:t,inlineThemeDisabled:o}=(0,c.Ay)(e),i=(0,d.A)("Switch","-switch",_,k,e,t),r=(0,u.A)(e),{mergedSizeRef:g,mergedDisabledRef:m}=r,v=(0,s.KR)(e.defaultValue),f=(0,s.lW)(e,"value"),y=(0,n.A)(f,v),j=(0,l.EW)((()=>y.value===e.checkedValue)),M=(0,s.KR)(!1),S=(0,s.KR)(!1),D=(0,l.EW)((()=>{const{railStyle:t}=e;if(t)return t({focused:S.value,checked:j.value})}));function L(t){const{"onUpdate:value":o,onChange:a,onUpdateValue:n}=e,{nTriggerFormInput:l,nTriggerFormChange:s}=r;o&&(0,b.T)(o,t),n&&(0,b.T)(n,t),a&&(0,b.T)(a,t),v.value=t,l(),s()}const R=(0,l.EW)((()=>{const{value:e}=g,{self:{opacityDisabled:t,railColor:o,railColorActive:n,buttonBoxShadow:l,buttonColor:s,boxShadowFocus:r,loadingColor:d,textColor:c,iconColor:u,[(0,p.cF)("buttonHeight",e)]:h,[(0,p.cF)("buttonWidth",e)]:b,[(0,p.cF)("buttonWidthPressed",e)]:m,[(0,p.cF)("railHeight",e)]:v,[(0,p.cF)("railWidth",e)]:f,[(0,p.cF)("railBorderRadius",e)]:k,[(0,p.cF)("buttonBorderRadius",e)]:y},common:{cubicBezierEaseInOut:_}}=i.value;let j,M,S;return w?(j=`calc((${v} - ${h}) / 2)`,M=`max(${v}, ${h})`,S=`max(${f}, calc(${f} + ${h} - ${v}))`):(j=(0,a.Cw)(((0,a.eV)(v)-(0,a.eV)(h))/2),M=(0,a.Cw)(Math.max((0,a.eV)(v),(0,a.eV)(h))),S=(0,a.eV)(v)>(0,a.eV)(h)?f:(0,a.Cw)((0,a.eV)(f)+(0,a.eV)(h)-(0,a.eV)(v))),{"--n-bezier":_,"--n-button-border-radius":y,"--n-button-box-shadow":l,"--n-button-color":s,"--n-button-width":b,"--n-button-width-pressed":m,"--n-button-height":h,"--n-height":M,"--n-offset":j,"--n-opacity-disabled":t,"--n-rail-border-radius":k,"--n-rail-color":o,"--n-rail-color-active":n,"--n-rail-height":v,"--n-rail-width":f,"--n-width":S,"--n-box-shadow-focus":r,"--n-loading-color":d,"--n-text-color":c,"--n-icon-color":u}})),T=o?(0,h.R)("switch",(0,l.EW)((()=>g.value[0])),R,e):void 0;return{handleClick:function(){e.loading||m.value||(y.value!==e.checkedValue?L(e.checkedValue):L(e.uncheckedValue))},handleBlur:function(){S.value=!1,function(){const{nTriggerFormBlur:e}=r;e()}(),M.value=!1},handleFocus:function(){S.value=!0,function(){const{nTriggerFormFocus:e}=r;e()}()},handleKeyup:function(t){e.loading||m.value||" "===t.key&&(y.value!==e.checkedValue?L(e.checkedValue):L(e.uncheckedValue),M.value=!1)},handleKeydown:function(t){e.loading||m.value||" "===t.key&&(t.preventDefault(),M.value=!0)},mergedRailStyle:D,pressed:M,mergedClsPrefix:t,mergedValue:y,checked:j,mergedDisabled:m,cssVars:o?void 0:R,themeClass:null==T?void 0:T.themeClass,onRender:null==T?void 0:T.onRender}},render(){const{mergedClsPrefix:e,mergedDisabled:t,checked:o,mergedRailStyle:a,onRender:n,$slots:s}=this;null==n||n();const{checked:d,unchecked:c,icon:u,"checked-icon":h,"unchecked-icon":b}=s,p=!((0,g.yr)(u)&&(0,g.yr)(h)&&(0,g.yr)(b));return(0,l.h)("div",{role:"switch","aria-checked":o,class:[`${e}-switch`,this.themeClass,p&&`${e}-switch--icon`,o&&`${e}-switch--active`,t&&`${e}-switch--disabled`,this.round&&`${e}-switch--round`,this.loading&&`${e}-switch--loading`,this.pressed&&`${e}-switch--pressed`,this.rubberBand&&`${e}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},(0,l.h)("div",{class:`${e}-switch__rail`,"aria-hidden":"true",style:a},(0,g.iQ)(d,(t=>(0,g.iQ)(c,(o=>t||o?(0,l.h)("div",{"aria-hidden":!0,class:`${e}-switch__children-placeholder`},(0,l.h)("div",{class:`${e}-switch__rail-placeholder`},(0,l.h)("div",{class:`${e}-switch__button-placeholder`}),t),(0,l.h)("div",{class:`${e}-switch__rail-placeholder`},(0,l.h)("div",{class:`${e}-switch__button-placeholder`}),o)):null)))),(0,l.h)("div",{class:`${e}-switch__button`},(0,g.iQ)(u,(t=>(0,g.iQ)(h,(o=>(0,g.iQ)(b,(a=>(0,l.h)(i.A,null,{default:()=>this.loading?(0,l.h)(r.A,{key:"loading",clsPrefix:e,strokeWidth:20}):this.checked&&(o||t)?(0,l.h)("div",{class:`${e}-switch__button-icon`,key:o?"checked-icon":"icon"},o||t):this.checked||!a&&!t?null:(0,l.h)("div",{class:`${e}-switch__button-icon`,key:a?"unchecked-icon":"icon"},a||t)}))))))),(0,g.iQ)(d,(t=>t&&(0,l.h)("div",{key:"checked",class:`${e}-switch__checked`},t))),(0,g.iQ)(c,(t=>t&&(0,l.h)("div",{key:"unchecked",class:`${e}-switch__unchecked`},t))))))}})}}]);