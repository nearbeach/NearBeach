"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[2271],{8838:(e,t,o)=>{o.d(t,{A:()=>v});var n,i=o(641),r=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],l=function(e){return-1!==r.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())},a=0,s=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++a+String(t)},d=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},u=function(){return{listeners:[],scriptId:s("tiny-script"),scriptLoaded:!1}},c=(n=u(),{load:function(e,t,o){n.scriptLoaded?o():(n.listeners.push(o),e.getElementById(n.scriptId)||function(e,t,o,i){var r=t.createElement("script");r.referrerPolicy="origin",r.type="application/javascript",r.id=e,r.src=o;var l=function(){r.removeEventListener("load",l),n.listeners.forEach((function(e){return e()})),n.scriptLoaded=!0};r.addEventListener("load",l),t.head&&t.head.appendChild(r)}(n.scriptId,e,t))},reinitialize:function(){n=u()}}),m=function(){var e="undefined"!=typeof window?window:o.g;return e&&e.tinymce?e.tinymce:null},p={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},g=o(953),h=function(){return h=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h.apply(this,arguments)},f={selector:void 0,target:void 0};const v=(0,i.pM)({props:p,setup:function(e,t){var o=e.init?h(h({},e.init),f):h({},f),n=(0,g.QW)(e),r=n.disabled,a=n.modelValue,u=n.tagName,p=(0,g.KR)(null),v=null,b=e.id||s("tiny-vue"),S=e.init&&e.init.inline||e.inline,y=!!t.attrs["onUpdate:modelValue"],k=!0,C=e.initialValue?e.initialValue:"",x="",L=function(){var n,r,s,u=(n=k,y?function(){return(null==a?void 0:a.value)?a.value:""}:function(){return n?C:x}),c=h(h({},o),{readonly:e.disabled,target:p.value,plugins:(r=o.plugins,s=e.plugins,d(r).concat(d(s))),toolbar:e.toolbar||o.toolbar,inline:S,setup:function(n){v=n,n.on("init",(function(o){return function(e,t,o,n,r,a){n.setContent(a()),o.attrs["onUpdate:modelValue"]&&function(e,t,o,n){var r=e.modelEvents?e.modelEvents:null,l=Array.isArray(r)?r.join(" "):r;(0,i.wB)(n,(function(t,n){o&&"string"==typeof t&&t!==n&&t!==o.getContent({format:e.outputFormat})&&o.setContent(t)})),o.on(l||"change input undo redo",(function(){t.emit("update:modelValue",o.getContent({format:e.outputFormat}))}))}(t,o,n,r),function(e,t,o){Object.keys(t).filter(l).forEach((function(n){var i=t[n];"function"==typeof i&&("onInit"===n?i(e,o):o.on(n.substring(2),(function(e){return i(e,o)})))}))}(e,o.attrs,n)}(o,e,t,n,a,u)})),"function"==typeof o.setup&&o.setup(n)}});(function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()})(p.value)&&(p.value.style.visibility=""),m().init(c),k=!1};return(0,i.wB)(r,(function(e){var t;null!==v&&("function"==typeof(null===(t=v.mode)||void 0===t?void 0:t.set)?v.mode.set(e?"readonly":"design"):v.setMode(e?"readonly":"design"))})),(0,i.wB)(u,(function(e){var t;y||(x=v.getContent()),null===(t=m())||void 0===t||t.remove(v),(0,i.dY)((function(){return L()}))})),(0,i.sV)((function(){if(null!==m())L();else if(p.value&&p.value.ownerDocument){var t=e.cloudChannel?e.cloudChannel:"6",o=e.apiKey?e.apiKey:"no-api-key",n=null==e.tinymceScriptSrc?"https://cdn.tiny.cloud/1/".concat(o,"/tinymce/").concat(t,"/tinymce.min.js"):e.tinymceScriptSrc;c.load(p.value.ownerDocument,n,L)}})),(0,i.xo)((function(){null!==m()&&m().remove(v)})),S||((0,i.n)((function(){k||L()})),(0,i.Y4)((function(){var e;y||(x=v.getContent()),null===(e=m())||void 0===e||e.remove(v)}))),t.expose({rerender:function(e){var t;x=v.getContent(),null===(t=m())||void 0===t||t.remove(v),o=h(h(h({},o),e),f),(0,i.dY)((function(){return L()}))},getEditor:function(){return v}}),function(){return S?function(e,t,o,n){return e(n||"div",{id:t,ref:o})}(i.h,b,p,e.tagName):(0,i.h)("textarea",{id:b,visibility:"hidden",ref:p})}}})},1985:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ce});var n=o(641),i=o(33);const r={class:"card"},l={class:"card-body"},a=(0,n.Lk)("h2",null,"Requirement Items",-1),s=(0,n.Lk)("p",{class:"text-instructions"}," Requirements should be broken down into smaller components called Requirement Items. ",-1),d={key:0,class:"requirement-item-spacer"},u=[(0,n.Lk)("div",{class:"alert alert-dark"}," Sorry - there are no Items for this requirement. ",-1)],c={key:1},m={class:"object-card-list"},p={class:"object-card--detail"},g=["onClick"],h={class:"object-card--detail--link"},f={class:"object-card--detail--description"},v={class:"object-card--status"},b={class:"object-card--status--status"},S={class:"small-text"};var y=o(9336),k=o(2124),C=o(3751);const x={class:"modal fade",id:"item_modal",tabindex:"-1",role:"dialog","aria-hidden":"true"},L={class:"modal-dialog modal-xl"},I={class:"modal-content"},M=(0,n.Lk)("div",{class:"modal-header"},[(0,n.Lk)("h2",null,"Requirement Item Information"),(0,n.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),A={class:"modal-body"},w={class:"row"},q=(0,n.Lk)("div",{class:"col-md-4"},[(0,n.Lk)("h2",null,"Description"),(0,n.Lk)("p",{class:"text-instructions"}," Requirement Items should be detailed. They should only focus on one small section of the requirement. ")],-1),R={class:"col-md-8",style:{"min-height":"610px"}},_={class:"form-group"},E=(0,n.Lk)("label",{for:"requirement_item_title"}," Requirement Item Title: ",-1),z={class:"form-group"},D=(0,n.Lk)("label",null," Requirement Item Scope: ",-1),F=(0,n.Lk)("br",null,null,-1),T=["src"],U=(0,n.Lk)("hr",null,null,-1),j={class:"row"},H=(0,n.Lk)("div",{class:"col-md-4"},[(0,n.Lk)("h2",null,"Stakeholder")],-1),O={class:"col-md-8 organisation-details"},P=["src"],$={class:"organisation-name"},B={class:"organisation-link"},Q=["href"],V={class:"organisation-email"},W=["href"],X=(0,n.Lk)("hr",null,null,-1),N={class:"row"},K=(0,n.Lk)("div",{class:"col-md-4"},[(0,n.Lk)("h2",null,"Status"),(0,n.Lk)("p",{class:"text-instructions"}," Set the Requirement Status and Type here. ")],-1),G={class:"col-md-4"},Y={class:"form-group"},J=(0,n.Lk)("label",null,"Requirement Status",-1),Z={class:"col-md-4"},ee={class:"form-group"},te=(0,n.Lk)("label",null,"Requirement Type",-1),oe=(0,n.Lk)("div",{class:"modal-footer"},[(0,n.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ")],-1);var ne=o(8838),ie=o(1080),re=o(3980);const le={name:"PublicRequirementItemInformation",components:{CarbonEmail:re.G2,CarbonLink:re.wX,editor:ne.A,NSelect:ie.A},props:{requirementItemResults:{type:Array,default:()=>[]},organisationResults:{type:Array,default:()=>[]},defaultStakeholderImage:{type:String,default:"/"},statusList:{type:Array,default:()=>[]},typeList:{type:Array,default:()=>[]}},data:()=>({requirementItemScopeModel:"",requirementItemTitleModel:"",stakeholderModel:"",statusFixList:[],statusModel:"",typeFixList:[],typeModel:""}),computed:{...(0,k.L8)({contentCss:"getContentCss",rootUrl:"getRootUrl",skin:"getSkin",staticUrl:"getStaticUrl"}),getStakeholderImage(){const e=this.stakeholderModel.organisation_profile_picture;return""===e||null===e?this.defaultStakeholderImage:`${this.rootUrl}private/${this.stakeholderModel.organisation_profile_picture}`}},watch:{requirementItemResults(e){0!==this.requirementItemResults.length&&(this.requirementItemScopeModel=e[0].fields.requirement_item_scope,this.requirementItemTitleModel=e[0].fields.requirement_item_title,this.stakeholderModel=this.organisationResults[0].fields,this.statusModel=e[0].fields.requirement_item_status,this.typeModel=e[0].fields.requirement_item_type)}},mounted(){this.statusFixList=this.statusList.map((e=>({value:e.pk,label:e.fields.requirement_item_status}))),this.typeFixList=this.typeList.map((e=>({value:e.pk,label:e.fields.requirement_item_type})))}};var ae=o(6262);const se=(0,ae.A)(le,[["render",function(e,t,o,r,l,a){const s=(0,n.g2)("editor"),d=(0,n.g2)("carbon-link"),u=(0,n.g2)("carbon-email"),c=(0,n.g2)("n-select");return(0,n.uX)(),(0,n.CE)("div",x,[(0,n.Lk)("div",L,[(0,n.Lk)("div",I,[M,(0,n.Lk)("div",A,[(0,n.Lk)("div",w,[(0,n.Q3)(" Description "),q,(0,n.Q3)(" Requirement item information "),(0,n.Lk)("div",R,[(0,n.Lk)("div",_,[E,(0,n.bo)((0,n.Lk)("input",{id:"requirement_item_title","onUpdate:modelValue":t[0]||(t[0]=e=>l.requirementItemTitleModel=e),class:"form-control",type:"text",disabled:""},null,512),[[C.vModelText,l.requirementItemTitleModel]])]),(0,n.Lk)("div",z,[D,F,(0,n.Lk)("img",{src:`${e.staticUrl}NearBeach/images/placeholder/body_text.svg`,class:"loader-image",alt:"loading image for Tinymce"},null,8,T),(0,n.bF)(s,{"license-key":"gpl",init:{license_key:"gpl",height:500,menubar:!1,plugins:["lists","image","codesample","table"],toolbar:"undo redo | blocks | bold italic strikethrough underline backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | table image codesample",skin:`${this.skin}`,content_css:`${this.contentCss}`,relative_urls:!1},modelValue:l.requirementItemScopeModel,"onUpdate:modelValue":t[1]||(t[1]=e=>l.requirementItemScopeModel=e),disabled:!0},null,8,["init","modelValue"])])])]),(0,n.Q3)(" Stakeholder Information "),U,(0,n.Lk)("div",j,[(0,n.Q3)(" Description "),H,(0,n.Lk)("div",O,[(0,n.Lk)("img",{src:a.getStakeholderImage,alt:"Stakeholder Logo",class:"organisation-image"},null,8,P),(0,n.Lk)("div",$,(0,i.toDisplayString)(l.stakeholderModel.organisation_name),1),(0,n.Lk)("div",B,[(0,n.bF)(d),(0,n.eW)(" Website: "),(0,n.Lk)("a",{href:l.stakeholderModel.organisation_website,target:"_blank",rel:"noopener noreferrer"},(0,i.toDisplayString)(l.stakeholderModel.organisation_website),9,Q)]),(0,n.Lk)("div",V,[(0,n.bF)(u),(0,n.eW)(" Email: "),(0,n.Lk)("a",{href:`mailto:${l.stakeholderModel.organisation_email}`},(0,i.toDisplayString)(l.stakeholderModel.organisation_email),9,W)])])]),(0,n.Q3)(" Status "),X,(0,n.Lk)("div",N,[K,(0,n.Lk)("div",G,[(0,n.Lk)("div",Y,[J,(0,n.bF)(c,{options:l.statusFixList,label:"status",value:l.statusModel,"onUpdate:value":t[2]||(t[2]=e=>l.statusModel=e),disabled:""},null,8,["options","value"])])]),(0,n.Lk)("div",Z,[(0,n.Lk)("div",ee,[te,(0,n.bF)(c,{options:l.typeFixList,label:"type",value:l.typeModel,"onUpdate:value":t[3]||(t[3]=e=>l.typeModel=e),disabled:""},null,8,["options","value"])])])])]),oe])])])}]]);var de=o(246);const ue={name:"PublicRequirementItemList",components:{PublicRequirementItemInformation:se},props:{requirementItemResults:{type:Array,default:()=>[]},organisationResults:{type:Array,default:()=>[]},defaultStakeholderImage:{type:String,default:"/"},statusList:{type:Array,default:()=>[]},typeList:{type:Array,default:()=>[]}},data:()=>({selectedReqirementItem:[]}),computed:{...(0,k.L8)({contentCss:"getContentCss",rootUrl:"getRootUrl",skin:"getSkin",staticUrl:"getStaticUrl",userLevel:"getUserLevel",theme:"getTheme"}),getStakeholderImage(){const e=this.stakeholderModel.organisation_profile_picture;return""===e||null===e?this.defaultStakeholderImage:`${this.rootUrl}private/${this.stakeholderModel.organisation_profile_picture}`}},methods:{useNiceDatetime:de.y,getStatus(e){const t=this.statusList.filter((t=>parseInt(t.pk)===parseInt(e)));return 0===t.length?"Unknown":t[0].fields.requirement_item_status},requirementItemClicked(e){this.selectedReqirementItem=[e],new y.aF(document.getElementById("item_modal")).show()}}},ce=(0,ae.A)(ue,[["render",function(e,t,o,y,k,C){const x=(0,n.g2)("public-requirement-item-information");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("div",l,[a,s,(0,n.Q3)(" TABLE OF REQUIREMENT ITEMS "),0===o.requirementItemResults.length?((0,n.uX)(),(0,n.CE)("div",d,u)):((0,n.uX)(),(0,n.CE)("div",c,[(0,n.Lk)("div",m,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.requirementItemResults,(e=>((0,n.uX)(),(0,n.CE)("div",{class:"object-card",key:e.pk},[(0,n.Lk)("div",p,[(0,n.Lk)("a",{href:"javascript:void(0)",onClick:t=>C.requirementItemClicked(e)},[(0,n.Lk)("div",h," RI-"+(0,i.toDisplayString)(e.pk),1),(0,n.Lk)("div",f,(0,i.toDisplayString)(e.fields.requirement_item_title),1)],8,g)]),(0,n.Lk)("div",v,[(0,n.Lk)("div",b,(0,i.toDisplayString)(C.getStatus(e.fields.requirement_item_status)),1),(0,n.Lk)("p",S,(0,i.toDisplayString)(C.useNiceDatetime(e.fields.requirement_item_end_date)),1)])])))),128))])])),(0,n.Q3)(" REQUIREMENT ITEM MODAL "),(0,n.bF)(x,{"requirement-item-results":e.selectedReqirementItem,"organisation-results":o.organisationResults,"default-stakeholder-image":o.defaultStakeholderImage,"status-list":o.statusList,"type-list":o.typeList},null,8,["requirement-item-results","organisation-results","default-stakeholder-image","status-list","type-list"])])])}]])},246:(e,t,o)=>{o.d(t,{y:()=>r});var n=o(6285),i=o(953);function r(e){const t=(0,i.BA)(e);return""===t||null==t?"":n.c9.fromISO(t).toLocaleString(n.c9.DATETIME_MED)}},707:(e,t,o)=>{o.d(t,{A:()=>d,b:()=>s});var n=o(1841),i=o(5219),r=o(8880);const l={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"};var a=o(9359);const s=e=>{const{borderRadius:t,popoverColor:o,textColor3:n,dividerColor:i,textColor2:r,primaryColorPressed:a,textColorDisabled:s,primaryColor:d,opacityDisabled:u,hoverColor:c,fontSizeSmall:m,fontSizeMedium:p,fontSizeLarge:g,fontSizeHuge:h,heightSmall:f,heightMedium:v,heightLarge:b,heightHuge:S}=e;return Object.assign(Object.assign({},l),{optionFontSizeSmall:m,optionFontSizeMedium:p,optionFontSizeLarge:g,optionFontSizeHuge:h,optionHeightSmall:f,optionHeightMedium:v,optionHeightLarge:b,optionHeightHuge:S,borderRadius:t,color:o,groupHeaderTextColor:n,actionDividerColor:i,optionTextColor:r,optionTextColorPressed:a,optionTextColorDisabled:s,optionTextColorActive:d,optionOpacityDisabled:u,optionCheckColor:d,optionColorPending:c,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:c,actionTextColor:r,loadingColor:d})},d=(0,a.a)({name:"InternalSelectMenu",common:r.A,peers:{Scrollbar:i.A,Empty:n.A},self:s})},2719:(e,t,o)=>{o.d(t,{A:()=>n});const n={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"}},5991:(e,t,o)=>{o.d(t,{A:()=>a});var n=o(4484),i=o(8880),r=o(7765),l=o(2719);const a=(0,o(9359).a)({name:"InternalSelection",common:i.A,peers:{Popover:r.A},self:e=>{const{borderRadius:t,textColor2:o,textColorDisabled:i,inputColor:r,inputColorDisabled:a,primaryColor:s,primaryColorHover:d,warningColor:u,warningColorHover:c,errorColor:m,errorColorHover:p,borderColor:g,iconColor:h,iconColorDisabled:f,clearColor:v,clearColorHover:b,clearColorPressed:S,placeholderColor:y,placeholderColorDisabled:k,fontSizeTiny:C,fontSizeSmall:x,fontSizeMedium:L,fontSizeLarge:I,heightTiny:M,heightSmall:A,heightMedium:w,heightLarge:q}=e;return Object.assign(Object.assign({},l.A),{fontSizeTiny:C,fontSizeSmall:x,fontSizeMedium:L,fontSizeLarge:I,heightTiny:M,heightSmall:A,heightMedium:w,heightLarge:q,borderRadius:t,textColor:o,textColorDisabled:i,placeholderColor:y,placeholderColorDisabled:k,color:r,colorDisabled:a,colorActive:r,border:`1px solid ${g}`,borderHover:`1px solid ${d}`,borderActive:`1px solid ${s}`,borderFocus:`1px solid ${d}`,boxShadowHover:"none",boxShadowActive:`0 0 0 2px ${(0,n.QX)(s,{alpha:.2})}`,boxShadowFocus:`0 0 0 2px ${(0,n.QX)(s,{alpha:.2})}`,caretColor:s,arrowColor:h,arrowColorDisabled:f,loadingColor:s,borderWarning:`1px solid ${u}`,borderHoverWarning:`1px solid ${c}`,borderActiveWarning:`1px solid ${u}`,borderFocusWarning:`1px solid ${c}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 0 2px ${(0,n.QX)(u,{alpha:.2})}`,boxShadowFocusWarning:`0 0 0 2px ${(0,n.QX)(u,{alpha:.2})}`,colorActiveWarning:r,caretColorWarning:u,borderError:`1px solid ${m}`,borderHoverError:`1px solid ${p}`,borderActiveError:`1px solid ${m}`,borderFocusError:`1px solid ${p}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 0 2px ${(0,n.QX)(m,{alpha:.2})}`,boxShadowFocusError:`0 0 0 2px ${(0,n.QX)(m,{alpha:.2})}`,colorActiveError:r,caretColorError:m,clearColor:v,clearColorHover:b,clearColorPressed:S})}})},1841:(e,t,o)=>{o.d(t,{A:()=>l,b:()=>r});const n={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"};var i=o(8880);const r=e=>{const{textColorDisabled:t,iconColor:o,textColor2:i,fontSizeSmall:r,fontSizeMedium:l,fontSizeLarge:a,fontSizeHuge:s}=e;return Object.assign(Object.assign({},n),{fontSizeSmall:r,fontSizeMedium:l,fontSizeLarge:a,fontSizeHuge:s,textColor:t,iconColor:o,extraTextColor:i})},l={name:"Empty",common:i.A,self:r}},7765:(e,t,o)=>{o.d(t,{A:()=>l,b:()=>r});var n=o(8880);const i={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},r=e=>{const{boxShadow2:t,popoverColor:o,textColor2:n,borderRadius:r,fontSize:l,dividerColor:a}=e;return Object.assign(Object.assign({},i),{fontSize:l,borderRadius:r,color:o,dividerColor:a,textColor:n,boxShadow:t})},l={name:"Popover",common:n.A,self:r}},2414:(e,t,o)=>{o.d(t,{A:()=>a,b:()=>l});var n=o(5991),i=o(707),r=o(8880);function l(e){const{boxShadow2:t}=e;return{menuBoxShadow:t}}const a=(0,o(9359).a)({name:"Select",common:r.A,peers:{InternalSelection:n.A,InternalSelectMenu:i.A},self:l})},9166:(e,t,o)=>{o.d(t,{A:()=>n});const n={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px"}}}]);